(globalThis.webpackChunk_openmrs_esm_generic_patient_widgets_app=globalThis.webpackChunk_openmrs_esm_generic_patient_widgets_app||[]).push([[754],{2288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(272),a=n.n(r),i=n(2609),o=n.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-generic-patient-widgets__obs-graph__label01___nqHbU,.-esm-generic-patient-widgets__obs-graph__conceptLabel___JcAin{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-generic-patient-widgets__obs-graph__bodyShort01___MXPMj{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-generic-patient-widgets__obs-graph__graphContainer___peSeT{display:flex;margin:0rem 1rem;flex-direction:row;justify-content:space-between}.-esm-generic-patient-widgets__obs-graph__conceptPickerTabs___Gk0Ph{flex-grow:1;margin:.5rem 0;padding-right:1rem}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve{flex-grow:4;padding:0 1rem 3rem}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve .cds--cc--layout-row{height:0}.-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve .layout-child{margin-top:.5rem}.-esm-generic-patient-widgets__obs-graph__conceptLabel___JcAin{margin-bottom:1rem;display:inline-block}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw{margin:1rem 0;scroll-behavior:smooth}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw>ul{flex-direction:column !important}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw .cds--tabs--scrollable .cds--tabs--scrollable__nav-item+.cds--tabs--scrollable__nav-item{margin-left:0rem}.-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw .cds--tabs--scrollable .cds--tabs--scrollable__nav-link{border-bottom:0 !important;border-left:2px solid #c6c6c6}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi{outline:0;outline-offset:0}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi:active,.-esm-generic-patient-widgets__obs-graph__tab___dw7mi:focus{outline:2px solid var(--brand-03) !important}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi[aria-selected=true]{border-left:3px solid var(--brand-03);border-bottom:none;font-weight:600;margin-left:0rem !important}.-esm-generic-patient-widgets__obs-graph__tab___dw7mi[aria-selected=false]{border-bottom:none;border-left:2px solid #e0e0e0;margin-left:0rem !important}.-esm-generic-patient-widgets__obs-graph__tablist___f25Mm .cds--tab--list{flex-direction:column;max-height:fit-content;overflow-x:visible}.-esm-generic-patient-widgets__obs-graph__tablist___f25Mm>button .cds--tabs .cds--tabs__nav-link{border-bottom:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/obs-graph/obs-graph.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yHCs0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDl0BJ,8DCk0BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CD9zBJ,iEACE,YAAA,CACA,gBAAA,CACA,kBAAA,CACA,6BAAA,CAGF,oEACE,WAAA,CACA,cAAA,CACA,kBESW,CFNb,qEACE,WAAA,CACA,mBAAA,CAEA,0FACE,QAAA,CAGF,mFACE,gBEbS,CFiBb,+DAEE,kBETW,CFUX,oBAAA,CAGF,+DACE,aAAA,CACA,sBAAA,CAEA,kEACE,gCAAA,CAGF,wJACE,gBAAA,CAGF,uHACE,0BAAA,CACA,6BAAA,CAIJ,sDACE,SAAA,CACA,gBAAA,CAEA,yHACE,4CAAA,CAGF,0EACE,qCAAA,CACA,kBAAA,CACA,eAAA,CACA,2BAAA,CAGF,2EACE,kBAAA,CACA,6BAAA,CACA,2BAAA,CAKF,0EACE,qBAAA,CACA,sBAAA,CACA,kBAAA,CAGF,iGACE,kBAAA",sourceRoot:""}]),o.locals={label01:"-esm-generic-patient-widgets__obs-graph__label01___nqHbU",conceptLabel:"-esm-generic-patient-widgets__obs-graph__conceptLabel___JcAin",bodyShort01:"-esm-generic-patient-widgets__obs-graph__bodyShort01___MXPMj",graphContainer:"-esm-generic-patient-widgets__obs-graph__graphContainer___peSeT",conceptPickerTabs:"-esm-generic-patient-widgets__obs-graph__conceptPickerTabs___Gk0Ph",lineChartContainer:"-esm-generic-patient-widgets__obs-graph__lineChartContainer___DWcve",verticalTabs:"-esm-generic-patient-widgets__obs-graph__verticalTabs___PGFpw",tab:"-esm-generic-patient-widgets__obs-graph__tab___dw7mi",tablist:"-esm-generic-patient-widgets__obs-graph__tablist___f25Mm"};const s=o},2713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(272),a=n.n(r),i=n(2609),o=n.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-generic-patient-widgets__obs-switchable__widgetContainer___MDvE6{background-color:#fff;border:1px solid #e0e0e0}.-esm-generic-patient-widgets__obs-switchable__headerContainer___Nd3VW{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.-esm-generic-patient-widgets__obs-switchable__toggleButtons___ObgOI{width:fit-content;margin:0 .5rem}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg{padding:.5rem;color:#0f62fe;min-height:0px}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary{border-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--tooltip__trigger:active:not([disabled]){border-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary:active{border-color:#0f62fe;background-color:#edf5ff;color:#edf5ff}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary:focus{background-color:#0f62fe;color:#fff}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--tertiary:hover{color:#fff;background-color:#0f62fe}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--ghost{border-color:#a6c8ff}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg.cds--btn--ghost:hover{color:#000;background-color:#f4f4f4}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:first-of-type{border-radius:.25rem 0 0 .25rem}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:first-of-type.cds--btn--ghost{border-right:0}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:last-of-type{border-radius:0 .25rem .25rem 0}.-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg:last-of-type.cds--btn--ghost{border-left:0rem}.-esm-generic-patient-widgets__obs-switchable__widgetContainer___MDvE6{background-color:#fff;position:relative}.-esm-generic-patient-widgets__obs-switchable__headerActionItems___yfiRq{align-items:center;display:flex;flex:1 1 0%;justify-content:end}.-esm-generic-patient-widgets__obs-switchable__backgroundDataFetchingIndicator___V8vgZ{align-items:center;display:flex;flex:1 1 0%;justify-content:end}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/obs-switchable/obs-switchable.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,uEACE,qBDGc,CCFd,wBAAA,CAGF,uEACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CAGF,qEACE,iBAAA,CACA,cAAA,CAGF,8DACE,aAAA,CACA,aDDe,CCEf,cAAA,CAEA,iFACE,oBDLa,CCQf,2GACE,oBDTa,CCYf,wFACE,oBDba,CCcb,wBAAA,CACA,aAAA,CAGF,uFACE,wBDnBa,CCoBb,UDlCY,CCqCd,uFACE,UDtCY,CCuCZ,wBDzBa,CC4Bf,8EACE,oBAAA,CAGF,oFACE,UAAA,CACA,wBDvDI,CC2DR,4EACE,+BAAA,CAEA,4FACE,cAAA,CAIJ,2EACE,+BAAA,CAEA,2FACE,gBAAA,CAIJ,uEACE,qBDrEc,CCsEd,iBAAA,CAGF,yEACE,kBAAA,CACA,YAAA,CACA,WAAA,CACA,mBAAA,CAGF,uFACE,kBAAA,CACA,YAAA,CACA,WAAA,CACA,mBAAA",sourceRoot:""}]),o.locals={widgetContainer:"-esm-generic-patient-widgets__obs-switchable__widgetContainer___MDvE6",headerContainer:"-esm-generic-patient-widgets__obs-switchable__headerContainer___Nd3VW",toggleButtons:"-esm-generic-patient-widgets__obs-switchable__toggleButtons___ObgOI",toggle:"-esm-generic-patient-widgets__obs-switchable__toggle___IoDvg",headerActionItems:"-esm-generic-patient-widgets__obs-switchable__headerActionItems___yfiRq",backgroundDataFetchingIndicator:"-esm-generic-patient-widgets__obs-switchable__backgroundDataFetchingIndicator___V8vgZ"};const s=o},3590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(272),a=n.n(r),i=n(2609),o=n.n(i)()(a());o.push([e.id,".-esm-generic-patient-widgets__obs-table__customRow___Kp7z_ tbody{white-space:nowrap}.-esm-generic-patient-widgets__obs-table__tableHeader___i_IBK{width:max-content;max-width:300px}","",{version:3,sources:["webpack://./src/obs-table/obs-table.scss"],names:[],mappings:"AAAA,kEACE,kBAAA,CAGF,8DACE,iBAAA,CACA,eAAA",sourceRoot:""}]),o.locals={customRow:"-esm-generic-patient-widgets__obs-table__customRow___Kp7z_",tableHeader:"-esm-generic-patient-widgets__obs-table__tableHeader___i_IBK"};const s=o},9754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{importTranslation:()=>X,startupApp:()=>ne,switchableObs:()=>te});var r=n(2870),a={title:{_type:r.Type.String,_description:"Displayed at the top of the widget.",_default:"Vitals"},resultsName:{_type:r.Type.String,_description:"Displayed in messages about this data.",_default:"results"},graphOldestFirst:{_type:r.Type.Boolean,_description:"Show graph values from most oldest to recent",_default:!1},interpretationSlot:{_type:r.Type.String,_description:"Interpretation slot to display bellow the graph in obs graph widget.",_default:""},data:{_type:r.Type.Array,_elements:{concept:{_type:r.Type.ConceptUuid},label:{_type:r.Type.String,_default:null,_description:"The text to display. Defaults to the concept display name."},color:{_type:r.Type.String,_default:"blue",_description:"The color of the line to display in the line graph."},decimalPlaces:{_type:r.Type.Number,_validator:[r.validators.inRange(0,10)]}},_default:[{label:"Height",concept:"5090AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",color:"red"},{label:"Weight",concept:"5089AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",color:"blue"}]},table:{pageSize:{_type:r.Type.Number,_default:5}},showGraphByDefault:{_type:r.Type.Boolean,_description:"Displayed graph by default",_default:!1},encounterTypes:{_type:r.Type.Array,_description:"Encounter types used to filter the requests",_elements:{_type:r.Type.String},_default:[]},dateFormat:{_type:r.Type.String,_description:"Type of display for data",_default:"dateTime"},showEncounterType:{_type:r.Type.Boolean,_description:"Display Encounter type column",_default:!1}},i=n(7900),o=n.n(i),s=n(4924),l=n(406),c=n(4800),d=n(240),A=n(4556),_=n(3255);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,r.useConfig)(),o=i.encounterTypes,s=i.data,l=o.length?"&encounter.type=".concat(o.toString()):"",c="".concat(r.fhirBaseUrl,"/Observation?subject:Patient=").concat(e,"&code=").concat(s.map((function(e){return e.concept})).join(","),"&_summary=data&_sort=-date&_count=").concat(100).concat(l);a&&(c+="&_include=Observation:encounter");var d=(0,_.ZP)(c,r.openmrsFetch),A=d.data,u=d.error,p=d.isLoading,m=d.isValidating,f=a?b(null==A||null===(t=A.data)||void 0===t?void 0:t.entry):[],y=g(null==A||null===(n=A.data)||void 0===n?void 0:n.entry,f);return{data:y,error:u,isLoading:p,isValidating:m}}function g(e,t){var n;return(null==e||null===(n=e.filter((function(e){var t;return"Observation"===(null==e||null===(t=e.resource)||void 0===t?void 0:t.resourceType)})))||void 0===n?void 0:n.map((function(e){var n,r,a,i,o=e.resource,s=(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},o),i=null!=(i={conceptUuid:null===(n=o.code.coding.find((function(e){return 36===e.code.length})))||void 0===n?void 0:n.code})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(i)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})),a);return o.hasOwnProperty("valueDateTime")&&(s.dataType="DateTime"),e.resource.hasOwnProperty("valueString")&&(s.dataType="Text"),e.resource.hasOwnProperty("valueQuantity")&&(s.dataType="Number"),e.resource.hasOwnProperty("valueCodeableConcept")&&(s.dataType="Coded"),s.encounter.name=null===(r=t.find((function(e){return e.reference===o.encounter.reference})))||void 0===r?void 0:r.display,s})))||[]}function b(e){return null==e?void 0:e.filter((function(e){var t;return"Encounter"===(null==e||null===(t=e.resource)||void 0===t?void 0:t.resourceType)})).map((function(e){var t,n,r,a;return{reference:"Encounter/".concat(e.resource.id),display:(null===(a=e.resource.type)||void 0===a||null===(r=a[0])||void 0===r||null===(n=r.coding)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.display)||"--"}}))}var m=n(2779),f=n.n(m),y=n(419),h=n(1354),C=n.n(h),v=n(1583),w=n.n(v),E=n(7378),D=n.n(E),T=n(5993),O=n.n(T),B=n(4154),S=n.n(B),k=n(8141),j=n.n(k),P=n(2288),F={};F.styleTagTransform=j(),F.setAttributes=O(),F.insert=D().bind(null,"head"),F.domAPI=w(),F.insertStyleElement=S(),C()(P.Z,F);const I=P.Z&&P.Z.locals?P.Z.locals:void 0;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N;!function(e){e.TIME="time",e.LINEAR="linear",e.LOG="log",e.LABELS="labels",e.LABELS_RATIO="labels-ratio"}(N||(N={}));const G=function(e){var t,n,a,c,d=e.patientUuid,A=(0,s.useTranslation)().t,_=(0,r.useConfig)(),u=p(d).data,g=(a=o().useState({label:null===(t=_.data[0])||void 0===t?void 0:t.label,uuid:null===(n=_.data[0])||void 0===n?void 0:n.concept}),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(a,c)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=g[0],m=g[1],h=(0,i.useMemo)((function(){var e=u.filter((function(e){return e.conceptUuid===b.uuid&&"Number"===e.dataType})).map((function(e){return{group:b.label,key:(0,r.formatDate)(new Date(e.effectiveDateTime),{year:!0,time:!1}),value:e.valueQuantity.value}}));return _.graphOldestFirst&&e.reverse(),e}),[u,_.graphOldestFirst,b.uuid,b.label]),C=Object.fromEntries(_.data.map((function(e){return[e.label,e.color]}))),v={axes:{bottom:{title:"Date",mapsTo:"key",scaleType:"labels"},left:{mapsTo:"value",title:b.label,scaleType:"linear",includeZero:!1}},legend:{enabled:!1},color:{scale:C},height:"400px"};return o().createElement(o().Fragment,null,o().createElement("div",{className:I.graphContainer},o().createElement("div",{className:I.conceptPickerTabs},o().createElement("label",{className:I.conceptLabel,htmlFor:"concept-tab-group"},A("displaying","Displaying")),o().createElement(l.mQc,{id:"concept-tab-group",className:I.verticalTabs,type:"default"},o().createElement(l.tdY,{className:I.tablist,"aria-label":"Obs tabs"},_.data.map((function(e,t){var n,r,a,i=e.concept,s=e.label,c=f()(I.tab,I.bodyLong01,(n={},r=I.selectedTab,a=b.label===s,r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n));return o().createElement(l.OK9,{key:i,className:c,onClick:function(){return m({label:s,uuid:i})}},s)}))))),o().createElement("div",{className:I.lineChartContainer},o().createElement(y.LineChart,{data:h.flat(),options:v}))),_.interpretationSlot?o().createElement("div",null,o().createElement(r.ExtensionSlot,{name:_.interpretationSlot,style:{gridTemplateColumns:"1fr"}})):null)};var U=n(3590),Z={};Z.styleTagTransform=j(),Z.setAttributes=O(),Z.insert=D().bind(null,"head"),Z.domAPI=w(),Z.insertStyleElement=S(),C()(U.Z,Z);const L=U.Z&&U.Z.locals?U.Z.locals:void 0;function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){z(e,t,n[t])}))}return e}function R(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const q=function(e){var t=e.patientUuid,n=(0,s.useTranslation)().t,a=(0,r.useConfig)(),i=p(t,a.showEncounterType),c=i.data,d=(i.error,i.isLoading,i.isValidating,R(new Set(c.map((function(e){return e.issued})))).sort().map((function(e){return c.filter((function(t){return t.issued===e}))}))),_=[{key:"date",header:n("dateAndTime","Date and time"),isSortable:!0}].concat(R(a.data.map((function(e){return{key:e.concept,header:e.label}}))));a.showEncounterType&&_.splice(1,0,{key:"encounter",header:n("encounterType","Encounter type"),isSortable:!0});var u=o().useMemo((function(){return null==d?void 0:d.map((function(e,t){var n={id:"".concat(t),date:(0,r.formatDatetime)(new Date(e[0].effectiveDateTime),{mode:"wide"}),encounter:e[0].encounter.name},i=!0,o=!1,s=void 0;try{for(var l,c=function(){var e=l.value;switch(e.dataType){case"Text":n[e.conceptUuid]=e.valueString;break;case"Number":var t,i,o,s,c,d=null===(t=a.data.find((function(t){return t.concept===e.conceptUuid})))||void 0===t?void 0:t.decimalPlaces;(null===(i=e.valueQuantity)||void 0===i?void 0:i.value)%1!=0?n[e.conceptUuid]=d>0?null===(o=e.valueQuantity)||void 0===o?void 0:o.value.toFixed(d):null===(s=e.valueQuantity)||void 0===s?void 0:s.value.toFixed(2):n[e.conceptUuid]=null===(c=e.valueQuantity)||void 0===c?void 0:c.value;break;case"Coded":var A,_;n[e.conceptUuid]=null===(_=e.valueCodeableConcept)||void 0===_||null===(A=_.coding[0])||void 0===A?void 0:A.display;break;case"DateTime":"dateTime"===(null==a?void 0:a.dateFormat)?n[e.conceptUuid]=(0,r.formatDatetime)(new Date(e.valueDateTime),{mode:"standard"}):"time"===(null==a?void 0:a.dateFormat)?n[e.conceptUuid]=(0,r.formatTime)(new Date(e.valueDateTime)):"date"===(null==a?void 0:a.dateFormat)?n[e.conceptUuid]=(0,r.formatDate)(new Date(e.valueDateTime),{mode:"standard"}):n[e.conceptUuid]=(0,r.formatDatetime)(new Date(e.valueDateTime),{mode:"standard"})}},d=e[Symbol.iterator]();!(i=(l=d.next()).done);i=!0)c()}catch(e){o=!0,s=e}finally{try{i||null==d.return||d.return()}finally{if(o)throw s}}return n}))}),[a,d]),g=(0,r.usePagination)(u,a.table.pageSize),b=g.results,m=g.goTo,f=g.currentPage;return o().createElement("div",null,o().createElement(l.wQF,{rows:b,headers:_,isSortable:!0,size:"sm",useZebraStyles:!0},(function(e){var t,n,r=e.rows,a=e.headers,i=e.getHeaderProps,s=e.getTableProps;return o().createElement(l.xJi,null,o().createElement(l.iA_,(t=H({},s()),n=null!=(n={className:L.customRow})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t),o().createElement(l.ssF,null,o().createElement(l.SCH,null,a.map((function(e){var t,n;return o().createElement(l.xDH,H({className:L.tableHeader},i({header:e,isSortable:e.isSortable})),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),o().createElement(l.RMI,null,r.map((function(e){return o().createElement(l.SCH,{key:e.id},e.cells.map((function(e){var t,n,r;return o().createElement(l.pj1,{key:e.id},null!==(r=null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)&&void 0!==r?r:"--")})))})))))})),o().createElement(A.PatientChartPagination,{pageNumber:f,totalItems:u.length,currentItems:b.length,pageSize:a.table.pageSize,onPageNumberChange:function(e){var t=e.page;return m(t)}}))};var V=n(2713),W={};W.styleTagTransform=j(),W.setAttributes=O(),W.insert=D().bind(null,"head"),W.domAPI=w(),W.insertStyleElement=S(),C()(V.Z,W);const J=V.Z&&V.Z.locals?V.Z.locals:void 0;function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}var X=n(3979),$="@openmrs/esm-generic-patient-widgets-app",ee={featureName:"Generic widgets",moduleName:$},te=(0,r.getSyncLifecycle)((function(e){var t,n,a=e.patientUuid,i=(0,s.useTranslation)().t,_=(0,r.useConfig)(),u=(t=o().useState(_.showGraphByDefault),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=u[0],b=u[1],m=p(a),f=m.data,y=m.error,h=m.isLoading,C=m.isValidating,v=f.find((function(e){return"Number"===e.dataType}));return o().createElement(o().Fragment,null,h?o().createElement(l.gqd,{role:"progressbar"}):y?o().createElement(A.ErrorState,{error:y,headerTitle:_.title}):(null==f?void 0:f.length)?o().createElement("div",{className:J.widgetContainer},o().createElement(A.CardHeader,{title:_.title},o().createElement("div",{className:J.backgroundDataFetchingIndicator},o().createElement("span",null,C?o().createElement(l.lSo,null):null)),v?o().createElement("div",{className:J.headerActionItems},o().createElement("div",{className:J.toggleButtons},o().createElement(l.zxk,{className:J.toggle,size:"md",kind:g?"ghost":"tertiary",hasIconOnly:!0,renderIcon:function(e){return o().createElement(c.iA,K({size:16},e))},iconDescription:i("tableView","Table View"),onClick:function(){return b(!1)}}),o().createElement(l.zxk,{className:J.toggle,size:"md",kind:g?"tertiary":"ghost",hasIconOnly:!0,renderIcon:function(e){return o().createElement(d.eA,K({size:16},e))},iconDescription:i("chartView","Chart View"),onClick:function(){return b(!0)}}))):null),g&&v?o().createElement(G,{patientUuid:a}):o().createElement(q,{patientUuid:a})):o().createElement(A.EmptyState,{displayText:_.resultsName,headerTitle:_.title}))}),ee);function ne(){(0,r.defineExtensionConfigSchema)($,a)}},3979:(e,t,n)=>{var r={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=3979,e.exports=a}}]);