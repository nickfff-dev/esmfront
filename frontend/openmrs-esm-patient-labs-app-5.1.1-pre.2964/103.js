"use strict";(globalThis.webpackChunk_openmrs_esm_patient_labs_app=globalThis.webpackChunk_openmrs_esm_patient_labs_app||[]).push([[103],{2423:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(272),l=n.n(a),r=n(2609),i=n.n(r)()(l());i.push([e.id,"@media screen{.-esm-patient-labs__print-modal__printPage___DscMd{background-color:#fff;display:none}}.-esm-patient-labs__print-modal__header___pNtRD{display:flex;align-items:center;justify-content:space-between;background-color:#fff}.-esm-patient-labs__print-modal__patientDetails___RAIuU{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);margin:0 .5rem}.-esm-patient-labs__print-modal__patientInfo___j8scn{color:#393939;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-labs__print-modal__name___zgyf1{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-right:.5rem}.-esm-patient-labs__print-modal__date___J0Cur{margin-left:1.5rem}.-esm-patient-labs__print-modal__gender___EXPpN{text-transform:capitalize}.-esm-patient-labs__print-modal__printedBy___p0D3v{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);margin:0 .25rem;font-size:smaller}.-esm-patient-labs__print-modal__subheader___cxCw4{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);color:#525252;padding:.5rem;text-align:center}@media print{@page{size:auto;margin:2.5rem}}.-esm-patient-labs__print-modal__datePickers___gythQ{display:flex;margin-bottom:.5rem;justify-content:flex-start}.-esm-patient-labs__print-modal__modalBody___hj5Ae{max-height:31.25rem;overflow-y:auto;background-color:#fff}.-esm-patient-labs__print-modal__emptyState___7lxMB{text-align:center;margin-top:2.5rem;margin-bottom:2.5rem}","",{version:3,sources:["webpack://./src/test-results/print-modal/print-modal.scss","webpack://./../../node_modules/@carbon/styles/node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIA,cACE,mDACE,qBCGI,CDFJ,YAAA,CAAA,CAIJ,gDACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,qBCNM,CDSR,wDEwzBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFtzBF,cAAA,CAGF,qDACE,aCyBQ,CCyxBN,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CF9yBJ,8CE8yBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CF5yBF,kBGTW,CHYb,8CACE,kBGEW,CHCb,gDACE,yBAAA,CAGF,mDEiyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CF/xBF,eAAA,CACA,iBAAA,CAGF,mDE2xBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFzxBF,aCDQ,CDER,aG7BW,CH8BX,iBAAA,CAGF,aACE,MACE,SAAA,CACA,aGXS,CAAA,CHeb,qDACE,YAAA,CACA,mBG1CW,CH2CX,0BAAA,CAGF,mDACE,mBAAA,CACA,eAAA,CACA,qBC7DM,CDgER,oDACE,iBAAA,CACA,iBG7BW,CH8BX,oBG9BW",sourceRoot:""}]),i.locals={printPage:"-esm-patient-labs__print-modal__printPage___DscMd",header:"-esm-patient-labs__print-modal__header___pNtRD",patientDetails:"-esm-patient-labs__print-modal__patientDetails___RAIuU",patientInfo:"-esm-patient-labs__print-modal__patientInfo___j8scn",name:"-esm-patient-labs__print-modal__name___zgyf1",date:"-esm-patient-labs__print-modal__date___J0Cur",gender:"-esm-patient-labs__print-modal__gender___EXPpN",printedBy:"-esm-patient-labs__print-modal__printedBy___p0D3v",subheader:"-esm-patient-labs__print-modal__subheader___cxCw4",datePickers:"-esm-patient-labs__print-modal__datePickers___gythQ",modalBody:"-esm-patient-labs__print-modal__modalBody___hj5Ae",emptyState:"-esm-patient-labs__print-modal__emptyState___7lxMB"};const o=i},6103:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(268),l=n.n(a),r=n(4924),i=n(2779),o=n.n(i),s=n(7555),c=n(234),d=n(2870),m=n(180),A=n(1354),u=n.n(A),p=n(1583),_=n.n(p),h=n(7378),g=n.n(h),f=n(5993),v=n.n(f),y=n(4154),b=n.n(y),C=n(8141),D=n.n(C),E=n(2423),w={};w.styleTagTransform=D(),w.setAttributes=v(),w.insert=g().bind(null,"head"),w.domAPI=_(),w.insertStyleElement=b(),u()(E.Z,w);const B=E.Z&&E.Z.locals?E.Z.locals:void 0;function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){o=!0,l=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){var t=e.children;return e.isTablet?l().createElement(s.mh4,null,t," "):l().createElement(l().Fragment,null,t)}const S=function(e){var t=e.patientUuid,n=e.closeDialog,i=(0,r.useTranslation)().t,A="tablet"===(0,d.useLayoutType)(),u=(0,d.useSession)(),p=(0,m.Z)().panels,_=(0,a.useRef)(null),h=T((0,a.useState)(null),2),g=h[0],f=h[1],v=T((0,a.useState)(null),2),y=v[0],b=v[1],C=(0,d.useConfig)().excludePatientIdentifierCodeTypes,D=i("testResults_title","Test Results"),E="m/d/y",w=(0,c.useReactToPrint)({content:function(){return _.current}}),k=(0,d.usePatient)(t),S=(0,a.useMemo)((function(){var e,t,n,a,l,r,o,s,c,m,A,u,p,_=null!==(p=null==k||null===(t=k.patient)||void 0===t||null===(e=t.identifier)||void 0===e?void 0:e.filter((function(e){return!(null==C?void 0:C.uuids.includes(e.type.coding[0].code))})))&&void 0!==p?p:[];return{name:"".concat(null==k||null===(r=k.patient)||void 0===r||null===(l=r.name)||void 0===l||null===(a=l[0])||void 0===a||null===(n=a.given)||void 0===n?void 0:n.join(" ")," ").concat(null==k||null===(s=k.patient)||void 0===s||null===(o=s.name)||void 0===o?void 0:o[0].family),age:(0,d.age)(null==k||null===(c=k.patient)||void 0===c?void 0:c.birthDate),gender:function(e){switch(e){case"male":return i("male","Male");case"female":return i("female","Female");case"other":return i("other","Other");case"unknown":return i("unknown","Unknown");default:return e}}(null==k||null===(m=k.patient)||void 0===m?void 0:m.gender),location:null==k||null===(u=k.patient)||void 0===u||null===(A=u.address)||void 0===A?void 0:A[0].city,identifiers:(null==_?void 0:_.length)?_.map((function(e){var t=e.value;return e.type,t})):[]}}),[k,i,null==C?void 0:C.uuids]),z=(0,a.useMemo)((function(){return g&&y?p.filter((function(e){var t=new Date(e.effectiveDateTime);return t>=new Date(g)&&t<=new Date(y)})).map((function(e){return P(e)})):p.map((function(e){return P(e)}))}),[p,g,y]);return l().createElement("div",null,l().createElement(s.xBx,{closeModal:n,title:i("printTestResults","Print test results")}),l().createElement(s.fef,{className:B.modalBody},l().createElement(M,{isTablet:A},l().createElement(s.Mtg,{className:B.datePickers,datePickerType:"range",dateFormat:E,value:[g,y],onChange:function(e){var t=T(e,2),n=t[0],a=t[1];f(n),b(a)}},l().createElement(s.aj6,{labelText:i("startDate","Start date"),placeholder:E}),l().createElement(s.aj6,{labelText:i("endDate","End date"),placeholder:E}))),l().createElement("div",{ref:_},l().createElement("div",{className:B.printPage},l().createElement("header",{className:B.header},l().createElement("svg",{role:"img",width:110,height:40,viewBox:"0 0 380 119",xmlns:"http://www.w3.org/2000/svg"},l().createElement("path",{fillRule:"evenodd","clip-rule":"evenodd",d:"M40.29 40.328a27.755 27.755 0 0 1 19.688-8.154c7.669 0 14.613 3.102 19.647 8.116l.02-18.54A42.835 42.835 0 0 0 59.978 17c-7.089 0-13.813 1.93-19.709 4.968l.021 18.36ZM79.645 79.671a27.744 27.744 0 0 1-19.684 8.154c-7.67 0-14.614-3.101-19.651-8.116l-.02 18.54A42.857 42.857 0 0 0 59.96 103a42.833 42.833 0 0 0 19.672-4.751l.013-18.578ZM40.328 79.696c-5.038-5.037-8.154-11.995-8.154-19.685 0-7.669 3.102-14.612 8.116-19.65l-18.54-.02A42.85 42.85 0 0 0 17 60.012a42.819 42.819 0 0 0 4.752 19.672l18.576.013ZM79.634 40.289a27.753 27.753 0 0 1 8.154 19.688 27.744 27.744 0 0 1-8.117 19.646l18.542.02a42.842 42.842 0 0 0 4.749-19.666c0-7.09-1.714-13.779-4.751-19.675l-18.577-.013ZM156.184 60.002c0-8.748-6.118-15.776-15.025-15.776-8.909 0-15.025 7.028-15.025 15.776 0 8.749 6.116 15.78 15.025 15.78 8.907 0 15.025-7.031 15.025-15.78Zm-34.881 0c0-11.482 8.318-19.958 19.856-19.958 11.536 0 19.855 8.477 19.855 19.959 0 11.484-8.319 19.964-19.855 19.964-11.538 0-19.856-8.48-19.856-19.965ZM179.514 75.54c5.507 0 9.05-4.14 9.05-9.482 0-5.341-3.543-9.483-9.05-9.483-5.505 0-9.046 4.142-9.046 9.483 0 5.342 3.541 9.482 9.046 9.482ZM166.22 53.306h4.248v3.704h.11c2.344-2.725 5.449-4.36 9.154-4.36 8.014 0 13.408 5.67 13.408 13.408 0 7.63-5.613 13.406-12.752 13.406-4.58 0-8.231-2.29-9.81-5.178h-.11V90.87h-4.248V53.306ZM217.773 63.768c-.163-4.305-3-7.193-7.686-7.193-4.685 0-7.79 2.888-8.335 7.193h16.021Zm3.653 10.412c-3.001 3.868-6.596 5.284-11.339 5.284-8.01 0-12.914-5.993-12.914-13.406 0-7.901 5.559-13.407 13.08-13.407 7.196 0 12.096 4.906 12.096 13.354v1.362h-20.597c.325 4.413 3.704 8.173 8.335 8.173 3.65 0 6.105-1.307 8.12-3.868l3.219 2.508ZM227.854 59.356c0-2.346-.216-4.36-.216-6.05h4.031c0 1.363.11 2.777.11 4.195h.11c1.144-2.505 4.306-4.85 8.5-4.85 6.705 0 9.699 4.252 9.699 10.41v15.748h-4.248v-15.31c0-4.253-1.856-6.924-5.833-6.924-5.503 0-7.903 3.979-7.903 9.811V78.81h-4.25V59.356ZM259.211 41.008h6.708L278.8 70.791h.107l12.982-29.782h6.549v37.99h-4.506V47.124h-.106L280.192 79h-2.738l-13.629-31.875h-.107V79h-4.507V41.01ZM312.392 57.752h4.023c4.992 0 11.487 0 11.487-6.282 0-5.47-4.776-6.276-9.177-6.276h-6.333v12.558Zm-4.506-16.744h9.711c7.352 0 15.132 1.072 15.132 10.462 0 5.527-3.594 9.125-9.495 10.037L334.018 79h-5.525l-10.304-17.063h-5.797V79h-4.506V41.01ZM358.123 47.712c-1.506-2.413-4.187-3.486-6.926-3.486-3.973 0-8.1 1.88-8.1 6.385 0 3.49 1.931 5.047 7.994 6.98 5.903 1.878 11.377 3.809 11.377 11.267 0 7.567-6.495 11.11-13.36 11.11-4.402 0-9.125-1.45-11.7-5.262l3.862-3.165c1.61 2.794 4.83 4.24 8.105 4.24 3.862 0 8.263-2.253 8.263-6.601 0-4.669-3.165-5.474-9.928-7.728-5.366-1.771-9.442-4.134-9.442-10.463 0-7.298 6.277-10.945 12.929-10.945 4.241 0 7.836 1.178 10.625 4.45l-3.699 3.218Z"})),l().createElement("div",{className:B.patientDetails},l().createElement("span",{className:B.name},null==S?void 0:S.name),l().createElement("span",{className:B.patientInfo},null==S?void 0:S.gender,", ",null==S?void 0:S.age,", ",null==S?void 0:S.identifiers," ")),l().createElement("div",{className:B.printedBy},i("printedBy","Printed by"),l().createElement("span",{className:B.printedBy},u.user.display," ",i("onDate","on")," ",(0,d.formatDate)(new Date,{noToday:!0})))),l().createElement("div",{className:B.subheader},l().createElement("h4",null,D))),(null==z?void 0:z.length)?l().createElement(s.wQF,{rows:z,headers:[{key:"testType",header:"Test Type"},{key:"date",header:"Date"},{key:"result",header:"Result"},{key:"normalRange",header:"Normal Range"}],isSortable:!0,size:A?"lg":"sm",useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,a=e.getHeaderProps,r=e.getTableProps;return l().createElement(s.xJi,null,l().createElement(s.iA_,r(),l().createElement(s.ssF,null,l().createElement(s.SCH,null,n.map((function(e){var t,n;return l().createElement(s.xDH,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){x(e,t,n[t])}))}return e}({className:o()(B.productiveHeading01,B.text02)},a({header:e,isSortable:e.isSortable})),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(s.RMI,null,t.map((function(e){return l().createElement(s.SCH,{key:e.id},e.cells.map((function(e){var t,n;return l().createElement(s.pj1,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)})))})))))})):l().createElement("p",{className:B.emptyState},i("thereAreNoTestResultsFound","There are no test results found within the specified date range")))),(null==z?void 0:z.length)?l().createElement(s.mzw,null,l().createElement(s.zxk,{kind:"secondary",onClick:n},i("cancel","Cancel")),l().createElement(s.zxk,{kind:"primary",onClick:w},i("print","Print"))):null)};var P=function(e){var t,n;return{id:e.id,testType:e.name,date:(0,d.formatDate)(new Date(e.effectiveDateTime)),result:e.value,normalRange:null!==(n=null==e||null===(t=e.meta)||void 0===t?void 0:t.range)&&void 0!==n?n:"--"}}}}]);