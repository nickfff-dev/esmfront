"use strict";(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[741],{6322:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(272),s=i.n(n),l=i(2609),r=i.n(l)()(s());r.push([t.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-chart__start-visit-dialog__header___qFdjw{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-chart__start-visit-dialog__body___VphOU{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/visit/visit-prompt/start-visit-dialog.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wDCs0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl0BJ,sDCk0BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA",sourceRoot:""}]),r.locals={header:"-esm-patient-chart__start-visit-dialog__header___qFdjw",body:"-esm-patient-chart__start-visit-dialog__body___VphOU"};const o=r},1496:(t,e,i)=>{i.d(e,{Z:()=>m});var n=i(1354),s=i.n(n),l=i(1583),r=i.n(l),o=i(7378),a=i.n(o),d=i(5993),c=i.n(d),u=i(4154),v=i.n(u),A=i(8141),h=i.n(A),p=i(6322),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=a().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=v(),s()(p.Z,g);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},4455:(t,e,i)=>{i.d(e,{l:()=>d});var n=i(2870),s=i(5968),l=i(4924),r=i(268);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,l=[],r=!0,o=!1;try{for(i=i.call(t);!(r=(n=i.next()).done)&&(l.push(n.value),!e||l.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw s}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},d=(0,s.Tn)(t).mutateVisits,c=(0,n.useVisit)(t),u=c.mutate,v=a((0,r.useState)(!1),2),A=v[0],h=v[1],p=(0,l.useTranslation)().t,g=function(){(0,s.rP)(null==e?void 0:e.uuid).then((function(){var t,i;(0,n.showNotification)({title:p("visitRestored","Visit restored"),description:p("visitRestoredSuccessfully","{{visit}} restored successfully",{visit:null!==(i=null==e||null===(t=e.visitType)||void 0===t?void 0:t.display)&&void 0!==i?i:p("visit","Visit")}),kind:"success"}),d(),u(),null==o||o()})).catch((function(){var t,i;(0,n.showNotification)({title:p("visitNotRestored","Visit couldn't be restored"),description:p("errorWhenRestoringVisit","Error occured when restoring {{visit}}",{visit:null!==(i=null==e||null===(t=e.visitType)||void 0===t?void 0:t.display)&&void 0!==i?i:p("visit","Visit")}),kind:"error"})}))},m=function(){h(!0);var t=!(null==e?void 0:e.stopDatetime);(0,s.u4)(null==e?void 0:e.uuid).then((function(){var s,l,r,o;d(),u(),(0,n.showActionableNotification)({title:t?p("visitCancelled","Visit cancelled"):p("visitDeleted","{{visit}} deleted",{visit:null!==(r=null==e||null===(s=e.visitType)||void 0===s?void 0:s.display)&&void 0!==r?r:p("visit","Visit")}),kind:"success",subtitle:t?p("visitCanceled","Canceled active visit successfully"):p("visitCancelSuccessMessage","Active {{visit}} cancelled successfully",{visit:null!==(o=null==e||null===(l=e.visitType)||void 0===l?void 0:l.display)&&void 0!==o?o:p("visit","Visit")}),actionButtonLabel:p("undo","Undo"),onActionButtonClick:g}),null==i||i()})).catch((function(){(0,n.showNotification)({title:t?p("errorCancellingVisit","Error cancelling active visit"):p("errorDeletingVisit","Error deleting visit"),kind:"error",description:p("errorOccuredDeletingVisit","An error occured when deleting visit")})})).finally((function(){h(!1)}))};return{initiateDeletingVisit:m,isDeletingVisit:A}}},4741:(t,e,i)=>{i.r(e),i.d(e,{default:()=>c});var n=i(268),s=i.n(n),l=i(4350),r=i(4924),o=i(2870),a=i(1496),d=i(4455);const c=function(t){var e,i,n=t.closeModal,c=t.patientUuid,u=t.visit,v=(0,r.useTranslation)().t,A=(0,d.l)(c,u,n),h=A.isDeletingVisit,p=A.initiateDeletingVisit;return s().createElement("div",null,s().createElement(l.ModalHeader,{closeModal:n,label:v("visit","Visit"),title:v("deleteVisitDialogHeader","Are you sure you want to delete this visit?")}),s().createElement(l.ModalBody,null,s().createElement("p",{className:a.Z.body},v("confirmDeletingVisitTextWithStartAndEndDate","Are you sure you want to delete {{visit}} which started {{visitStartDate}} and ended {{visitEndDate}}?",{visit:null!==(i=null==u||null===(e=u.visitType)||void 0===e?void 0:e.display)&&void 0!==i?i:v("visit","Visit"),visitStartDate:(0,o.formatDatetime)(new Date(null==u?void 0:u.startDatetime),{mode:"standard"}),visitEndDate:(0,o.formatDatetime)(new Date(null==u?void 0:u.stopDatetime),{mode:"standard"})}),s().createElement("br",null),v("deletingVisitWillDeleteEncounters","Deleting this visit will delete all associated encounters."))),s().createElement(l.ModalFooter,null,s().createElement(l.Button,{kind:"secondary",onClick:n},v("cancel","Cancel")),s().createElement(l.Button,{kind:"danger",onClick:p,disabled:h},h?s().createElement(l.InlineLoading,{description:v("deletingVisit","Deleting visit")}):v("deleteVisit","Delete visit"))))}}}]);