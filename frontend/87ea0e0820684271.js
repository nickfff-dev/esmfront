"use strict";(self.webpackChunkopenmrs=self.webpackChunkopenmrs||[]).push([[746],{6746:(e,n,t)=>{t.r(n),t.d(n,{run:()=>sn});var r=t(6390),o=t(9151),i=t(7423),a={bootstrap:function(){return Promise.resolve()},mount:function(){return Promise.resolve()},unmount:function(){return Promise.resolve()}};function c(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=[];function f(e){if(Array.isArray(e)){var n=e.map(f);return function(e){return n.some((function(n){return n(e)}))}}return"string"==typeof e?(0,r.pathToActiveWhen)(window.getOpenmrsSpaBase()+e):(t=e,(null!=(o=RegExp)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](t):t instanceof o)?function(n){return function(e,n){return e.test(n.pathname.replace(window.getOpenmrsSpaBase(),""))}(e,n)}:function(){return e});var t,o}var p="startupApp",d=new Map;function h(e,n){return u((function(){var t;return function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,i.importDynamic)(e)];case 1:return(t=r.sent())&&Object.hasOwn(t,n)&&"function"==typeof t[n]?e in d?[3,3]:[4,d[e]=new Promise((function(e,n){if(Object.hasOwn(t,p)){var r=t[p];if("function"==typeof r)return Promise.resolve(r()).then(e).catch(n)}e(null)}))]:[3,6];case 2:return r.sent(),[3,5];case 3:return[4,d[e]];case 4:r.sent(),r.label=5;case 5:return[2,Promise.resolve(t[n]())];case 6:t&&Object.hasOwn(t,n)?console.warn("The export ".concat(n," of the app ").concat(e," is not a function")):console.warn("The app ".concat(e," does not define a component called ").concat(n,", this cannot be loaded")),r.label=7;case 7:return[2,a]}}))}))}function v(e,n){if(e&&n&&"object"==typeof n){var t,r;(0,i.defineConfigSchema)(e,{});var o=null!==(r=n.extensions)&&void 0!==r?r:[];null===(t=n.pages)||void 0===t||t.forEach((function(n){var t,r,o;l.push((r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({},n),o=null!=(o={order:null!==(t=n.order)&&void 0!==t?t:Number.MAX_SAFE_INTEGER,appName:e})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r))})),o.forEach((function(n){g(e,n)}))}}function m(){l.sort((function(e,n){var t=e.order-n.order;return 0!=t?t:e.appName.localeCompare(n.appName,"en")}));var e=new Map,n=!0,t=!1,r=void 0;try{for(var o,i=l[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var a=o.value;e.has(a.appName)?e.set(a.appName,e.get(a.appName)+1):e.set(a.appName,0);var c=e.get(a.appName),u="".concat(a.appName,"-page-").concat(c),s=document.createElement("div");s.id="single-spa-application:".concat(u),document.body.appendChild(s),y(u,a)}}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}}function y(e,n){var t=void 0!==n.route?n.route:void 0!==n.routeRegex&&new RegExp(n.routeRegex);if(!1!==t)if(n.component){var o=function(e,n){var t=n.online,r=n.offline;return function(n){return!!(navigator.onLine&&(null==t||t)||!navigator.onLine&&null!=r&&r)&&e(n)}}(f(t),n),i=h(n.appName,n.component);(0,r.registerApplication)(e,i,o)}else console.warn('A registered page definition is missing a component and thus cannot be registered.\nTo fix this, ensure that you define the "component" field inside the page definition.',e);else console.warn('A registered page definition is missing a route and thus cannot be registered.\nTo fix this, ensure that you define the "route" (or alternatively the "routeRegex") field inside the extension definition.',e)}function g(e,n){var t=n.name;if(t){n.slots&&n.slot&&console.warn("The extension ".concat(t," from ").concat(e," declares both a 'slots' property and \na 'slot' property. Only the 'slots' property will be honored."));var r=n.slots?n.slots:n.slot?[n.slot]:[];if(n.component||n.load){var o,a,c;if(n.component)o=h(e,n.component);else if(n.load){if("function"!=typeof n.load)return void console.error("The extension ".concat(t," from ").concat(e," declares a 'load' property that is not a function. This is not\nsupported, so the extension will not be loaded."));o=n.load}(0,i.registerExtension)({name:t,load:o,meta:n.meta||{},order:n.order,moduleName:e,privileges:n.privileges,online:null===(a=n.online)||void 0===a||a,offline:null!==(c=n.offline)&&void 0!==c&&c,featureFlag:n.featureFlag});var u=!0,s=!1,l=void 0;try{for(var f,p=r[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;(0,i.attach)(d,t)}}catch(e){s=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw l}}}else console.error("The extension ".concat(t," from ").concat(e," is missing a 'component' entry and thus cannot be registered.\nTo fix this, ensure that you define a 'component' field inside the extension definition."),n)}else console.error("An extension definition in ".concat(e,' is missing an name and thus cannot be\nregistered. To fix this, ensure that you define the "name" field inside the\nextension definition.'),n)}var b=t(7354),w=t.n(b),S=t(8239),x=t(4716),k=[],O=k.forEach,T=k.slice,j=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,A={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&"undefined"!=typeof document){var t=function(e){for(var n="".concat(e,"="),t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}(e.lookupCookie);t&&(n=t)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&"undefined"!=typeof document&&function(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*t*1e3)),r&&(o.domain=r),document.cookie=function(e,n,t){var r=t||{};r.path=r.path||"/";var o=encodeURIComponent(n),i="".concat(e,"=").concat(o);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!j.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(r.domain)}if(r.path){if(!j.test(r.path))throw new TypeError("option path is invalid");i+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}(e,encodeURIComponent(n),o)}(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},P={name:"querystring",lookup:function(e){var n;if("undefined"!=typeof window){var t=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(t=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=t.substring(1).split("&"),o=0;o<r.length;o++){var i=r[o].indexOf("=");i>0&&r[o].substring(0,i)===e.lookupQuerystring&&(n=r[o].substring(i+1))}}return n}},C=null,I=function(){if(null!==C)return C;try{C="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){C=!1}return C},E={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&I()){var t=window.localStorage.getItem(e.lookupLocalStorage);t&&(n=t)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&I()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},Z=null,N=function(){if(null!==Z)return Z;try{Z="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Z=!1}return Z},L={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&N()){var t=window.sessionStorage.getItem(e.lookupSessionStorage);t&&(n=t)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&N()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},D={name:"navigator",lookup:function(e){var n=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var t=0;t<navigator.languages.length;t++)n.push(navigator.languages[t]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},M={name:"htmlTag",lookup:function(e){var n,t=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return t&&"function"==typeof t.getAttribute&&(n=t.getAttribute("lang")),n}},F={name:"path",lookup:function(e){var n,t,r;if("undefined"!=typeof window){var o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(t=o,null!=(r=Array)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](t):t instanceof r)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof o[e.lookupFromPathIndex])return;n=o[e.lookupFromPathIndex].replace("/","")}else n=o[0].replace("/","")}return n}},U={name:"subdomain",lookup:function(e){var n="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,t="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(t)return t[n]}},q=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,S.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(n,t)}return(0,x.Z)(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return O.call(T.call(arguments,1),(function(n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t])})),e}(n,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=t,this.addDetector(A),this.addDetector(P),this.addDetector(E),this.addDetector(L),this.addDetector(D),this.addDetector(M),this.addDetector(F),this.addDetector(U)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var n=this;e||(e=this.options.order);var t=[];return e.forEach((function(e){if(n.detectors[e]){var r=n.detectors[e].lookup(n.options);r&&"string"==typeof r&&(r=[r]),r&&(t=t.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}},{key:"cacheUserLanguage",value:function(e,n){var t=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach((function(n){t.detectors[n]&&t.detectors[n].cacheUserLanguage(e,t.options)})))}}]),e}();q.type="languageDetector";var _=t(6617),R=t(5736),B=t(9823);const W=function(){try{var e=(0,B.Z)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=function(e,n,t){"__proto__"==n&&W?W(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t};var G=t(5499);const Q=function(e,n,t){(void 0!==t&&!(0,G.Z)(e[n],t)||void 0===t&&!(n in e))&&z(e,n,t)},$=function(e,n,t){for(var r=-1,o=Object(e),i=t(e),a=i.length;a--;){var c=i[++r];if(!1===n(o[c],c,o))break}return e};var H=t(8201),J="object"==typeof exports&&exports&&!exports.nodeType&&exports,X=J&&"object"==typeof module&&module&&!module.nodeType&&module,K=X&&X.exports===J?H.Z.Buffer:void 0,V=K?K.allocUnsafe:void 0;var Y=t(2520);const ee=function(e,n){var t,r,o=n?(t=e.buffer,r=new t.constructor(t.byteLength),new Y.Z(r).set(new Y.Z(t)),r):e.buffer;return new e.constructor(o,e.byteOffset,e.length)};var ne=t(2791),te=Object.create;const re=function(){function e(){}return function(n){if(!(0,ne.Z)(n))return{};if(te)return te(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();var oe=t(1239),ie=t(5161);var ae=t(1066),ce=t(161),ue=t(5401),se=t(9247);var le=t(4400),fe=t(5887),pe=t(1537),de=t(8860);const he=function(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]};var ve=Object.prototype.hasOwnProperty;const me=function(e,n,t){var r=e[n];ve.call(e,n)&&(0,G.Z)(r,t)&&(void 0!==t||n in e)||z(e,n,t)};var ye=t(4529);var ge=Object.prototype.hasOwnProperty;const be=function(e){if(!(0,ne.Z)(e))return function(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n}(e);var n=(0,ie.Z)(e),t=[];for(var r in e)("constructor"!=r||!n&&ge.call(e,r))&&t.push(r);return t},we=function(e){return(0,ue.Z)(e)?(0,ye.Z)(e,!0):be(e)},Se=function(e){return function(e,n,t,r){var o=!t;t||(t={});for(var i=-1,a=n.length;++i<a;){var c=n[i],u=r?r(t[c],e[c],c,t,e):void 0;void 0===u&&(u=e[c]),o?z(t,c,u):me(t,c,u)}return t}(e,we(e))},xe=function(e,n,t,r,o,i,a){var c,u=he(e,t),s=he(n,t),l=a.get(s);if(l)Q(e,t,l);else{var f=i?i(u,s,t+"",e,n,a):void 0,p=void 0===f;if(p){var d=(0,ce.Z)(s),h=!d&&(0,le.Z)(s),v=!d&&!h&&(0,de.Z)(s);f=s,d||h||v?(0,ce.Z)(u)?f=u:(c=u,(0,se.Z)(c)&&(0,ue.Z)(c)?f=function(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}(u):h?(p=!1,f=function(e,n){if(n)return e.slice();var t=e.length,r=V?V(t):new e.constructor(t);return e.copy(r),r}(s,!0)):v?(p=!1,f=ee(s,!0)):f=[]):(0,pe.Z)(s)||(0,ae.Z)(s)?(f=u,(0,ae.Z)(u)?f=Se(u):(0,ne.Z)(u)&&!(0,fe.Z)(u)||(f=function(e){return"function"!=typeof e.constructor||(0,ie.Z)(e)?{}:re((0,oe.Z)(e))}(s))):p=!1}p&&(a.set(s,f),o(f,s,r,i,a),a.delete(s)),Q(e,t,f)}},ke=function e(n,t,r,o,i){n!==t&&$(t,(function(a,c){if(i||(i=new R.Z),(0,ne.Z)(a))xe(n,t,c,r,e,o,i);else{var u=o?o(he(n,c),a,c+"",n,t,i):void 0;void 0===u&&(u=a),Q(n,c,u)}}),we)},Oe=function(e){return e};var Te=Math.max;const je=W?function(e,n){return W(e,"toString",{configurable:!0,enumerable:!1,value:(t=n,function(){return t}),writable:!0});var t}:Oe;var Ae=Date.now;const Pe=(Ce=je,Ie=0,Ee=0,function(){var e=Ae(),n=16-(e-Ee);if(Ee=e,n>0){if(++Ie>=800)return arguments[0]}else Ie=0;return Ce.apply(void 0,arguments)});var Ce,Ie,Ee;const Ze=function(e,n){return Pe(function(e,n,t){return n=Te(void 0===n?e.length-1:n,0),function(){for(var r=arguments,o=-1,i=Te(r.length-n,0),a=Array(i);++o<i;)a[o]=r[n+o];o=-1;for(var c=Array(n+1);++o<n;)c[o]=r[o];return c[n]=t(a),function(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}(e,this,c)}}(e,n,Oe),e+"")};var Ne=t(4578);const Le=(De=function(e,n,t){ke(e,n,t)},Ze((function(e,n){var t=-1,r=n.length,o=r>1?n[r-1]:void 0,i=r>2?n[2]:void 0;for(o=De.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,n,t){if(!(0,ne.Z)(t))return!1;var r,o=void 0===n?"undefined":(r=n)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r;return!!("number"==o?(0,ue.Z)(t)&&(0,Ne.Z)(n,t.length):"string"==o&&n in t)&&(0,G.Z)(t[n],e)}(n[0],n[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++t<r;){var a=n[t];a&&De(e,a,t)}return e})));var De;function Me(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Fe(e,n,t){if("function"!=typeof e.importTranslation)throw Error("Module ".concat(n," does not export an importTranslation function"));var r,o,i=e.importTranslation("./".concat(t,".json"));if(r=i,!(null!=(o=Promise)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o))throw Error("Module ".concat(n," exports an importTranslation function that does not return a promise. Did you forget to set require.context mode to 'lazy'?"));return i}var Ue="@openmrs/esm-app-shell";function qe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _e(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(r,o)}function Re(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){_e(i,r,o,a,c,"next",e)}function c(e){_e(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Be(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function We(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return qe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qe(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var Ge=Symbol("openmrs_registration_promises");function Qe(){return Qe=Re((function(){var e,n,t,r,i,a;return ze(this,(function(c){switch(c.label){case 0:for(e=document.querySelectorAll("script[type='openmrs-routes']"),n=[],t=0;t<e.length;t++)n.push(function(){var e=Re((function(e){var n,t,r;return ze(this,(function(i){switch(i.label){case 0:n=void 0,i.label=1;case 1:return i.trys.push([1,5,,6]),e.textContent?(n=JSON.parse(e.textContent),[3,4]):[3,2];case 2:return e.src?[4,(0,o.openmrsFetch)(e.src)]:[3,4];case 3:n=i.sent().data,i.label=4;case 4:return[3,6];case 5:return t=i.sent(),console.error("Caught error while loading routes from ".concat(null!==(r=e.src)&&void 0!==r?r:"JSON script tag content"),t),[2,{}];case 6:return[2,Promise.resolve(null!=n?n:{})]}}))}));return function(n){return e.apply(this,arguments)}}()(e.item(t)));return[4,Promise.all(n)];case 1:return r=c.sent().reduce((function(e,n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Be(e,n,t[n])}))}return e}({},e,n)}),{}),i=[],a=Object.entries(r).map((u=Re((function(e){var n,t,r;return ze(this,(function(o){return n=We(e,2),t=n[0],r=n[1],i.push([t,r]),v(t,r),[2]}))})),function(e){return u.apply(this,arguments)})),window[Ge]=Promise.all(a),window.installedModules=i,[2]}var u}))})),Qe.apply(this,arguments)}function $e(e){return He.apply(this,arguments)}function He(){return(He=Re((function(e){var n,t,r,i,a,c;return ze(this,(function(u){n=!0,t=!1,r=void 0;try{for(i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)c=a.value,(0,o.provide)(c.value,c.name)}catch(e){t=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return[2]}))}))).apply(this,arguments)}function Je(){var e=navigator.onLine;(0,r.triggerAppChange)(),(0,o.dispatchConnectivityChanged)(e),(0,o.showToast)({critical:!0,description:"Connection: ".concat(e?"online":"offline"),title:"App",kind:e?"success":"warning"})}function Xe(){return window.addEventListener("offline",Je),window.addEventListener("online",Je),(window.i18next=w()||b,new MutationObserver((function(){window.i18next.changeLanguage(void 0).catch((function(e){return console.error("i18next failed to re-detect language",e)}))})).observe(document.documentElement,{attributeFilter:["lang"],attributes:!0}),window.i18next.on("languageChanged",(function(){document.documentElement.setAttribute("dir",window.i18next.dir())})),window.i18next.use(q).use({type:"backend",init:function(){},read:function(e,n,t){"translation"===n?t(Error("can't handle translation namespace"),null):void 0===n||void 0===e?t(Error(),null):"@openmrs/esm-app-shell"===n?(0,o.getConfigInternal)(n).then((function(n){var r={};if(n&&"Translation overrides"in n){var o=n["Translation overrides"];e in o&&(r=o[e])}t(null,r)})).catch((function(e){t(e,null)})):(0,o.importDynamic)(n).then((function(t){return Promise.all([Fe(t,n,e),(0,o.getConfigInternal)(n)])})).then((function(n){var r=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Me(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Me(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2),o=r[0],i=r[1],a=null!=o?o:{};if(i&&"Translation overrides"in i){var c=i["Translation overrides"];e in c&&(a=Le(a,c[e]))}t(null,a)})).catch((function(e){t(e,null)}))}}).use(_.initReactI18next).init({detection:{order:["querystring","htmlTag","localStorage","navigator"],lookupQuerystring:"lang"},fallbackLng:"en"})).catch((function(e){return console.error("Failed to initialize translations",e)})).then((function(){return(0,r.start)()}))}function Ke(){return Ve.apply(this,arguments)}function Ve(){return Ve=Re((function(){var e,n;return ze(this,(function(t){switch(t.label){case 0:return[4,Promise.all([window[Ge],(0,o.getCurrentImportMap)()])];case 1:return e=We.apply(void 0,[t.sent(),2]),n=e[1],window.installedModules.map(function(){var e=Re((function(e){var t,r;return ze(this,(function(i){return t=We(e,1),r=t[0],(0,o.importDynamic)(r,void 0,{importMap:n}).catch(),[2]}))}));return function(n){return e.apply(this,arguments)}}()),[2]}}))})),Ve.apply(this,arguments)}function Ye(e){console.error(e),function(e){var n=document.querySelector("#app-error");if(n){var t=n.content.cloneNode(!0),r=t.querySelector('[data-var="message"]');if(r&&(r.textContent=(null==e?void 0:e.message)||"No additional information available."),localStorage.getItem("openmrs:devtools")&&Object.keys(localStorage).some((function(e){return e.startsWith("import-map-override:")}))){var o=null==t?void 0:t.querySelector("#buttons");if(o){var i=document.createElement("button");i.className="cds--btn",i.innerHTML="Clear dev overrides",i.onclick=en,o.appendChild(i)}}document.body.appendChild(t)}}(e)}function en(){var e=!0,n=!1,t=void 0;try{for(var r,o=Object.keys(localStorage)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.startsWith("import-map-override:")&&!["import-map-override:react","import-map-override:react-dom"].includes(i)&&localStorage.removeItem(i)}}catch(e){n=!0,t=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw t}}location.reload()}function nn(){return tn.apply(this,arguments)}function tn(){return(tn=Re((function(){var e;return ze(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,(0,o.registerOmrsServiceWorker)("".concat(window.getOpenmrsSpaBase(),"service-worker.js"))];case 1:return n.sent(),[4,(0,o.activateOfflineCapability)()];case 2:return n.sent(),3e5,t=null,r=function(e,n){var r=!t||(new Date).getTime()-t.getTime()>3e5;n&&e&&r&&(t=new Date,(0,o.dispatchPrecacheStaticDependencies)())},i=!1,a=!1,(0,o.getCurrentUser)({includeAuthStatus:!1}).subscribe((function(e){r(i,a=!!e)})),(0,o.subscribeConnectivity)((function(e){var n=e.online;i=n,r(n,a)})),[3,4];case 3:return e=n.sent(),console.error("Error while setting up offline mode.",e),(0,o.showNotification)({kind:"error",title:"Offline Setup Error",description:e.message}),[3,4];case 4:return[2]}var t,r,i,a}))}))).apply(this,arguments)}function rn(){return on.apply(this,arguments)}function on(){return(on=Re((function(){var e;return ze(this,(function(n){switch(n.label){case 0:return[4,an()];case 1:return n.sent(),e=new URL("".concat(window.openmrsBase,"/ws/rest/v1/session"),window.location.origin).href,[4,(0,o.messageOmrsServiceWorker)({type:"registerDynamicRoute",url:e,strategy:"network-first"})];case 2:return n.sent(),[4,(0,o.openmrsFetch)("/ws/rest/v1/session").catch((function(e){return console.warn("Failed to precache the user session data from the app shell. MFs depending on this data may run into problems while offline.",e)}))];case 3:return n.sent(),[2]}}))}))).apply(this,arguments)}function an(){return cn.apply(this,arguments)}function cn(){return(cn=Re((function(){var e;return ze(this,(function(n){switch(n.label){case 0:return[4,window.importMapOverrides.getCurrentPageMap()];case 1:return e=n.sent(),[4,(0,o.messageOmrsServiceWorker)({type:"onImportMapChanged",importMap:e})];case 2:return n.sent(),[2]}}))}))).apply(this,arguments)}function un(){(0,o.subscribeConnectivity)((function(e){var n=e.online,t=document.querySelector("body");n?t.classList.remove("omrs-offline"):t.classList.add("omrs-offline")}))}function sn(e,n){var r=(0,o.renderLoadingSpinner)(document.body),a=function(e){var n=Promise.all(e.map((function(e){var n=(0,o.interpolateUrl)(e);return fetch(n).then((function(e){return e.json()})).then((function(n){return{name:e,value:n}})).catch((function(n){return console.error('Loading the config from "'.concat(e,'" failed.'),n),{name:e,value:{}}}))})));return function(){return n.then($e)}}(e);return(0,o.integrateBreakpoints)(),(0,o.renderToasts)(document.querySelector(".omrs-toasts-container")),(0,o.renderModals)(document.querySelector(".omrs-modals-container")),(0,o.renderInlineNotifications)(document.querySelector(".omrs-inline-notifications-container")),(0,o.renderActionableNotifications)(document.querySelector(".omrs-actionable-notifications-container")),(0,o.renderSnackbars)(document.querySelector(".omrs-snackbars-container")),(0,o.subscribeNotificationShown)(o.showNotification),(0,o.subscribeActionableNotificationShown)(o.showActionableNotification),(0,o.subscribeToastShown)(o.showToast),(0,o.subscribeSnackbarShown)(o.showSnackbar),(0,o.subscribePrecacheStaticDependencies)(rn),(0,o.setupApiModule)(),function(){var e,n=(e={featureName:"app-shell",moduleName:Ue},[{name:"breadcrumbs-widget",slot:"breadcrumbs-slot",load:(0,i.getAsyncLifecycle)((function(){return t.e(194).then(t.bind(t,2194))}),e),online:!0,offline:!0}]),r=!0,o=!1,a=void 0;try{for(var c,u=n[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value;g(Ue,s)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}(),function(){return Qe.apply(this,arguments)}().then(m).then(un).then(a).then(Xe).catch(Ye).then(r).then(n?nn:void 0).then(Ke)}}}]);