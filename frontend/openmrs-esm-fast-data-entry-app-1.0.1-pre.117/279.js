"use strict";(globalThis.webpackChunk_openmrs_esm_fast_data_entry_app=globalThis.webpackChunk_openmrs_esm_fast_data_entry_app||[]).push([[279],{8925:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,'.-esm-fast-data-entry__styles__modal___HR6f6 .cds--modal{z-index:90}.-esm-fast-data-entry__styles__modal___HR6f6 .cds--modal-container{height:600px}.-esm-fast-data-entry__styles__modal___HR6f6 .cds--modal-content{height:100%}.-esm-fast-data-entry__styles__searchBar___ge3CH>div>div>div{width:100%}.-esm-fast-data-entry__styles__formError___KjTcI{color:red}.-esm-fast-data-entry__styles__patientRow___PUcqT{display:flex;align-items:center;width:"100%"}.-esm-fast-data-entry__styles__patientRow___PUcqT:nth-child(odd){background-color:#e0e0e0}.-esm-fast-data-entry__styles__patientName___RKb4f{flex-grow:1;padding-left:1rem}.-esm-fast-data-entry__styles__loading___sU49g{display:flex;height:100%;flex-direction:column;justify-content:center;align-items:center;row-gap:1rem}',"",{version:3,sources:["webpack://./src/add-group-modal/styles.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIE,yDACE,UAAA,CAEF,mEACE,YAAA,CAEF,iEACE,WAAA,CAIJ,6DACE,UAAA,CAGF,iDACE,SAAA,CAGF,kDACG,YAAA,CACA,kBAAA,CACA,YAAA,CACA,iEACC,wBCeM,CDXV,mDACE,WAAA,CACA,iBEHW,CFMb,+CACE,YAAA,CACA,WAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,YEZW",sourceRoot:""}]),s.locals={modal:"-esm-fast-data-entry__styles__modal___HR6f6",searchBar:"-esm-fast-data-entry__styles__searchBar___ge3CH",formError:"-esm-fast-data-entry__styles__formError___KjTcI",patientRow:"-esm-fast-data-entry__styles__patientRow___PUcqT",patientName:"-esm-fast-data-entry__styles__patientName___RKb4f",loading:"-esm-fast-data-entry__styles__loading___sU49g"};const i=s},3822:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__styles__container___tB6wf{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__photoPlaceholder___jG3dT{height:3rem;width:3rem}.-esm-fast-data-entry__styles__groupAvatar___YTLI1{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-fast-data-entry__styles__groupName___M3vVp{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);font-weight:600}.-esm-fast-data-entry__styles__groupInfoContent___SUsPJ{margin-left:1rem;margin-right:4rem}.-esm-fast-data-entry__styles__groupInfoRow___w3Cez{display:flex;align-items:center;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;column-gap:.8rem}.-esm-fast-data-entry__styles__groupInfoRow___w3Cez>button{min-height:2rem}.-esm-fast-data-entry__styles__sessionNotesLabel___h2a6F{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-bottom:.125rem}.-esm-fast-data-entry__styles__groupEditBtn___iSU2t{color:#161616;margin:.5rem}.-esm-fast-data-entry__styles__groupMetaContent___MPn4E{flex-grow:1}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/group-form-entry-workflow/group-display-header/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iDACE,WCwDW,CDvDX,YAAA,CACA,kBAAA,CACA,qBDPM,CCQN,iCAAA,CACA,oCAAA,CACA,cAAA,CAGF,wDACE,WCoCW,CDnCX,UCmCW,CDhCb,mDACE,UC+BW,CD9BX,WC8BW,CD7BX,yBAAA,CACA,iBAAA,CAGF,iDEw0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFt0BF,eAAA,CAGF,wDACE,gBCDW,CDEX,iBCuBW,CDpBb,oDACE,YAAA,CACA,kBAAA,CE4zBE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFvzBF,aDtCQ,CCuCR,gBAAA,CALA,2DACE,eCCS,CDMb,yDEmzBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CFjzBF,qBCtCW,CDyCb,oDACE,aDjDM,CCkDN,YCjCW,CDoCb,wDACE,WAAA",sourceRoot:""}]),s.locals={container:"-esm-fast-data-entry__styles__container___tB6wf",photoPlaceholder:"-esm-fast-data-entry__styles__photoPlaceholder___jG3dT",groupAvatar:"-esm-fast-data-entry__styles__groupAvatar___YTLI1",groupName:"-esm-fast-data-entry__styles__groupName___M3vVp",groupInfoContent:"-esm-fast-data-entry__styles__groupInfoContent___SUsPJ",groupInfoRow:"-esm-fast-data-entry__styles__groupInfoRow___w3Cez",sessionNotesLabel:"-esm-fast-data-entry__styles__sessionNotesLabel___h2a6F",groupEditBtn:"-esm-fast-data-entry__styles__groupEditBtn___iSU2t",groupMetaContent:"-esm-fast-data-entry__styles__groupMetaContent___MPn4E"};const i=s},8472:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__styles__searchHeaderContainer___uB8qf{height:5rem;display:flex;align-items:center;background-color:#fff;border-top:.0125rem solid #e0e0e0;border-bottom:.0125rem solid #e0e0e0;padding:0 1rem}.-esm-fast-data-entry__styles__searchBarWrapper___y9Dbo{min-width:35rem}.-esm-fast-data-entry__styles__padded___OccUp{padding:1rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/group-form-entry-workflow/group-search-header/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,6DACE,WCyDW,CDxDX,YAAA,CACA,kBAAA,CACA,qBDNM,CCON,iCAAA,CACA,oCAAA,CACA,cAAA,CAGF,wDACE,eAAA,CAGF,8CACE,YCaW",sourceRoot:""}]),s.locals={searchHeaderContainer:"-esm-fast-data-entry__styles__searchHeaderContainer___uB8qf",searchBarWrapper:"-esm-fast-data-entry__styles__searchBarWrapper___y9Dbo",padded:"-esm-fast-data-entry__styles__padded___OccUp"};const i=s},2111:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn{text-decoration:none;display:flex;align-items:center;border-bottom:1px solid #e0e0e0;padding:0 .75rem}.-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn:hover,.-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn:focus{background-color:#f4f4f4}.-esm-fast-data-entry__compact-group-result__patientSearchResultSelected___RSSYM{background-color:#e0e0e0}.-esm-fast-data-entry__compact-group-result__patientBanner___Qk8Jt{display:flex}.-esm-fast-data-entry__compact-group-result__patientName___rxQ4T{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-fast-data-entry__compact-group-result__patientAvatar___Bit9k{width:3rem;height:3rem;margin:.5rem 1rem .5rem 0;border-radius:1px}.-esm-fast-data-entry__compact-group-result__patientInfo___BhNAy{width:100%;display:flex;flex-flow:column wrap;margin:1rem;cursor:pointer}.-esm-fast-data-entry__compact-group-result__demographics___Qgkf5{margin-top:.5rem;font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252}.-esm-fast-data-entry__compact-group-result__identifiers___d_7v_{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#8d8d8d}.-esm-fast-data-entry__compact-group-result__actionsContainer___t4blo{padding-top:.5rem;margin-top:1rem}.-esm-fast-data-entry__compact-group-result__middot___uxxNI{margin:0 .5rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/group-form-entry-workflow/group-search/compact-group-result.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,yEACE,oBAAA,CACA,YAAA,CACA,kBAAA,CACA,+BAAA,CACA,gBAAA,CAEA,8JAEE,wBDdI,CCkBR,iFACE,wBCwBQ,CDrBV,mEACE,YAAA,CAGF,iEEw0BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFp0BJ,mEACE,UGoBW,CHnBX,WGmBW,CHlBX,yBAAA,CACA,iBAAA,CAGF,iEACE,UAAA,CACA,YAAA,CACA,qBAAA,CACA,WGVW,CHWX,cAAA,CAGF,kEACE,gBGzBW,CD60BT,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFlzBF,aD3CQ,CC8CV,iEE+yBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CF7yBF,aDlDM,CCqDR,sEACE,iBGpCW,CHqCX,eG3BW,CH8Bb,4DACE,cAAA",sourceRoot:""}]),s.locals={patientSearchResult:"-esm-fast-data-entry__compact-group-result__patientSearchResult___rZ1Jn",patientSearchResultSelected:"-esm-fast-data-entry__compact-group-result__patientSearchResultSelected___RSSYM",patientBanner:"-esm-fast-data-entry__compact-group-result__patientBanner___Qk8Jt",patientName:"-esm-fast-data-entry__compact-group-result__patientName___rxQ4T",patientAvatar:"-esm-fast-data-entry__compact-group-result__patientAvatar___Bit9k",patientInfo:"-esm-fast-data-entry__compact-group-result__patientInfo___BhNAy",demographics:"-esm-fast-data-entry__compact-group-result__demographics___Qgkf5",identifiers:"-esm-fast-data-entry__compact-group-result__identifiers___d_7v_",actionsContainer:"-esm-fast-data-entry__compact-group-result__actionsContainer___t4blo",middot:"-esm-fast-data-entry__compact-group-result__middot___uxxNI"};const i=s},6886:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__compact-group-search__patientSearchBar___B9GBo{width:50vw;position:relative}.-esm-fast-data-entry__compact-group-search__floatingSearchResultsContainer___zT_9_{position:absolute;overflow-y:auto;box-shadow:0 .5rem 1rem #e0e0e0;z-index:99;border:0 1px 1px 1px solid #e0e0e0;width:100%;background-color:#fff}.-esm-fast-data-entry__compact-group-search__searchArea___dJxWX{width:inherit;display:flex;justify-content:center;align-items:center;border:1px solid #8d8d8d}.-esm-fast-data-entry__compact-group-search__patientSearchInput___qGllr{border:none}.-esm-fast-data-entry__compact-group-search__patientSearchInput___qGllr input:focus{outline:1px solid 1px solid #ff832b}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/group-form-entry-workflow/group-search/compact-group-search.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,sEACE,UAAA,CACA,iBAAA,CAGF,oFACE,iBAAA,CACA,eAAA,CACA,+BAAA,CACA,UAAA,CACA,kCAAA,CACA,UAAA,CACA,qBDhBM,CCmBR,gEACE,aAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,wBAAA,CAGF,wEACE,WAAA,CAGF,oFACE,mCAAA",sourceRoot:""}]),s.locals={patientSearchBar:"-esm-fast-data-entry__compact-group-search__patientSearchBar___B9GBo",floatingSearchResultsContainer:"-esm-fast-data-entry__compact-group-search__floatingSearchResultsContainer___zT_9_",searchArea:"-esm-fast-data-entry__compact-group-search__searchArea___dJxWX",patientSearchInput:"-esm-fast-data-entry__compact-group-search__patientSearchInput___qGllr"};const i=s},5812:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2{width:100%;background-color:#fff}.-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2 a{text-decoration:none;font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);color:#525252;margin:0rem}.omrs-breakpoint-lt-desktop .-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2{top:6.25rem}.omrs-breakpoint-gt-tablet .-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2{padding:0;top:3rem}.-esm-fast-data-entry__group-search__searchResults___IAVPi{width:100%}.-esm-fast-data-entry__group-search__searchTerm___PsuMT{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-top:.375rem}.-esm-fast-data-entry__group-search__resultsText___ByWT4{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252;line-height:1rem;margin:.5rem 1rem}.-esm-fast-data-entry__group-search__helperText___hiPIZ{color:var(--omrs-color-ink-medium-contrast);margin-left:2.375rem}.-esm-fast-data-entry__group-search__emptyResultText___tEWzA{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.313rem}.-esm-fast-data-entry__group-search__actionText___eRoZL{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-fast-data-entry__group-search__pagination___s55FI{display:flex;justify-content:space-evenly;padding:4.688rem 0 1.5rem}.-esm-fast-data-entry__group-search__emptySearchResultsTile___dQf2f{text-align:center;margin-top:1rem;padding:3rem 0rem}.omrs-breakpoint-gt-tablet .-esm-fast-data-entry__group-search__emptySearchResultsTile___dQf2f{margin:1rem}.-esm-fast-data-entry__group-search__errorMessage___oh8Tu{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-top:2.25rem;margin-bottom:.5rem}.-esm-fast-data-entry__group-search__errorCopy___IiJZy{margin-bottom:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-fast-data-entry__group-search__lastItem___ZkEUJ{padding:1rem;display:flex;justify-content:center;align-items:center}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/group-form-entry-workflow/group-search/group-search.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCjDF,oEACE,UAAA,CACA,qBDPM,CCSN,sEACE,oBAAA,CCu1BA,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDr1BA,aDRM,CCSN,WAAA,CAIJ,gGACE,WAAA,CAGF,+FACE,SAAA,CACA,QE2BW,CFxBb,2DACE,UAAA,CAKF,wDCi0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD/zBF,kBAAA,CAGF,yDC4zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBF,aDnCQ,CCoCR,gBEVW,CFWX,iBAAA,CAGF,wDACE,2CAAA,CACA,oBAAA,CAGF,6DCgzBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CD9yBF,aD/CQ,CCgDR,eEtBW,CFuBX,qBAAA,CAGF,wDCyyBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CDvyBF,aDtDQ,CCyDV,wDACE,YAAA,CACA,4BAAA,CACA,yBAAA,CAGF,oEACE,iBAAA,CACA,eEvCW,CFwCX,iBAAA,CAGF,+FACE,WE5CW,CF+Cb,0DCoxBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CDlxBF,kBAAA,CACA,mBE5DW,CF+Db,uDACE,mBEhEW,CD60BT,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD3wBF,aDlFQ,CCqFV,sDACE,YE5DW,CF6DX,YAAA,CACA,sBAAA,CACA,kBAAA",sourceRoot:""}]),s.locals={searchResultsContainer:"-esm-fast-data-entry__group-search__searchResultsContainer___cNQH2",searchResults:"-esm-fast-data-entry__group-search__searchResults___IAVPi",searchTerm:"-esm-fast-data-entry__group-search__searchTerm___PsuMT",resultsText:"-esm-fast-data-entry__group-search__resultsText___ByWT4",helperText:"-esm-fast-data-entry__group-search__helperText___hiPIZ",emptyResultText:"-esm-fast-data-entry__group-search__emptyResultText___tEWzA",actionText:"-esm-fast-data-entry__group-search__actionText___eRoZL",pagination:"-esm-fast-data-entry__group-search__pagination___s55FI",emptySearchResultsTile:"-esm-fast-data-entry__group-search__emptySearchResultsTile___dQf2f",errorMessage:"-esm-fast-data-entry__group-search__errorMessage___oh8Tu",errorCopy:"-esm-fast-data-entry__group-search__errorCopy___IiJZy",lastItem:"-esm-fast-data-entry__group-search__lastItem___ZkEUJ"};const i=s},9919:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(7537),a=r.n(n),o=r(3645),s=r.n(o)()(a());s.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-fast-data-entry__styles__breadcrumbsContainer___rQPV9>div>div>nav{background-color:#fff;padding:.75rem 1rem;height:2.5rem}.-esm-fast-data-entry__styles__workspaceWrapper___8dNsC{display:flex;justify-content:center}.-esm-fast-data-entry__styles__workspace___qeNxm{width:1100px}.omrs-breakpoint-lt-large-desktop .-esm-fast-data-entry__styles__workspace___qeNxm{width:1000px}.omrs-breakpoint-lt-small-desktop .-esm-fast-data-entry__styles__workspace___qeNxm{width:100vw;padding:0 .75rem}.-esm-fast-data-entry__styles__selectPatientMessage___XS640{font-size:var(--cds-productive-heading-03-font-size, 1.25rem);font-weight:var(--cds-productive-heading-03-font-weight, 400);line-height:var(--cds-productive-heading-03-line-height, 1.4);letter-spacing:var(--cds-productive-heading-03-letter-spacing, 0);margin:2rem;text-align:center}.-esm-fast-data-entry__styles__formMainContent___uEGFO{display:flex;text-align:center;margin-top:1rem;column-gap:1rem}.-esm-fast-data-entry__styles__formContainer___JOs4w{flex-grow:1;max-height:calc(100vh - 14rem);overflow-y:scroll;text-align:left}.-esm-fast-data-entry__styles__formContainer___JOs4w .cds--form-item .question-area{max-width:100%}.-esm-fast-data-entry__styles__rightPanel___pKJXB{min-width:13rem;text-align:left;overflow-y:scroll;display:flex;flex-direction:column;row-gap:1rem}.-esm-fast-data-entry__styles__patientCardsSection___TggNX{margin:1rem 0;border-bottom:1px solid #f4f4f4}.-esm-fast-data-entry__styles__rightPanelActionButtons___p7e2d{display:flex;flex-direction:column;row-gap:.5rem}.-esm-fast-data-entry__styles__rightPanelActionButtons___p7e2d button{width:100%;text-decoration:"none"}.-esm-fast-data-entry__styles__formSection___A_Zn1{display:flex;flex-direction:column;row-gap:1rem;justify-content:flex-start;align-items:flex-start;text-align:left}.-esm-fast-data-entry__styles__formSectionTile___srh1D{width:500px}.-esm-fast-data-entry__styles__formError___QC_bl{font-size:var(--cds-helper-text-02-font-size, 0.875rem);font-weight:var(--cds-helper-text-02-font-weight, 400);line-height:var(--cds-helper-text-02-line-height, 1.28572);letter-spacing:var(--cds-helper-text-02-letter-spacing, 0.16px);color:#da1e28}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/group-form-entry-workflow/styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCjDF,wEACE,qBDNM,CCON,mBAAA,CACA,aCqCW,CDlCb,wDACE,YAAA,CACA,sBAAA,CAGF,iDACE,YAAA,CAGF,mFACE,YAAA,CAGF,mFAEE,WAAA,CACA,gBAAA,CAGF,4DEm0BI,6DAAA,CAAA,6DAAA,CAAA,6DAAA,CAAA,iEAAA,CFj0BF,WCQW,CDPX,iBAAA,CAGF,uDACE,YAAA,CACA,iBAAA,CACA,eCTW,CDUX,eCVW,CDab,qDACE,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,eAAA,CAGF,oFACE,cAAA,CAGF,kDACE,eAAA,CACA,eAAA,CACA,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,YC9BW,CDiCb,2DACE,aAAA,CACA,+BAAA,CAGF,+DACE,YAAA,CACA,qBAAA,CACA,aCnDW,CDoDX,sEACE,UAAA,CACA,sBAAA,CAIJ,mDACE,YAAA,CACA,qBAAA,CACA,YAAA,CACA,0BAAA,CACA,sBAAA,CACA,eAAA,CAGF,uDACE,WAAA,CAIF,iDEqwBI,uDAAA,CAAA,sDAAA,CAAA,0DAAA,CAAA,+DAAA,CFnwBF,aGEO",sourceRoot:""}]),s.locals={breadcrumbsContainer:"-esm-fast-data-entry__styles__breadcrumbsContainer___rQPV9",workspaceWrapper:"-esm-fast-data-entry__styles__workspaceWrapper___8dNsC",workspace:"-esm-fast-data-entry__styles__workspace___qeNxm",selectPatientMessage:"-esm-fast-data-entry__styles__selectPatientMessage___XS640",formMainContent:"-esm-fast-data-entry__styles__formMainContent___uEGFO",formContainer:"-esm-fast-data-entry__styles__formContainer___JOs4w",rightPanel:"-esm-fast-data-entry__styles__rightPanel___pKJXB",patientCardsSection:"-esm-fast-data-entry__styles__patientCardsSection___TggNX",rightPanelActionButtons:"-esm-fast-data-entry__styles__rightPanelActionButtons___p7e2d",formSection:"-esm-fast-data-entry__styles__formSection___A_Zn1",formSectionTile:"-esm-fast-data-entry__styles__formSectionTile___srh1D",formError:"-esm-fast-data-entry__styles__formError___QC_bl"};const i=s},7279:(e,t,r)=>{r.r(t),r.d(t,{default:()=>vt});var n=r(1132),a=r(1672),o=r.n(a),s=r(4422),i=r(4672),l=r(7656),c=r(7410),u=r.n(c),d=r(4766),m=r.n(d),A=r(1991),p=r.n(A),f=r(3702),_=r.n(f),y=r(2434),g=r.n(y),h=r(1422),v=r.n(h),C=r(3822),b={};b.styleTagTransform=v(),b.setAttributes=_(),b.insert=p().bind(null,"head"),b.domAPI=m(),b.insertStyleElement=g(),u()(C.Z,b);const E=C.Z&&C.Z.locals?C.Z.locals:void 0;var w=r(3397),S=r(3375),D=r(1338),O=r(9993);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}var N={setGroup:function(e){},unsetGroup:function(){},setSessionMeta:function(e){},openPatientSearch:function(){},saveEncounter:function(e){},editEncounter:function(e){},validateForNext:function(){},validateForComplete:function(){},updateVisitUuid:function(e){},submitForNext:function(){},submitForReview:function(){},submitForComplete:function(){},addPatientUuid:function(e){},removePatientUuid:function(e){},goToReview:function(){},destroySession:function(){},closeSession:function(){}},T={activeFormUuid:null,forms:{},workflowState:null,activePatientUuid:null,activeEncounterUuid:null,activeVisitUuid:null,patientUuids:[],encounters:{},visits:{},activeGroupUuid:null,activeGroupName:null,activeGroupMembers:[],activeSessionMeta:{sessionName:null,practitionerName:null,sessionDate:null,sessionNotes:null},groupVisitTypeUuid:null,userUuid:null},P=o().createContext(B({},T,N)),I=function(e){var t,r,s,i,l,c,u,d,m,A,p,f,_,y,g,h,v,C,b,E,w,k,I,U,j,F,R,G,M,W,z,Z,q,L,V,Y,Q,X,H=e.children,J=(0,n.useSession)().user,$=(0,D.useParams)().formUuid.split("&")[0],K=(0,O.Z)("@openmrs/esm-fast-data-entry-app.groupSessionVisitTypeUuid"),ee=null==K||null===(t=K.result)||void 0===t||null===(r=t.data)||void 0===r||null===(s=r.results)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.value,te=(V=(0,a.useReducer)(S.ZP,B({},T,N)),Y=2,function(e){if(Array.isArray(e))return e}(V)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(V,Y)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(V,Y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),re=te[0],ne=te[1],ae=(0,a.useMemo)((function(){return{initializeWorkflowState:function(e){var t=e.activeFormUuid;return ne({type:"INITIALIZE_WORKFLOW_STATE",activeFormUuid:t,userUuid:J.uuid})},setGroup:function(e){return ne({type:"SET_GROUP",group:e})},unsetGroup:function(){return ne({type:"UNSET_GROUP"})},setSessionMeta:function(e){return ne({type:"SET_SESSION_META",meta:e})},addPatientUuid:function(e){return ne({type:"ADD_PATIENT_UUID",patientUuid:e})},removePatientUuid:function(e){return ne({type:"REMOVE_PATIENT_UUID",patientUuid:e})},openPatientSearch:function(){return ne({type:"OPEN_PATIENT_SEARCH"})},saveEncounter:function(e){return ne({type:"SAVE_ENCOUNTER",encounterUuid:e})},validateForNext:function(){return ne({type:"VALIDATE_FOR_NEXT"})},validateForComplete:function(){return ne({type:"VALIDATE_FOR_COMPLETE"})},updateVisitUuid:function(e){return ne({type:"UPDATE_VISIT_UUID",visitUuid:e})},submitForNext:function(e){return ne({type:"SUBMIT_FOR_NEXT",nextPatientUuid:e})},submitForComplete:function(){return ne({type:"SUBMIT_FOR_COMPLETE"})},editEncounter:function(e){return ne({type:"EDIT_ENCOUNTER",patientUuid:e})},goToReview:function(){return ne({type:"GO_TO_REVIEW"})},destroySession:function(){return ne({type:"DESTROY_SESSION"})},closeSession:function(){return ne({type:"CLOSE_SESSION"})}}}),[J]);return(0,a.useEffect)((function(){null===(null==re?void 0:re.workflowState)&&$&&ae.initializeWorkflowState({activeFormUuid:$})}),[$,null==re?void 0:re.workflowState,ae]),o().createElement(P.Provider,{value:(Q=B({groupVisitTypeUuid:ee},re,ae),X={workflowState:null!==(j=null===(l=re.forms)||void 0===l||null===(c=l[re.activeFormUuid])||void 0===c?void 0:c.workflowState)&&void 0!==j?j:T.workflowState,activePatientUuid:null!==(F=null===(u=re.forms)||void 0===u||null===(d=u[re.activeFormUuid])||void 0===d?void 0:d.activePatientUuid)&&void 0!==F?F:T.activePatientUuid,activeEncounterUuid:null!==(R=null===(m=re.forms)||void 0===m||null===(A=m[re.activeFormUuid])||void 0===A?void 0:A.activeEncounterUuid)&&void 0!==R?R:T.activeEncounterUuid,activeVisitUuid:null!==(G=null===(p=re.forms)||void 0===p||null===(f=p[re.activeFormUuid])||void 0===f?void 0:f.activeVisitUuid)&&void 0!==G?G:T.activeVisitUuid,patientUuids:null!==(M=null===(_=re.forms)||void 0===_||null===(y=_[re.activeFormUuid])||void 0===y?void 0:y.patientUuids)&&void 0!==M?M:T.patientUuids,encounters:null!==(W=null===(g=re.forms)||void 0===g||null===(h=g[re.activeFormUuid])||void 0===h?void 0:h.encounters)&&void 0!==W?W:T.encounters,activeGroupUuid:null!==(z=null===(v=re.forms)||void 0===v||null===(C=v[re.activeFormUuid])||void 0===C?void 0:C.groupUuid)&&void 0!==z?z:T.activeGroupUuid,activeGroupName:null!==(Z=null===(b=re.forms)||void 0===b||null===(E=b[re.activeFormUuid])||void 0===E?void 0:E.groupName)&&void 0!==Z?Z:T.activeGroupName,activeGroupMembers:null!==(q=null===(w=re.forms)||void 0===w||null===(k=w[re.activeFormUuid])||void 0===k?void 0:k.groupMembers)&&void 0!==q?q:T.activeGroupMembers,activeSessionMeta:null!==(L=null===(I=re.forms)||void 0===I||null===(U=I[re.activeFormUuid])||void 0===U?void 0:U.sessionMeta)&&void 0!==L?L:T.activeSessionMeta},X=null!=X?X:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(X)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(X)).forEach((function(e){Object.defineProperty(Q,e,Object.getOwnPropertyDescriptor(X,e))})),Q)},H)};const U=P,j=function(){var e=(0,a.useContext)(U),t=e.activeGroupName,r=e.activeGroupUuid,n=e.patientUuids,c=e.activeSessionMeta,u=e.unsetGroup,d=e.destroySession,m=(0,w.useTranslation)().t;return r?o().createElement("div",{className:E.container},o().createElement("div",{className:E.groupAvatar,role:"img"},o().createElement(i.zW,{size:48})),o().createElement("div",{className:E.groupInfoContent},o().createElement("div",{className:E.groupInfoRow},o().createElement("span",{className:E.groupName},t)),o().createElement("div",{className:E.groupInfoRow},o().createElement("span",null,n.length," ",m("members","members")))),(null==c?void 0:c.sessionNotes)&&o().createElement("div",{className:E.groupMeataContent},o().createElement("div",{className:"".concat(E.groupInfoRow," ").concat(E.sessionNotesLabel)},m("sessionNotes","Session Notes")),o().createElement("div",{className:E.groupInfoRow},c.sessionNotes)),o().createElement("span",{style:{flexGrow:1}}),o().createElement("span",null,o().createElement(s.Button,{kind:"ghost",onClick:function(){return u()}},m("changeGroup","Choose a different group")," ",o().createElement(l.x8,{size:20}))),o().createElement("span",null,o().createElement(s.Button,{kind:"ghost",onClick:function(){return d()}},m("cancel","Cancel")," ",o().createElement(l.x8,{size:20})))):null};var F=r(9919),R={};R.styleTagTransform=v(),R.setAttributes=_(),R.insert=p().bind(null,"head"),R.domAPI=m(),R.insertStyleElement=g(),u()(F.Z,R);const G=F.Z&&F.Z.locals?F.Z.locals:void 0;var M=r(7141),W=r(8472),z={};z.styleTagTransform=v(),z.setAttributes=_(),z.insert=p().bind(null,"head"),z.domAPI=m(),z.insertStyleElement=g(),u()(W.Z,z);const Z=W.Z&&W.Z.locals?W.Z.locals:void 0;var q=r(6886),L={};L.styleTagTransform=v(),L.setAttributes=_(),L.insert=p().bind(null,"head"),L.domAPI=m(),L.insertStyleElement=g(),u()(q.Z,L);const V=q.Z&&q.Z.locals?q.Z.locals:void 0;var Y=r(5812),Q={};Q.styleTagTransform=v(),Q.setAttributes=_(),Q.insert=p().bind(null,"head"),Q.domAPI=m(),Q.insertStyleElement=g(),u()(Y.Z,Q);const X=Y.Z&&Y.Z.locals?Y.Z.locals:void 0;var H=r(729),J=r(2111),$={};$.styleTagTransform=v(),$.setAttributes=_(),$.insert=p().bind(null,"head"),$.domAPI=m(),$.insertStyleElement=g(),u()(J.Z,$);const K=J.Z&&J.Z.locals?J.Z.locals:void 0;function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const te=function(e){var t,r,n=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],s=n[1];return(0,a.useEffect)((function(){var t=function(t){t.key===e&&s(!0)},r=function(t){t.key===e&&s(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",r)}}),[e]),o};function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}var ae=function(e,t){switch(t.type){case"arrowUp":return{selectedIndex:Math.max(e.selectedIndex-1,0)};case"arrowDown":return{selectedIndex:Math.min(e.selectedIndex+1,t.listLength-1)};case"select":return{selectedIndex:t.payload};default:return e}},oe={behavior:"smooth",block:"nearest"},se=function(e){var t,r,n=e.index,s=e.selectGroupAction,l=e.group,c=e.dispatch,u=e.state,d=e.totalGroups,m=e.lastRef,A=(0,a.useRef)(null),p=(0,w.useTranslation)().t;return(0,a.useEffect)((function(){u.selectedIndex===d-1?m.current.scrollIntoView(oe):u.selectedIndex===n&&A.current.scrollIntoView(oe)}),[u,n,d,m]),o().createElement("div",{onClick:function(){c({type:"select",payload:n}),s(l)},className:"".concat(K.patientSearchResult," ").concat(n===u.selectedIndex&&K.patientSearchResultSelected),role:"button","aria-pressed":n===u.selectedIndex,tabIndex:0,ref:A},o().createElement("div",{className:K.patientAvatar,role:"img"},o().createElement(i.zW,{size:24})),o().createElement("div",null,o().createElement("h2",{className:K.patientName},l.name),o().createElement("p",{className:K.demographics},null!==(r=null===(t=l.cohortMembers)||void 0===t?void 0:t.length)&&void 0!==r?r:0," ",p("members","members"),o().createElement("span",{className:K.middot},"·")," ",l.description)))},ie=function(){return o().createElement("div",{className:K.patientSearchResult},o().createElement("div",{className:K.patientAvatar,role:"img"},o().createElement(s.SkeletonIcon,{style:{height:"3rem",width:"3rem"}})),o().createElement("div",null,o().createElement("h2",{className:K.patientName},o().createElement(s.SkeletonText,null)),o().createElement("span",{className:K.demographics},o().createElement(s.SkeletonIcon,null)," ",o().createElement("span",{className:K.middot},"·")," ",o().createElement(s.SkeletonIcon,null)," ",o().createElement("span",{className:K.middot},"·")," ",o().createElement(s.SkeletonIcon,null))))};const le=function(e){var t,r,n=e.groups,s=e.selectGroupAction,i=e.lastRef,l=te("ArrowUp"),c=te("ArrowDown"),u=te("Enter"),d=(t=(0,a.useReducer)(ae,{selectedIndex:0}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1];return(0,a.useEffect)((function(){l&&A({type:"arrowUp"})}),[l]),(0,a.useEffect)((function(){c&&A({type:"arrowDown",listLength:n.length})}),[c,n.length]),(0,a.useEffect)((function(){u&&n.length&&s(n[m.selectedIndex])}),[u,s,n,m.selectedIndex]),o().createElement(o().Fragment,null,n.map((function(e,t){return o().createElement(se,ne({key:t,totalGroups:n.length},{lastRef:i,index:t,selectGroupAction:s,group:e,dispatch:A,state:m}))})))};var ce=r(1601),ue=r.n(ce);function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ae.apply(this,arguments)}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){me(e,t,r[t])}))}return e}function fe(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}var _e=function(e){var t,r,o,s,i,l,c,u,d,m,A,p,f,_,y,g,h;return t=pe({baseUrl:"/ws/rest/v1/cohortm/cohort",resultsToFetch:10},Ae({},e)),o=t.baseUrl,s=t.searchTerm,i=t.parameters,c=void 0===(l=t.searching)||l,u=t.resultsToFetch,d=void 0===u?10:u,m=(0,a.useCallback)((function(e,t){var r;if(t&&!(null==t||null===(r=t.data)||void 0===r?void 0:r.links.some((function(e){return"next"===e.rel}))))return null;var n="".concat(o,"?q=").concat(s),a=pe({totalCount:!0,limit:d},i);return Object.entries(a).forEach((function(e){var t,r,a=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||fe(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=a[1];null!=s&&(n+="&".concat(o,"=").concat(s))})),e&&(n+="&startIndex=".concat(e*d)),n}),[o,s,i,d]),A=ue()(c?m:null,n.openmrsFetch),p=A.data,f=A.isValidating,_=A.setSize,y=A.error,g=A.size,h=(0,a.useMemo)((function(){var e,t,n,a,o,s;return{data:p?(e=[]).concat.apply(e,(s=null!==(r=null==p?void 0:p.map((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.results})))&&void 0!==r?r:[],function(e){if(Array.isArray(e))return de(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||fe(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):null,isLoading:!p&&!y,error:y,hasMore:!!(null==p?void 0:p.length)&&!!(null===(t=p[p.length-1].data)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.some((function(e){return"next"===e.rel}))),loadingNewData:f,setPage:_,currentPage:g,totalResults:null==p||null===(a=p[0])||void 0===a||null===(o=a.data)||void 0===o?void 0:o.totalCount}}),[p,f,y,_,g]),h};const ye=function(e){var t=e.query,r=void 0===t?"":t,n=e.selectGroupAction,i=(0,w.useTranslation)().t,l=_e({searchTerm:r,searching:!!r,parameters:{v:"full"}}),c=l.isLoading,u=l.data,d=l.error,m=l.loadingNewData,A=l.setPage,p=l.hasMore,f=l.totalResults,_=(0,a.useRef)(null),y=(0,a.useRef)(null),g=(0,a.useCallback)((function(e){m||(y.current&&y.current.disconnect(),y.current=new IntersectionObserver((function(e){e[0].isIntersecting&&p&&A((function(e){return e+1}))}),{threshold:.75}),e&&y.current.observe(e))}),[m,p,A]);return d?o().createElement("div",{className:X.searchResults},o().createElement(s.Layer,null,o().createElement(s.Tile,{className:X.emptySearchResultsTile},o().createElement(H.N,null),o().createElement("div",null,o().createElement("p",{className:X.errorMessage},i("error","Error")),o().createElement("p",{className:X.errorCopy},i("errorCopy","Sorry, there was an error. You can try to reload this page, or contact the site administrator and quote the error code above.")))))):c?o().createElement("div",{className:X.searchResultsContainer},o().createElement(ie,null),o().createElement(ie,null),o().createElement(ie,null),o().createElement(ie,null),o().createElement(ie,null)):0===(null==u?void 0:u.length)?o().createElement("div",{className:X.searchResults},o().createElement(s.Layer,null,o().createElement(s.Tile,{className:X.emptySearchResultsTile},o().createElement(H.N,null),o().createElement("p",{className:X.emptyResultText},i("noGroupsFoundMessage","Sorry, no groups have been found")),o().createElement("p",{className:X.actionText},o().createElement("span",null,i("trySearchWithPatientUniqueID","Try searching with the cohort's description")),o().createElement("br",null),o().createElement("span",null,i("orLabelName","OR label name")))))):o().createElement("div",{className:X.searchResultsContainer},o().createElement("div",{className:X.searchResults,style:{maxHeight:"22rem"}},o().createElement("p",{className:X.resultsText},f," ",i("searchResultsText","search result(s)")),o().createElement(le,{groups:u,selectGroupAction:n,lastRef:_}),o().createElement("div",{ref:_},o().createElement("div",{className:X.lastItem,ref:g},p&&o().createElement(s.Loading,{withOverlay:!1,small:!0}),!p&&o().createElement("p",null,i("noMoreResults","End of search results"))))))};var ge=r(7486);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ce=function(e){var t=e.selectGroupAction,r=(0,w.useTranslation)().t,n=ve((0,a.useState)(""),2),i=n[0],l=n[1],c=ve((0,a.useState)(!1),2),u=c[0],d=c[1];return o().createElement("div",{className:V.patientSearchBar},o().createElement("div",{className:V.searchArea},o().createElement(s.Search,{autoFocus:!0,className:V.patientSearchInput,closeButtonLabelText:r("clearSearch","Clear"),labelText:"",onChange:function(e){var t;t=e.target.value,(0,ge.Z)((function(e){d(!!t.length),l(e)}),300),l(t),t.length?d(!0):d(!1)},onClear:function(){},placeholder:r("searchForGroup","Search for a group by name"),size:"sm",value:i}),o().createElement(s.Button,{kind:"secondary",size:"sm"},r("search","Search"))),u&&o().createElement("div",{className:V.floatingSearchResultsContainer},o().createElement(ye,{query:i,selectGroupAction:function(e){t(e),d(!1),l("")}})))};var be=r(1940),Ee=r(8925),we={};we.styleTagTransform=v(),we.setAttributes=_(),we.insert=p().bind(null,"head"),we.domAPI=m(),we.insertStyleElement=g(),u()(Ee.Z,we);const Se=Ee.Z&&Ee.Z.locals?Ee.Z.locals:void 0;var De=r(3237);function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){xe(e,t,r[t])}))}return e}function Ne(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}var Ie=o().memo(n.ExtensionSlot),Ue=function(e){var t=e.patient,r=e.removePatient,n=(0,w.useTranslation)().t,i=(0,a.useCallback)((function(){return r(null==t?void 0:t.uuid)}),[t,r]),l=(0,a.useMemo)((function(){return t?t.display?t.display:function(e){var t,r,n,a,o,s,i,l=null==e||null===(t=e.name)||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.given)||void 0===n?void 0:n[0],c=null==e||null===(a=e.name)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.family,u=null==e||null===(s=e.identifier)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.value,d=u?u+" - ":"";return(d+=(l||"")+" "+(c||"")).replace(/\s+/g," ")}(t):""}),[t]);return o().createElement("li",{key:null==t?void 0:t.uuid,className:Se.patientRow},o().createElement("span",null,o().createElement(s.Button,{kind:"tertiary",size:"sm",hasIconOnly:!0,onClick:i,renderIcon:be.ZN,tooltipAlignment:"start",tooltipPosition:"top",iconDescription:n("remove","Remove")})),o().createElement("span",{className:Se.patientName},l))},je=function(e){var t=e.name,r=e.setName,n=e.patientList,a=e.updatePatientList,i=e.errors,l=e.validate,c=e.removePatient,u=(0,w.useTranslation)().t;return o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1rem"}},o().createElement(s.TextInput,{labelText:u("newGroupName","New Group Name"),value:t,onChange:function(e){return r(e.target.value)},onBlur:function(){return l("name")}}),(null==i?void 0:i.name)&&o().createElement("p",{className:Se.formError},"required"===i.name?u("groupNameError","Please enter a group name."):i.name),o().createElement(s.FormLabel,null,n.length," ",u("patientsInGroup","Patients in group")),(null==i?void 0:i.patientList)&&o().createElement("p",{className:Se.formError},u("noPatientError","Please enter at least one patient.")),!(null==i?void 0:i.patientList)&&o().createElement("ul",{className:Se.patientList},null==n?void 0:n.map((function(e,t){return o().createElement(Ue,{patient:e,removePatient:c,key:t})}))),o().createElement(s.FormLabel,null,"Search for patients to add to group"),o().createElement("div",{className:Se.searchBar},o().createElement(Ie,{extensionSlotName:"patient-search-bar-slot",state:{selectPatientAction:a,buttonProps:{kind:"secondary"}}})))};const Fe=function(e){var t=e.patients,r=void 0===t?void 0:t,i=e.isCreate,l=void 0===i?void 0:i,c=e.groupName,u=void 0===c?"":c,d=e.cohortUuid,m=void 0===d?void 0:d,A=e.isOpen,p=e.handleCancel,f=e.onPostSubmit,_=(0,a.useContext)(U).setGroup,y=(0,w.useTranslation)().t,g=Te((0,a.useState)({}),2),h=g[0],v=g[1],C=Te((0,a.useState)(u),2),b=C[0],E=C[1],S=Te((0,a.useState)(r||[]),2),D=S[0],O=S[1],x=(0,De.zg)(),k=x.post,B=x.result,N=x.error,T=(0,a.useCallback)((function(e){return O((function(t){return t.filter((function(t){return t.uuid!==e}))}))}),[O]),P=(0,a.useCallback)((function(e){var t=!0;return e?(t="name"===e?!!b:!!D.length,v((function(r){return Ne(Be({},r),xe({},e,t?null:"required"))}))):(b?v((function(e){return Ne(Be({},e),{name:null})})):(v((function(e){return Ne(Be({},e),{name:"required"})})),t=!1),D.length?v((function(e){return Ne(Be({},e),{patientList:null})})):(v((function(e){return Ne(Be({},e),{patientList:"required"})})),t=!1)),t}),[b,D.length]),I=(0,a.useCallback)((function(e){O((function(t){return t.find((function(t){return t.uuid===e.uuid}))?t:(r=t,function(e){if(Array.isArray(e))return Oe(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Pe(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]);var r})),v((function(e){return Ne(Be({},e),{patientList:null})}))}),[O]);return(0,a.useEffect)((function(){B&&_(Ne(Be({},B),{cohortMembers:D.map((function(e){return{patient:{uuid:e.uuid}}}))}))}),[B,_,D]),(0,a.useEffect)((function(){var e;N&&((0,n.showToast)({kind:"error",title:y("postError","POST Error"),description:null!==(e=N.message)&&void 0!==e?e:y("unknownPostError","An unknown error occurred while saving data")}),N.fieldErrors&&v(Object.fromEntries(Object.entries(N.fieldErrors).map((function(e){var t,r=Te(e,2),n=r[0],a=r[1];return[n,null==a||null===(t=a[0])||void 0===t?void 0:t.message]})))))}),[N,y]),o().createElement("div",{className:Se.modal},o().createElement(s.ComposedModal,{open:A,onClose:p},o().createElement(s.ModalHeader,null,l?y("createNewGroup","Create New Group"):y("editGroup","Edit Group")),o().createElement(s.ModalBody,null,o().createElement(je,ke({},{name:b,setName:E,patientList:D,updatePatientList:I,errors:h,validate:P,removePatient:T}))),o().createElement(s.ModalFooter,null,o().createElement(s.Button,{kind:"secondary",onClick:p},y("cancel","Cancel")),o().createElement(s.Button,{kind:"primary",onClick:function(){P()&&(k({uuid:m,name:b,cohortMembers:D.map((function(e){return{patient:e.uuid}}))}),f&&f())}},l?y("createGroup","Create Group"):y("save","Save")))))};function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge.apply(this,arguments)}const Me=function(){var e,t,r=(0,w.useTranslation)().t,n=(0,a.useContext)(U),i=n.activeGroupUuid,c=n.setGroup,u=n.destroySession,d=(e=(0,a.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1],p=(0,a.useCallback)((function(){A(!1)}),[]),f=(0,a.useCallback)((function(){A(!1)}),[]),_=(0,a.useCallback)((function(){A(!0)}),[]);return i?null:o().createElement("div",{className:Z.searchHeaderContainer},o().createElement("span",{className:Z.padded},r("findGroup","Find group"),":"),o().createElement("span",{className:Z.searchBarWrapper},o().createElement(Ce,{selectGroupAction:function(e){c(e)}})),o().createElement("span",{className:Z.padded},r("or","or")),o().createElement("span",null,o().createElement(s.Button,{onClick:_,renderIcon:M.mm,iconDescription:"Add"},r("createNewGroup","Create New Group")),o().createElement(Fe,Ge({},{isCreate:!0,isOpen:m,handleCancel:p,onPostSubmit:f}))),o().createElement("span",{style:{flexGrow:1}}),o().createElement("span",null,o().createElement(s.Button,{kind:"ghost",onClick:function(){u()}},r("cancel","Cancel")," ",o().createElement(l.x8,{size:20}))))};var We=r(7536),ze=r(6254);function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Le.apply(this,arguments)}var Ve=function(e){var t,r,n,i,l,c,u,d=e.patient,m=(0,a.useContext)(U),A=m.patientUuids,p=m.addPatientUuid,f=m.removePatientUuid,_=null==d||null===(t=d.name)||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.given)||void 0===n?void 0:n[0],y=null==d||null===(i=d.name)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.family,g=null==d||null===(c=d.identifier)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.value;return d?o().createElement(s.TableRow,null,o().createElement(s.TableCell,null,d.display||d.displayName||[_,y].join(" ")),o().createElement(s.TableCell,null,g),o().createElement(s.TableCell,null,o().createElement(s.Checkbox,{checked:A.includes(d.id),labelText:d.id,hideLabel:!0,id:"".concat(g,"-attendance-checkbox"),onChange:function(e,t){t.checked?p(d.id):f(d.id)}}))):o().createElement(s.TableRow,null,o().createElement(s.TableCell,null,o().createElement(s.SkeletonText,null)),o().createElement(s.TableCell,null,o().createElement(s.SkeletonText,null)),o().createElement(s.TableCell,null,o().createElement(s.Checkbox,{diabled:!0})))};const Ye=function(e){var t,r,n=e.patients,l=(0,w.useTranslation)().t,c=(0,a.useContext)(U),u=c.activeGroupUuid,d=c.activeGroupName,m=c.activeGroupMembers,A=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=A[0],f=A[1],_=[l("name","Name"),l("identifier","Patient ID"),l("patientIsPresent","Patient is present")],y=(0,a.useCallback)((function(){f(!1)}),[]),g=(0,a.useCallback)((function(){f(!1)}),[]),h=(0,a.useMemo)((function(){return m.map((function(e){var t=n.find((function(t){return t.id===e}));return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qe(e,t,r[t])}))}return e}({uuid:e},t)}))}),[m,n]);return u?o().createElement("div",null,o().createElement("span",{style:{flexGrow:1}}),o().createElement(s.Button,{kind:"ghost",onClick:function(){return f(!0)}},l("editGroup","Edit Group")," ",o().createElement(i.I8,{size:20})),o().createElement(Fe,Le({},{cohortUuid:u,patients:h,isCreate:!1,groupName:d,isOpen:p,handleCancel:y,onPostSubmit:g})),o().createElement(s.Table,null,o().createElement(s.TableHead,null,o().createElement(s.TableRow,null,_.map((function(e,t){return o().createElement(s.TableHeader,{key:t},e)})))),o().createElement(s.TableBody,null,m.map((function(e,t){var r=n.find((function(t){return t.id===e}));return o().createElement(Ve,{patient:r,key:t})}))))):o().createElement("div",null,l("selectGroupFirst","Please select a group first"))};function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xe(e,t,r,n,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function He(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){Xe(o,n,a,s,i,"next",e)}function i(e){Xe(o,n,a,s,i,"throw",e)}s(void 0)}))}}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $e=function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ke.apply(this,arguments)}const et=function(){var e=(0,w.useTranslation)().t,t=(0,We.Gc)(),r=t.register,i=t.formState.errors,l=t.control,c=function(e){var t=Je((0,a.useState)([]),2),r=t[0],o=t[1],s=Je((0,a.useState)(!0),2),i=s[0],l=s[1];(0,a.useEffect)((function(){e&&0!==e.length?u(e):(o([]),l(!1))}),[e]);var c,u=(c=He((function(e){var t,r;return $e(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),l(!0),[4,Promise.all(e.map(function(){var e=He((function(e){return $e(this,(function(t){switch(t.label){case 0:return[4,(0,n.fetchCurrentPatient)(e)];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return t=a.sent(),o(t),l(!1),[3,3];case 2:return r=a.sent(),console.error("Error fetching patients:",r),l(!1),[3,3];case 3:return[2]}}))})),function(e){return c.apply(this,arguments)});return{patients:r,isLoading:i}}((0,a.useContext)(U).patientUuids),u=c.patients,d=c.isLoading;return o().createElement("div",null,!d&&o().createElement("div",{className:G.formSection},o().createElement("h4",null,e("sessionDetails","1. Session details")),o().createElement("div",null,o().createElement("p",null,e("allFieldsRequired","All fields are required unless marked optional"))),o().createElement(s.Layer,null,o().createElement(s.Tile,{className:G.formSectionTile},o().createElement(s.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(s.TextInput,Ke({id:"text",type:"text",labelText:e("sessionName","Session Name")},r("sessionName",{required:!0}),{invalid:i.sessionName,invalidText:"This field is required"})),o().createElement(s.TextInput,Ke({id:"text",type:"text",labelText:e("practitionerName","Practitioner Name")},r("practitionerName",{required:!0}),{invalid:i.practitionerName,invalidText:"This field is required"})),o().createElement(We.Qr,{name:"sessionDate",control:l,rules:{required:!0},render:function(t){var r=t.field;return o().createElement(s.DatePicker,Ke({datePickerType:"single",size:"md",maxDate:new Date},r),o().createElement(s.DatePickerInput,{id:"session-date",labelText:e("sessionDate","Session Date"),placeholder:"mm/dd/yyyy",size:"md",invalid:i.sessionDate,invalidText:"This field is required"}))}}),o().createElement(s.TextArea,Ke({id:"text",type:"text",labelText:e("sessionNotes","Session Notes")},r("sessionNotes",{required:!0}),{invalid:i.sessionNotes,invalidText:"This field is required"})))))),o().createElement("h4",null,e("sessionParticipants","2. Session participants")),o().createElement("div",null,o().createElement("p",null,e("markAbsentPatients","The patients in this group. Patients that are not present in the session should be marked as absent."))),o().createElement(s.Layer,null,o().createElement(s.Tile,{className:G.formSectionTile},o().createElement(s.Layer,null,o().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"1.5rem"}},o().createElement(Ye,{patients:u})))))))};function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nt.apply(this,arguments)}var at=function(){var e,t,r=(0,w.useTranslation)().t,n=(0,a.useContext)(U),i=n.workflowState,l=n.patientUuids,c=(e=(0,a.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1];return"NEW_GROUP_SESSION"!==i?null:o().createElement(o().Fragment,null,o().createElement("div",{className:G.rightPanelActionButtons},o().createElement(s.Button,{kind:"secondary",type:"submit",disabled:!l.length},r("createNewSession","Create New Session")),o().createElement(s.Button,{kind:"tertiary",onClick:function(){d(!0)}},r("cancel","Cancel"))),o().createElement(ze.Z,{open:u,setOpen:d,context:n}))},ot=function(){var e=(0,w.useTranslation)().t,t=(0,We.Gc)(),r=t.register,n=t.formState.errors,s=t.setValue,i=(0,a.useContext)(U).activeGroupUuid;return(0,a.useEffect)((function(){i&&s("groupUuid",i)}),[i,s]),o().createElement(o().Fragment,null,o().createElement("input",nt({hidden:!0},r("groupUuid",{value:i,required:e("chooseGroupError","Please choose a group.")}))),n.groupUuid&&!i&&o().createElement("div",{className:G.formError},n.groupUuid.message))};const st=function(){var e=(0,w.useTranslation)().t,t=(0,a.useContext)(U),r=t.setSessionMeta,n=t.workflowState,s=(0,We.cI)();return"NEW_GROUP_SESSION"!==n?null:o().createElement(We.RV,nt({},s),o().createElement("form",{onSubmit:s.handleSubmit((function(e){var t,n,a=e.sessionDate,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["sessionDate"]);r((t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){rt(e,t,r[t])}))}return e}({},o),n=null!=(n={sessionDate:a[0]})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}))},o().createElement("div",{className:G.workspace},o().createElement("div",{className:G.formMainContent},o().createElement("div",{className:G.formContainer},o().createElement(et,null)),o().createElement("div",{className:G.rightPanel},o().createElement("h4",null,e("newGroupSession","New Group Session")),o().createElement(ot,null),o().createElement("hr",{style:{width:"100%"}}),o().createElement(at,null))))))};var it=r(5587),lt=r(6552),ct=r(5278),ut=r(4775);function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},At.apply(this,arguments)}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){mt(e,t,r[t])}))}return e}function ft(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){i=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yt=(0,n.getGlobalStore)("ampath-form-state"),gt=function(){var e=(0,a.useContext)(U),t=e.activeFormUuid,r=e.submitForNext,i=e.patientUuids,l=e.activePatientUuid,c=e.workflowState,u=(0,n.useStore)(yt)[t],d=("ready"!==u||"EDIT_FORM"!==c)&&"readyWithValidationErrors"!==u,m=_t((0,a.useState)(!1),2),A=m[0],p=m[1],f=_t((0,a.useState)(!1),2),_=f[0],y=f[1],g=(0,w.useTranslation)().t,h=l===i[i.length-1];return o().createElement(o().Fragment,null,o().createElement("div",{className:G.rightPanelActionButtons},o().createElement(s.Button,{kind:"primary",onClick:function(){"EDIT_FORM"!==c&&"readyWithValidationErrors"!==u||r()},disabled:d},h?g("saveForm","Save Form"):g("nextPatient","Next Patient")),o().createElement(s.Button,{kind:"secondary",onClick:function(){return y(!0)}},g("saveAndComplete","Save & Complete")),o().createElement(s.Button,{kind:"tertiary",onClick:function(){return p(!0)}},g("cancel","Cancel"))),o().createElement(ze.Z,{open:A,setOpen:p,context:e}),o().createElement(ut.Z,{open:_,setOpen:y,context:e,validateFirst:!1}))};const ht=function(){var e=(0,n.useConfig)().groupSessionConcepts,t=(0,w.useTranslation)().t,r=(0,a.useContext)(U),s=r.patientUuids,i=r.activePatientUuid,l=r.encounters,c=r.activeEncounterUuid,u=r.activeVisitUuid,d=r.activeFormUuid,m=r.saveEncounter,A=r.activeSessionMeta,p=r.groupVisitTypeUuid,f=r.updateVisitUuid,_=r.submitForNext,y=r.workflowState,g=(0,n.useSession)().sessionLocation,h=_t((0,a.useState)(null),2),v=h[0],C=h[1],b=_t((0,a.useState)(null),2),E=b[0],S=b[1],D=(0,ct.Z)({showSuccessNotification:!1,showErrorNotification:!0}),O=D.saveVisit,x=D.updateEncounter,k=D.success;(0,a.useEffect)((function(){k&&k.data.patient.uuid===i&&(S(k.data),f(k.data.uuid))}),[k,f,u,i,E,S]);var B=(0,a.useCallback)((function(t){u||O({patientUuid:i,startDatetime:A.sessionDate,stopDatetime:A.sessionDate,visitType:p,location:null==g?void 0:g.uuid});var r=new Date(A.sessionDate);t.obs.forEach((function(e,n){var a;t.obs[n]=ft(pt({},e),{groupMembers:null===(a=e.groupMembers)||void 0===a?void 0:a.map((function(e){return ft(pt({},e),{obsDatetime:r.toISOString()})})),obsDatetime:r.toISOString()})})),u||Object.entries(e).forEach((function(e){var r=_t(e,2),n=r[0],a=r[1];t.obs.push({concept:a,value:null==A?void 0:A[n]})})),t.location=null==g?void 0:g.uuid,t.encounterDatetime=r.toISOString()}),[i,u,A,e,p,O,g]);(0,a.useEffect)((function(){var e,t;v&&E&&(null===(e=v.patient)||void 0===e?void 0:e.uuid)===(null===(t=E.patient)||void 0===t?void 0:t.uuid)&&x({uuid:v.uuid,visit:E.uuid})}),[v,x,E]);var N=(0,a.useCallback)((function(e){e&&e.uuid&&(m(e.uuid),C(e))}),[m]),T=(0,a.useCallback)((function(e){_(e)}),[_]);return"NEW_GROUP_SESSION"===y?null:o().createElement("div",{className:G.workspace},o().createElement("div",{className:G.formMainContent},o().createElement("div",{className:G.formContainer},o().createElement(lt.Z,At({patientUuid:i,encounterUuid:c},{formUuid:d,handlePostResponse:N,handleEncounterCreate:B}))),o().createElement("div",{className:G.rightPanel},o().createElement("h4",null,t("formsFilled","Forms filled")),o().createElement("div",{className:G.patientCardsSection},null==s?void 0:s.map((function(e){return o().createElement(it.Z,At({key:e},{patientUuid:e,activePatientUuid:i,editEncounter:T,encounters:l}))}))),o().createElement(gt,null))))},vt=function(){return o().createElement(I,null,o().createElement("div",{className:G.breadcrumbsContainer},o().createElement(n.ExtensionSlot,{extensionSlotName:"breadcrumbs-slot"})),o().createElement(Me,null),o().createElement(j,null),o().createElement("div",{className:G.workspaceWrapper},o().createElement(st,null),o().createElement(ht,null)))}}}]);