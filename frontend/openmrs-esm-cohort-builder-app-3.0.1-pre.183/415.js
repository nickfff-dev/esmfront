(globalThis.webpackChunk_openmrs_esm_cohort_builder_app=globalThis.webpackChunk_openmrs_esm_cohort_builder_app||[]).push([[415],{7503:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__composition-style__text___v9AtW {\n  font-size: 0.85rem;\n}\n","",{version:3,sources:["webpack://./src/components/composition/composition.style.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB",sourceRoot:""}]),i.locals={text:"-esm-cohort-builder__composition-style__text___v9AtW"};const l=i},6794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-button-set__container___qpYqh {\n  padding-bottom: 0.5rem;\n  padding-top: 1rem;\n}\n\n.-esm-cohort-builder__search-button-set__buttonSet___EgarM {\n justify-content: end;\n}\n\n","",{version:3,sources:["webpack://./src/components/search-button-set/search-button-set.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,iBAAiB;AACnB;;AAEA;CACC,oBAAoB;AACrB",sourceRoot:""}]),i.locals={container:"-esm-cohort-builder__search-button-set__container___qpYqh",buttonSet:"-esm-cohort-builder__search-button-set__buttonSet___EgarM"};const l=i},1229:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-concept-style__search___UNP4P {\n  max-height: 400px;\n  overflow: scroll;\n  position: absolute;\n  z-index: 2;\n  width: 33%;\n  background: #f0eeee;\n}\n\n.-esm-cohort-builder__search-concept-style__concept___KPInA {\n  font-weight: bold;\n}\n\n.-esm-cohort-builder__search-concept-style__text___e1nIu {\n padding-top: 1.5rem;\n}\n\n.-esm-cohort-builder__search-concept-style__notification___uKy89 {\n  position: fixed;\n  left: 50%;\n  bottom: 20px;\n  transform: translate(-50%, -50%);\n  margin: 0 auto;\n  z-index: 1;\n}\n","",{version:3,sources:["webpack://./src/components/search-by-concepts/search-concept/search-concept.style.css"],names:[],mappings:"AAAA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;EACV,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;EACE,eAAe;EACf,SAAS;EACT,YAAY;EACZ,gCAAgC;EAChC,cAAc;EACd,UAAU;AACZ",sourceRoot:""}]),i.locals={search:"-esm-cohort-builder__search-concept-style__search___UNP4P",concept:"-esm-cohort-builder__search-concept-style__concept___KPInA",text:"-esm-cohort-builder__search-concept-style__text___e1nIu",notification:"-esm-cohort-builder__search-concept-style__notification___uKy89"};const l=i},735:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-cohort-builder__cohort-builder__heading___kkrPT{font-size:var(--cds-productive-heading-02-font-size, 1rem);font-weight:var(--cds-productive-heading-02-font-weight, 600);line-height:var(--cds-productive-heading-02-line-height, 1.375);letter-spacing:var(--cds-productive-heading-02-letter-spacing, 0);color:#525252;margin-bottom:1rem}.-esm-cohort-builder__cohort-builder__heading___kkrPT:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-cohort-builder__cohort-builder__mainContainer___lzHAJ{padding-bottom:1.5rem;background:#f4f4f4;display:flex;justify-content:center}.-esm-cohort-builder__cohort-builder__title___DhXTl{padding:1rem;font-size:1.2rem}.-esm-cohort-builder__cohort-builder__desktopContainer___EgML0{width:50%}.-esm-cohort-builder__cohort-builder__tabletContainer___QSkRw{width:90%}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--date-picker.cds--date-picker--single .cds--date-picker__input{width:auto}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tab-content{width:80%;padding:0}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--inline-loading__text{color:#fff}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tab--list{flex-direction:column;margin:1rem}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tabs{width:auto;max-height:100%}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tabs .cds--tabs__nav-link{border-bottom:0;border-left:3px solid #e0e0e0}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tabs .cds--tabs__nav-item--selected{border-left:3px solid var(--brand-03);border-bottom:0;font-weight:600}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--number{width:68%}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tabs__nav-link:active,.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--tabs__nav-link:focus{outline:0 !important;outline-offset:0 !important}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--multi-select__wrapper .cds--list-box__wrapper{width:90% !important}.-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4 .cds--col{padding-left:0;width:100%}.-esm-cohort-builder__cohort-builder__tabletTab___o2Wcs{width:25%}.-esm-cohort-builder__cohort-builder__desktopTab___F2Uxn{width:20%}.-esm-cohort-builder__cohort-builder__tab___cyRdb{display:flex}.-esm-cohort-builder__cohort-builder__tabContainer___Q9RGy{background:#fff;padding-left:1.5rem;padding-right:1rem;padding-top:1rem;margin-bottom:1rem}.-esm-cohort-builder__cohort-builder__optionCell___LL3to{padding:0 !important}.-esm-cohort-builder__cohort-builder__optionHeader___qOJXg{width:1.5rem !important}.-esm-cohort-builder__cohort-builder__text___G8Imk{font-size:.9rem;padding:.5rem}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/cohort-builder.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,sDCs0BI,0DAAA,CAAA,6DAAA,CAAA,+DAAA,CAAA,iEAAA,CDp0BF,aDDQ,CCER,kBEwBW,CFrBb,4DACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAGF,4DACE,qBAAA,CACA,kBDpBM,CCqBN,YAAA,CACA,sBAAA,CAGF,oDACE,YAAA,CACA,gBAAA,CAGF,+DACE,SAAA,CAGF,8DACE,SAAA,CAIA,gIACE,UAAA,CAGF,8EACE,SAAA,CACA,SAAA,CAGF,uFACE,UAAA,CAGF,4EACE,qBAAA,CACA,WAAA,CAGF,uEACE,UAAA,CACA,eAAA,CAGF,4FACE,eAAA,CACA,6BAAA,CAGF,sGACE,qCAAA,CACA,eAAA,CACA,eAAA,CAGF,yEACE,SAAA,CAIA,+KACE,oBAAA,CACA,2BAAA,CAIJ,gHACE,oBAAA,CAGF,sEACE,cAAA,CACA,UAAA,CAIJ,wDACE,SAAA,CAGF,yDACE,SAAA,CAGF,kDACE,YAAA,CAGF,2DACE,eAAA,CACA,mBAAA,CACA,kBAAA,CACA,gBAAA,CACA,kBAAA,CAGF,yDACE,oBAAA,CAGF,2DACE,uBAAA,CAGF,mDACC,eAAA,CACA,aAAA",sourceRoot:""}]),i.locals={heading:"-esm-cohort-builder__cohort-builder__heading___kkrPT",mainContainer:"-esm-cohort-builder__cohort-builder__mainContainer___lzHAJ",title:"-esm-cohort-builder__cohort-builder__title___DhXTl",desktopContainer:"-esm-cohort-builder__cohort-builder__desktopContainer___EgML0",tabletContainer:"-esm-cohort-builder__cohort-builder__tabletContainer___QSkRw",cohortBuilder:"-esm-cohort-builder__cohort-builder__cohortBuilder___uEGZ4",tabletTab:"-esm-cohort-builder__cohort-builder__tabletTab___o2Wcs",desktopTab:"-esm-cohort-builder__cohort-builder__desktopTab___F2Uxn",tab:"-esm-cohort-builder__cohort-builder__tab___cyRdb",tabContainer:"-esm-cohort-builder__cohort-builder__tabContainer___Q9RGy",optionCell:"-esm-cohort-builder__cohort-builder__optionCell___LL3to",optionHeader:"-esm-cohort-builder__cohort-builder__optionHeader___qOJXg",text:"-esm-cohort-builder__cohort-builder__text___G8Imk"};const l=i},7567:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-cohort-builder__empty-data-style__action___m88Sh{margin-bottom:.5rem}.-esm-cohort-builder__empty-data-style__content___wPauj{font-size:var(--cds-productive-heading-01-font-size, 0.875rem);font-weight:var(--cds-productive-heading-01-font-weight, 600);line-height:var(--cds-productive-heading-01-line-height, 1.28572);letter-spacing:var(--cds-productive-heading-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-cohort-builder__empty-data-style__tile___gPSo0{text-align:center;border:1px solid #e0e0e0}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/empty-data/empty-data.style.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,uDACE,mBCgBW,CDbb,wDEk0BI,8DAAA,CAAA,6DAAA,CAAA,iEAAA,CAAA,sEAAA,CFh0BF,aDLQ,CCMR,eCoBW,CDnBX,mBCSW,CDNb,qDACE,iBAAA,CACA,wBAAA",sourceRoot:""}]),i.locals={action:"-esm-cohort-builder__empty-data-style__action___m88Sh",content:"-esm-cohort-builder__empty-data-style__content___wPauj",tile:"-esm-cohort-builder__empty-data-style__tile___gPSo0"};const l=i},8051:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__saved-cohorts__container___wOfL0{background:#fff;padding:1rem}.-esm-cohort-builder__saved-cohorts__searchContainer____JucX{display:flex;margin-bottom:2rem}.-esm-cohort-builder__saved-cohorts__searchBtn___TKxuW .cds--btn{min-height:1rem}","",{version:3,sources:["webpack://./src/components/saved-cohorts/saved-cohorts.scss"],names:[],mappings:"AAAA,uDACE,eAAA,CACA,YAAA,CAGF,6DACC,YAAA,CACA,kBAAA,CAIC,iEACE,eAAA",sourceRoot:""}]),i.locals={container:"-esm-cohort-builder__saved-cohorts__container___wOfL0",searchContainer:"-esm-cohort-builder__saved-cohorts__searchContainer____JucX",searchBtn:"-esm-cohort-builder__saved-cohorts__searchBtn___TKxuW"};const l=i},1221:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__saved-queries__container___rx7_q{background:#fff;padding:1rem}.-esm-cohort-builder__saved-queries__searchContainer___tJ_Y9{display:flex;margin-bottom:2rem}.-esm-cohort-builder__saved-queries__searchBtn___kejuw .cds--btn{min-height:1rem}.-esm-cohort-builder__saved-queries__optionCell___NAz68{padding:0 !important}.-esm-cohort-builder__saved-queries__optionHeader___qYNGE{width:1.5rem !important}","",{version:3,sources:["webpack://./src/components/saved-queries/saved-queries.scss"],names:[],mappings:"AAAA,uDACE,eAAA,CACA,YAAA,CAGF,6DACC,YAAA,CACA,kBAAA,CAIC,iEACE,eAAA,CAIJ,wDACE,oBAAA,CAGF,0DACE,uBAAA",sourceRoot:""}]),i.locals={container:"-esm-cohort-builder__saved-queries__container___rx7_q",searchContainer:"-esm-cohort-builder__saved-queries__searchContainer___tJ_Y9",searchBtn:"-esm-cohort-builder__saved-queries__searchBtn___kejuw",optionCell:"-esm-cohort-builder__saved-queries__optionCell___NAz68",optionHeader:"-esm-cohort-builder__saved-queries__optionHeader___qYNGE"};const l=i},3218:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{padding:0;border:0;margin:0;font:inherit;font-size:100%;vertical-align:baseline}button,select,input,textarea{border-radius:0;font-family:inherit}input[type=text]::-ms-clear{display:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}body{line-height:1}sup{vertical-align:super}sub{vertical-align:sub}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote::before,blockquote::after,q::before,q::after{content:\"\"}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}button{margin:0}html{font-size:100%}body{font-weight:400;font-family:'IBM Plex Sans', 'Helvetica Neue', Arial, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}code{font-family:'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Courier, monospace}strong{font-weight:600}@media screen and (-ms-high-contrast: active){svg{fill:ButtonText}}h1{font-size:2.625rem;font-weight:300;line-height:1.199;letter-spacing:0}h2{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}h3{font-size:1.75rem;font-weight:400;line-height:1.28572;letter-spacing:0}h4{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}h5{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}h6{font-size:.875rem;font-weight:600;line-height:1.28572;letter-spacing:.16px}p{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}a{color:#0f62fe}em{font-style:italic}@keyframes -esm-cohort-builder__search-by-concepts-style__skeleton___XFcuY{0%{opacity:.3;transform:scaleX(0);transform-origin:left}20%{opacity:1;transform:scaleX(1);transform-origin:left}28%{transform:scaleX(1);transform-origin:right}51%{transform:scaleX(0);transform-origin:right}58%{transform:scaleX(0);transform-origin:right}82%{transform:scaleX(1);transform-origin:right}83%{transform:scaleX(1);transform-origin:left}96%{transform:scaleX(0);transform-origin:left}100%{opacity:.3;transform:scaleX(0);transform-origin:left}}.-esm-cohort-builder__search-by-concepts-style__contentSwitcher___RE6xE{height:2.5rem}.-esm-cohort-builder__search-by-concepts-style__column___X797D{padding-top:1.5rem}.-esm-cohort-builder__search-by-concepts-style__dateRange___G2VEp{padding-top:1.5rem;display:flex}.-esm-cohort-builder__search-by-concepts-style__text___xGECq{padding-top:1.5rem}.-esm-cohort-builder__search-by-concepts-style__multipleInputs___AarMc{display:flex;align-items:center}.-esm-cohort-builder__search-by-concepts-style__timeModifier___fRbmV{width:300px}.-esm-cohort-builder__search-by-concepts-style__lastTime___YD6mU{padding-left:1rem;padding-right:1rem}.-esm-cohort-builder__search-by-concepts-style__operators___jJl5c{width:60%;padding-right:1rem}.-esm-cohort-builder__search-by-concepts-style__value___R88Ii{padding-right:2rem}.-esm-cohort-builder__search-by-concepts-style__whatValuesInputs___B8k14{display:flex;align-items:end}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./node_modules/carbon-components/src/globals/scss/_css--reset.scss","webpack://./node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/type/_reset.scss","webpack://./node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/type/_font-family.scss","webpack://./node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/icons/mixins.scss","webpack://./node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/type/_styles.import.scss","webpack://./node_modules/carbon-components/src/globals/scss/_helper-mixins.scss","webpack://./src/components/search-by-concepts/search-by-concepts.style.scss","webpack://./node_modules/carbon-components/src/globals/scss/vendor/@carbon/elements/scss/themes/generated/_mixins.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpBE,2ZAiFE,SAAA,CACA,QAAA,CACA,QAAA,CACA,YAAA,CACA,cAAA,CACA,uBAAA,CAIF,6BAIE,eAAA,CACA,mBAAA,CAGF,4BACE,YAAA,CAIF,mFAYE,aAAA,CAGF,KACE,aAAA,CAGF,IACE,oBAAA,CAGF,IACE,kBAAA,CAGF,MAEE,eAAA,CAGF,aAEE,WAAA,CAGF,wDAIE,UAAA,CAGF,MACE,wBAAA,CACA,gBAAA,CAGF,EACE,qBAAA,CAIF,OACE,QAAA,CC3KJ,KACE,cAAA,CAGF,KC0CA,eAAA,CDvCE,gEAViB,CAWjB,iCAAA,CACA,kCAAA,CACA,iCAAA,CAGF,KACE,wGAhBiB,CAmBnB,OC6BA,eAAA,CCxDA,8CACE,IACE,eAAA,CAAA,CFkCJ,GGghBE,kBA0LsB,CA1LtB,eA0LsB,CA1LtB,iBA0LsB,CA1LtB,gBA0LsB,CHtsBxB,GG4gBE,cA0LsB,CA1LtB,eA0LsB,CA1LtB,gBA0LsB,CA1LtB,gBA0LsB,CHlsBxB,GGwgBE,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,gBA0LsB,CH9rBxB,GGogBE,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,eA0LsB,CA1LtB,gBA0LsB,CH1rBxB,GGggBE,cA0LsB,CA1LtB,eA0LsB,CA1LtB,iBA0LsB,CA1LtB,gBA0LsB,CHtrBxB,GG4fE,iBA0LsB,CA1LtB,eA0LsB,CA1LtB,mBA0LsB,CA1LtB,oBA0LsB,CHlrBxB,EGwfE,cA0LsB,CA1LtB,eA0LsB,CA1LtB,eA0LsB,CA1LtB,gBA0LsB,CH9qBxB,EAII,aAAA,CAMJ,GACE,iBAAA,CIoHF,2EACE,GACE,UAAA,CACA,mBAAA,CACA,qBAAA,CAGF,IACE,SAAA,CACA,mBAAA,CACA,qBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,sBAAA,CAGF,IACE,mBAAA,CACA,qBAAA,CAGF,IACE,mBAAA,CACA,qBAAA,CAGF,KACE,UAAA,CACA,mBAAA,CACA,qBAAA,CAAA,CCrPN,wEACE,aC6Pa,CD1Pf,+DACC,kBAAA,CAGD,kEACE,kBAAA,CACA,YAAA,CAGF,6DACC,kBAAA,CAGD,uEACC,YAAA,CACA,kBAAA,CAGD,qEACE,WAAA,CAGF,iEACE,iBAAA,CACA,kBAAA,CAGF,kEACE,SAAA,CACA,kBAAA,CAGF,8DACE,kBAAA,CAGF,yEACE,YAAA,CACA,eAAA",sourceRoot:""}]),i.locals={contentSwitcher:"-esm-cohort-builder__search-by-concepts-style__contentSwitcher___RE6xE",column:"-esm-cohort-builder__search-by-concepts-style__column___X797D",dateRange:"-esm-cohort-builder__search-by-concepts-style__dateRange___G2VEp",text:"-esm-cohort-builder__search-by-concepts-style__text___xGECq",multipleInputs:"-esm-cohort-builder__search-by-concepts-style__multipleInputs___AarMc",timeModifier:"-esm-cohort-builder__search-by-concepts-style__timeModifier___fRbmV",lastTime:"-esm-cohort-builder__search-by-concepts-style__lastTime___YD6mU",operators:"-esm-cohort-builder__search-by-concepts-style__operators___jJl5c",value:"-esm-cohort-builder__search-by-concepts-style__value___R88Ii",whatValuesInputs:"-esm-cohort-builder__search-by-concepts-style__whatValuesInputs___B8k14",skeleton:"-esm-cohort-builder__search-by-concepts-style__skeleton___XFcuY"};const l=i},7346:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-cohort-builder__search-by-demographics-style__contentSwitcher___Vt99o{height:2.5rem}.-esm-cohort-builder__search-by-demographics-style__column___YpDj1{padding-top:1.5rem;display:flex}.-esm-cohort-builder__search-by-demographics-style__text___JbqBX{padding-right:1rem;font-size:.75rem;color:#525252}.-esm-cohort-builder__search-by-demographics-style__switch___D6rft{width:60%;padding-right:1rem}.-esm-cohort-builder__search-by-demographics-style__genderContainer___ShbXr{display:flex;align-items:end}.-esm-cohort-builder__search-by-demographics-style__ageContainer___UQ3da{display:flex;justify-content:space-between;width:34%}.-esm-cohort-builder__search-by-demographics-style__age___r0fSe{display:flex}.-esm-cohort-builder__search-by-demographics-style__genderTitle___BmYgT{padding-bottom:.5rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/search-by-demographics/search-by-demographics.style.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,4EACE,aC0CW,CDvCb,mEACC,kBAAA,CACA,YAAA,CAGD,iEACE,kBAAA,CACA,gBAAA,CACA,aAAA,CAGF,mEACE,SAAA,CACA,kBAAA,CAGF,4EACE,YAAA,CACA,eAAA,CAGF,yEACG,YAAA,CACA,6BAAA,CACA,SAAA,CAGH,gEACE,YAAA,CAGF,wEACE,oBAAA",sourceRoot:""}]),i.locals={contentSwitcher:"-esm-cohort-builder__search-by-demographics-style__contentSwitcher___Vt99o",column:"-esm-cohort-builder__search-by-demographics-style__column___YpDj1",text:"-esm-cohort-builder__search-by-demographics-style__text___JbqBX",switch:"-esm-cohort-builder__search-by-demographics-style__switch___D6rft",genderContainer:"-esm-cohort-builder__search-by-demographics-style__genderContainer___ShbXr",ageContainer:"-esm-cohort-builder__search-by-demographics-style__ageContainer___UQ3da",age:"-esm-cohort-builder__search-by-demographics-style__age___r0fSe",genderTitle:"-esm-cohort-builder__search-by-demographics-style__genderTitle___BmYgT"};const l=i},1315:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-by-drug-orders-style__column___IjfMw{padding-top:1.5rem;display:flex}","",{version:3,sources:["webpack://./src/components/search-by-drug-orders/search-by-drug-orders.style.scss"],names:[],mappings:"AAAA,kEACC,kBAAA,CACA,YAAA",sourceRoot:""}]),i.locals={column:"-esm-cohort-builder__search-by-drug-orders-style__column___IjfMw"};const l=i},8707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-by-encounters-style__column___wI5U1{padding-top:1.5rem;display:flex}.-esm-cohort-builder__search-by-encounters-style__multipleInputs___ejUQu{margin-right:.2rem}.-esm-cohort-builder__search-by-encounters-style__encounterRange___Wx6mT{display:flex}","",{version:3,sources:["webpack://./src/components/search-by-encounters/search-by-encounters.style.scss"],names:[],mappings:"AAAA,iEACC,kBAAA,CACA,YAAA,CAGD,yEACC,kBAAA,CAGD,yEACE,YAAA",sourceRoot:""}]),i.locals={column:"-esm-cohort-builder__search-by-encounters-style__column___wI5U1",multipleInputs:"-esm-cohort-builder__search-by-encounters-style__multipleInputs___ejUQu",encounterRange:"-esm-cohort-builder__search-by-encounters-style__encounterRange___Wx6mT"};const l=i},1571:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-by-enrollments-style__column___YJuww{padding-top:1.5rem;display:flex}","",{version:3,sources:["webpack://./src/components/search-by-enrollments/search-by-enrollments.style.scss"],names:[],mappings:"AAAA,kEACC,kBAAA,CACA,YAAA",sourceRoot:""}]),i.locals={column:"-esm-cohort-builder__search-by-enrollments-style__column___YJuww"};const l=i},7355:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-by-location-style__column___vtVSS{padding-top:1.5rem;display:flex}","",{version:3,sources:["webpack://./src/components/search-by-location/search-by-location.style.scss"],names:[],mappings:"AAAA,+DACC,kBAAA,CACA,YAAA",sourceRoot:""}]),i.locals={column:"-esm-cohort-builder__search-by-location-style__column___vtVSS"};const l=i},9683:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-by-person-attributes-style__column___Gr3pF{padding-top:1.5rem;display:flex}","",{version:3,sources:["webpack://./src/components/search-by-person-attributes/search-by-person-attributes.style.scss"],names:[],mappings:"AAAA,wEACC,kBAAA,CACA,YAAA",sourceRoot:""}]),i.locals={column:"-esm-cohort-builder__search-by-person-attributes-style__column___Gr3pF"};const l=i},7204:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-history-style__header___W34go{display:flex;align-items:center;justify-content:space-between;padding:.5rem}.-esm-cohort-builder__search-history-style__container___DP2Od{margin-top:1rem;background:#fff;padding:1rem}","",{version:3,sources:["webpack://./src/components/search-history/search-history.style.scss"],names:[],mappings:"AAAA,2DACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,aAAA,CAGF,8DACE,eAAA,CACA,eAAA,CACA,YAAA",sourceRoot:""}]),i.locals={header:"-esm-cohort-builder__search-history-style__header___W34go",container:"-esm-cohort-builder__search-history-style__container___DP2Od"};const l=i},2533:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7537),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,".-esm-cohort-builder__search-results-table__container___dyHKJ{background:#fff;padding:1rem}","",{version:3,sources:["webpack://./src/components/search-results-table/search-results-table.scss"],names:[],mappings:"AAAA,8DACE,eAAA,CACA,YAAA",sourceRoot:""}]),i.locals={container:"-esm-cohort-builder__search-results-table__container___dyHKJ"};const l=i},4198:(e,t,r)=>{"use strict";r.r(t),r.d(t,{cohortBuilder:()=>dn,cohortBuilderAdminPageCardLink:()=>mn,importTranslation:()=>cn,startupApp:()=>un});var n=r(1132),a=r(1672),o=r.n(a),i=r(4184),l=r.n(i),s=r(6579),c=r(3397),u=r(6180);function d(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){d(o,n,a,i,l,"next",e)}function l(e){d(o,n,a,i,l,"throw",e)}i(void 0)}))}}var f,p=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},h=(f=m((function(e){return p(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/reportingrest/adhocquery?v=full",{method:"POST",headers:{"Content-Type":"application/json"},body:e.query})];case 1:return[2,t.sent()]}}))})),function(e){return f.apply(this,arguments)}),A=function(){var e=(0,u.Z)("/ws/rest/v1/location",n.openmrsFetch),t=e.data,r=e.error,a=[];return null==t||t.data.results.map((function(e,t){a.push({id:t,label:e.display,value:e.uuid})})),{isLoading:!t&&!r,locations:a,locationsError:r}},b=function(){var e=m((function(e){return p(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/reportingrest/dataSet/".concat(e),{method:"GET"})];case 1:return[2,t.sent().data.rows.map((function(e){return e.id=e.patientId.toString(),e.name="".concat(e.firstname," ").concat(e.lastname),e}))]}}))}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=m((function(e){return p(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/cohort/".concat(e,"/member?v=full"),{method:"GET"})];case 1:return[2,t.sent().data.rows.map((function(e){return e.id=e.patientId.toString(),e.name="".concat(e.firstname," ").concat(e.lastname),e}))]}}))}));return function(t){return e.apply(this,arguments)}}(),v=r(7410),_=r.n(v),g=r(4766),E=r.n(g),C=r(1991),w=r.n(C),S=r(3702),k=r.n(S),x=r(2434),T=r.n(x),B=r(1422),D=r.n(B),O=r(735),I={};I.styleTagTransform=D(),I.setAttributes=k(),I.insert=w().bind(null,"head"),I.domAPI=E(),I.insertStyleElement=T(),_()(O.Z,I);const P=O.Z&&O.Z.locals?O.Z.locals:void 0;function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=function(e){var t={type:"org.openmrs.module.reporting.dataset.definition.PatientDataSetDefinition",columns:[],rowFilters:[],customRowFilterCombination:""};t.columns=j();var r=0;for(var n in t.rowFilters=[],e)N(e[n])?delete e[n]:("all"!=e[n]&&""!=e&&(t.rowFilters[r]={},t.rowFilters[r].key=M(n,e[n])),Array.isArray(e[n])&&(t.rowFilters[r].parameterValues=L(e[n])),e[n].length>=1&&"alive"===e[n][0].livingStatus&&(t.rowFilters[r].livingStatus="alive"),t.rowFilters[r].type="org.openmrs.module.reporting.dataset.definition.PatientDataSetDefinition",r+=1);return t.customRowFilterCombination=F(t.rowFilters),{query:t}},N=function(e){return Array.isArray(e)&&e.length>=1?!e[0].value:"all"===e||!e},M=function(e,t){var r="reporting.library.cohortDefinition.builtIn";return r+=".".concat("gender"===e?t:e)},L=function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},F=function(e){for(var t="",r=e.length,n=1;n<=r;n++)"alive"===e[n-1].livingStatus?(t+="NOT ".concat(n),delete e[n-1].livingStatus):t+="".concat(n),t+=n<r?" AND ":"";return t},j=function(){return[{name:"firstname",key:"preferredName.givenName"},{name:"lastname",key:"preferredName.familyName"},{name:"gender",key:"gender"},{name:"age",key:"ageOnDate.fullYears"},{name:"patientId",key:"patientId"}].map((function(e){return e.type="org.openmrs.module.reporting.data.patient.definition.PatientDataDefinition",e.key="reporting.library.patientDataDefinition.builtIn.".concat(e.key),e}))},R=function(e){var t=new Date(e),r=t.getDate(),n=t.getMonth()+1,a=t.getFullYear();return"".concat(r,"/").concat(n,"/").concat(a)},Z=function(e,t){var r=e.timeModifier,n=e.onOrAfter,a=e.onOrBefore,o=n?"since ".concat(R(n)):"",i=a?"until ".concat(R(a)):"";return"Patients with ".concat(r," ").concat(t," ").concat(o," ").concat(i).trim()},q=r(6794),H={};H.styleTagTransform=D(),H.setAttributes=k(),H.insert=w().bind(null,"head"),H.domAPI=E(),H.insertStyleElement=T(),_()(q.Z,H);const z=q.Z&&q.Z.locals?q.Z.locals:void 0,U=function(e){var t=e.isLoading,r=e.onHandleSubmit,n=e.onHandleReset,a=(0,c.useTranslation)().t;return o().createElement(s.sgG,{sm:2,md:{offset:4},className:z.container},o().createElement(s.uVA,{className:z.buttonSet},o().createElement(s.zxk,{kind:"secondary",onClick:n,"data-testid":"reset-btn"},a("reset","Reset")),o().createElement(s.zxk,{kind:"primary",onClick:r,"data-testid":"search-btn"},t?o().createElement(s.lSo,{description:a("loading","Loading")}):a("search","Search"))))};var V=r(7503),Q={};Q.styleTagTransform=D(),Q.setAttributes=k(),Q.insert=w().bind(null,"head"),Q.domAPI=E(),Q.insertStyleElement=T(),_()(V.Z,Q);const W=V.Z&&V.Z.locals?V.Z.locals:void 0;function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const K=function(e){var t=e.onSubmit,r=$((0,a.useState)(!1),2),i=r[0],l=r[1],u=$((0,a.useState)(""),2),d=u[0],m=u[1],f=$((0,a.useState)(""),2),p=f[0],h=f[1],A=(0,c.useTranslation)().t,b=function(){var e,r=(e=function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:l(!0),r.label=1;case 1:return r.trys.push([1,5,,6]),function(e){return e.match(/and|or|not|\d+|\)|\(|union|intersection|\!|\+/gi).length===e.split(/\s+/g).length}(d)?(e=function(e){var t=e.replace(/(\(|\))+/g,(function(e){return"("===e?"( ":" )"})),r={type:"org.openmrs.module.reporting.dataset.definition.PatientDataSetDefinition",columns:j(),rowFilters:[],customRowFilterCombination:""};return t.split(/\s+/).forEach((function(e){if(e.match(/\d/)){var t=JSON.parse(window.sessionStorage.getItem("openmrsHistory"))[parseInt(e)-1].parameters;t.customRowFilterCombination=(n=t.customRowFilterCombination,a=r.rowFilters.length,n.replace(/\d/,(function(e){return(parseInt(e)+a).toString()}))),r.customRowFilterCombination+="(".concat(t.customRowFilterCombination,")"),r.rowFilters=r.rowFilters.concat(t.rowFilters)}else r.customRowFilterCombination+=" ".concat(e," ");var n,a})),{query:r}}(d),[4,t(e,p)]):[3,3];case 2:return r.sent(),[3,4];case 3:(0,n.showNotification)({title:A("error","Error!"),kind:"error",critical:!0,description:A("invalidComposition","Composition is not valid")}),r.label=4;case 4:return l(!1),[3,6];case 5:return r.sent(),l(!1),(0,n.showNotification)({title:A("error","Error!"),kind:"error",critical:!0,description:A("invalidComposition","Composition is not valid")}),[3,6];case 6:return[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){X(o,n,a,i,l,"next",e)}function l(e){X(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.oil,{"data-modal-primary-focus":!0,required:!0,labelText:A("composition","Composition"),"data-testid":"composition-query",id:"composition-query",onChange:function(e){return t=e.target.value,m(t),void h("Composition of "+t);var t},value:d}),o().createElement("br",null),o().createElement(s.oil,{"data-modal-primary-focus":!0,required:!0,labelText:A("description","Description"),"data-testid":"composition-description",id:"composition-description",onChange:function(e){return h(e.target.value)},value:p}),o().createElement("br",null),o().createElement("p",{className:W.text},A("compositionExplanationOne","A composition query combines together the results of multiple cohorts using the logical operators: AND, OR and NOT.")),o().createElement("br",null),o().createElement("p",{className:W.text},A("compositionExplanationTwo","To use this query you need to already have query results in your search history. Those existing query results can then be combined to yield the results of the composition query.")),o().createElement("br",null),o().createElement("p",{className:W.text},A("compositionExplanationThree","Example: if the search history #1 is a cohort of patients who are males, and if the search history #2 is a cohort of patients with ages between 23 and 35 years; then '1 AND 2' will result in a cohort of patients who are males with ages between 23 and 35 years.")),o().createElement("br",null),o().createElement(U,{onHandleReset:function(){h(""),m("")},onHandleSubmit:b,isLoading:i}))};var ee=r(2990),te=r(7567),re={};re.styleTagTransform=D(),re.setAttributes=k(),re.insert=w().bind(null,"head"),re.domAPI=E(),re.insertStyleElement=T(),_()(te.Z,re);const ne=te.Z&&te.Z.locals?te.Z.locals:void 0,ae=function(e){return o().createElement(s.mh4,null,o().createElement(s.n9L,{className:ne.tile},o().createElement(ee.N,null),o().createElement("p",{className:ne.content},"There are no ",e.displayText.toLowerCase()," to display")))};function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function le(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ie(o,n,a,i,l,"next",e)}function l(e){ie(o,n,a,i,l,"throw",e)}i(void 0)}))}}var se,ce=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};!function(e){e[e.VIEW=0]="VIEW",e[e.DELETE=1]="DELETE"}(se||(se={}));const ue=function(e){var t,r,i=e.cohort,l=e.onViewCohort,u=e.onDeleteCohort,d=(0,c.useTranslation)().t,m=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],p=m[1],h=function(){var e=le((function(){var e;return ce(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,l(i.id)];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),(0,n.showToast)({title:d("cohortViewError","Error viewing the cohort"),kind:"error",critical:!0,description:null==e?void 0:e.message}),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=le((function(e){return ce(this,(function(t){switch(e){case se.VIEW:h();break;case se.DELETE:p(!0)}return[2]}))}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=le((function(){return ce(this,(function(e){switch(e.label){case 0:return[4,u(i.id)];case 1:return e.sent(),p(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.PQB,{ariaLabel:"overflow-menu",size:"md",flipped:!0,direction:"bottom","data-testid":"options"},o().createElement(s.laM,{"data-testid":"view",itemText:d("view","View"),onClick:function(){return A(se.VIEW)}}),o().createElement(s.laM,{"data-testid":"delete",itemText:d("delete","Delete"),onClick:function(){return A(se.DELETE)}})),o().createElement(s.lpG,{size:"sm",open:f,onClose:function(){return p(!1)}},o().createElement(s.xBx,null,o().createElement("p",null,d("deleteItem","Are you sure you want to delete ".concat(null==i?void 0:i.name,"?"),{itemName:null==i?void 0:i.name}))),o().createElement(s.mzw,{danger:!0,onRequestSubmit:b,primaryButtonText:d("delete","Delete"),secondaryButtonText:d("cancel","Cancel")})))};function de(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function me(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){de(o,n,a,i,l,"next",e)}function l(e){de(o,n,a,i,l,"throw",e)}i(void 0)}))}}var fe=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function pe(){return he.apply(this,arguments)}function he(){return(he=me((function(){var e,t;return fe(this,(function(r){switch(r.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/cohort?v=full",{method:"GET"})];case 1:return e=r.sent(),t=[],e.data.results.length>0&&e.data.results.map((function(e){var r={id:e.uuid,name:e.name,description:e.description};t.push(r)})),[2,t]}}))}))).apply(this,arguments)}var Ae=function(){var e=me((function(e){return fe(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/cohort/".concat(e),{method:"DELETE"})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),be=r(8051),ye={};ye.styleTagTransform=D(),ye.setAttributes=k(),ye.insert=w().bind(null,"head"),ye.domAPI=E(),ye.insertStyleElement=T(),_()(be.Z,ye);const ve=be.Z&&be.Z.locals?be.Z.locals:void 0;function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function Ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ge(o,n,a,i,l,"next",e)}function l(e){ge(o,n,a,i,l,"throw",e)}i(void 0)}))}}function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ce.apply(this,arguments)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const ke=function(e){var t=e.onViewCohort,r=we((0,a.useState)(1),2),i=r[0],l=r[1],u=we((0,a.useState)(10),2),d=u[0],m=u[1],f=we((0,a.useState)([]),2),p=f[0],h=f[1],A=(0,c.useTranslation)().t,b=function(){var e=Ee((function(){var e;return Se(this,(function(t){switch(t.label){case 0:return[4,pe()];case 1:return e=t.sent(),h(e),[2]}}))}));return function(){return e.apply(this,arguments)}}(),y=[{key:"name",header:A("name","Name")},{key:"description",header:A("description","Description")}],v=function(){var e=Ee((function(e){var t;return Se(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ae(e)];case 1:return r.sent(),(0,n.showToast)({title:A("success","Success"),kind:"success",critical:!0,description:A("cohortIsDeleted","the cohort is deleted")}),b(),[3,3];case 2:return t=r.sent(),(0,n.showToast)({title:A("cohortDeleteError","Error deleting the cohort"),kind:"error",critical:!0,description:null==t?void 0:t.message}),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){b()}),[]),o().createElement("div",{className:ve.container},o().createElement("p",{className:P.text},A("savedCohortDescription","You can only search for Cohort Definitions that you have saved using a Name.")),o().createElement(s.wQF,{rows:p,headers:y,useZebraStyles:!0},(function(e){var r=e.rows,n=e.headers,a=e.getTableProps,l=e.getHeaderProps,c=e.getRowProps;return o().createElement(s.iA_,Ce({},a()),o().createElement(s.ssF,null,o().createElement(s.SCH,null,n.map((function(e){return o().createElement(s.xDH,Ce({},l({header:e})),e.header)})),o().createElement(s.xDH,{className:P.optionHeader}))),o().createElement(s.RMI,null,r.slice((i-1)*d).slice(0,d).map((function(e,r){return o().createElement(s.SCH,Ce({},c({row:e}),{key:r}),e.cells.map((function(e,t){return o().createElement(s.pj1,{key:t},e.value)})),o().createElement(s.pj1,{className:P.optionCell},o().createElement(ue,{cohort:p[r],onViewCohort:t,onDeleteCohort:v})))}))))})),p.length>10&&o().createElement(s.tlE,{backwardText:A("previousPage","Previous page"),forwardText:A("nextPage","Next page"),itemsPerPageText:A("itemsPerPage:","Items per page:"),onChange:function(e){var t=e.page,r=e.pageSize;l(t),m(r)},page:1,pageSize:10,pageSizes:[10,20,30,40,50],size:"md",totalItems:p.length}),!p.length&&o().createElement(ae,{displayText:A("cohorts","cohorts")}))};function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function Be(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Te(o,n,a,i,l,"next",e)}function l(e){Te(o,n,a,i,l,"throw",e)}i(void 0)}))}}var De,Oe=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};!function(e){e[e.VIEW=0]="VIEW",e[e.DELETE=1]="DELETE"}(De||(De={}));const Ie=function(e){var t,r,i=e.query,l=e.onViewQuery,u=e.deleteQuery,d=(0,c.useTranslation)().t,m=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],p=m[1],h=function(){var e=Be((function(e){return Oe(this,(function(t){switch(e){case De.VIEW:A();break;case De.DELETE:p(!0)}return[2]}))}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Be((function(){var e;return Oe(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,l(i.id)];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),(0,n.showToast)({title:d("QueryDeleteError","Something went wrong"),kind:"error",critical:!0,description:null==e?void 0:e.message}),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Be((function(){return Oe(this,(function(e){switch(e.label){case 0:return[4,u(i.id)];case 1:return e.sent(),p(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.PQB,{ariaLabel:"overflow-menu",size:"md",flipped:!0,direction:"bottom","data-testid":"options"},o().createElement(s.laM,{"data-testid":"view",itemText:d("view","View"),onClick:function(){return h(De.VIEW)}}),o().createElement(s.laM,{"data-testid":"delete",itemText:d("delete","Delete"),onClick:function(){return h(De.DELETE)}})),o().createElement(s.lpG,{size:"sm",open:f,onClose:function(){return p(!1)}},o().createElement(s.xBx,null,o().createElement("p",null,d("deleteItem","Are you sure you want to delete ".concat(null==i?void 0:i.name,"?"),{item:null==i?void 0:i.name}))),o().createElement(s.mzw,{danger:!0,onRequestSubmit:b,primaryButtonText:d("delete","Delete"),secondaryButtonText:d("cancel","Cancel")})))};function Pe(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function Ye(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Pe(o,n,a,i,l,"next",e)}function l(e){Pe(o,n,a,i,l,"throw",e)}i(void 0)}))}}var Ge=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Ne(){return Me.apply(this,arguments)}function Me(){return(Me=Ye((function(){var e,t;return Ge(this,(function(r){switch(r.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/reportingrest/dataSetDefinition?v=full",{method:"GET"})];case 1:return e=r.sent(),t=[],e.data.results.length>0&&e.data.results.map((function(e){var r={id:e.uuid,name:e.name.replace("[AdHocDataExport]",""),description:e.description};t.push(r)})),[2,t]}}))}))).apply(this,arguments)}var Le=function(){var e=Ye((function(e){return Ge(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/reportingrest/adhocdataset/".concat(e,"?purge=true"),{method:"DELETE"})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),Fe=r(1221),je={};je.styleTagTransform=D(),je.setAttributes=k(),je.insert=w().bind(null,"head"),je.domAPI=E(),je.insertStyleElement=T(),_()(Fe.Z,je);const Re=Fe.Z&&Fe.Z.locals?Fe.Z.locals:void 0;function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qe(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function He(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qe(o,n,a,i,l,"next",e)}function l(e){qe(o,n,a,i,l,"throw",e)}i(void 0)}))}}function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ze.apply(this,arguments)}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ve=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const Qe=function(e){var t=e.onViewQuery,r=Ue((0,a.useState)(1),2),i=r[0],l=r[1],u=Ue((0,a.useState)(10),2),d=u[0],m=u[1],f=(0,c.useTranslation)().t,p=Ue((0,a.useState)([]),2),h=p[0],A=p[1],b=function(){var e=He((function(){var e;return Ve(this,(function(t){switch(t.label){case 0:return[4,Ne()];case 1:return e=t.sent(),A(e),[2]}}))}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=He((function(e){var t;return Ve(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Le(e)];case 1:return r.sent(),(0,n.showToast)({title:f("success","Success"),kind:"success",critical:!0,description:f("queryIsDeleted","the query is deleted")}),b(),[3,3];case 2:return t=r.sent(),(0,n.showToast)({title:f("queryDeleteError","Error saving the query"),kind:"error",critical:!0,description:null==t?void 0:t.message}),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){b()}),[]);var v=[{key:"name",header:f("name","Name")},{key:"description",header:f("description","Description")}];return o().createElement("div",{className:Re.container},o().createElement("p",{className:P.text},f("savedQueryDescription","You can only search for Query Definitions that you have saved using a Name.")),o().createElement(s.wQF,{rows:h,headers:v,useZebraStyles:!0},(function(e){var r=e.rows,n=e.headers,a=e.getTableProps,l=e.getHeaderProps,c=e.getRowProps;return o().createElement(s.iA_,ze({},a()),o().createElement(s.ssF,null,o().createElement(s.SCH,null,n.map((function(e){return o().createElement(s.xDH,ze({},l({header:e})),e.header)})),o().createElement(s.xDH,{className:P.optionHeader}))),o().createElement(s.RMI,null,r.slice((i-1)*d).slice(0,d).map((function(e,r){return o().createElement(s.SCH,ze({},c({row:e}),{key:r}),e.cells.map((function(e,t){return o().createElement(s.pj1,{key:t},e.value)})),o().createElement(s.pj1,{className:P.optionCell},o().createElement(Ie,{query:h[r],onViewQuery:t,deleteQuery:y})))}))))})),h.length>10&&o().createElement(s.tlE,{backwardText:f("previousPage","Previous page"),forwardText:f("nextPage","Next page"),itemsPerPageText:f("itemsPerPage:","Items per page:"),onChange:function(e){var t=e.page,r=e.pageSize;l(t),m(r)},page:1,pageSize:10,pageSizes:[10,20,30,40,50],size:"md",totalItems:h.length}),!h.length&&o().createElement(ae,{displayText:f("queries","queries")}))};var We=r(7484),Je=r.n(We),Xe=r(3218),$e={};$e.styleTagTransform=D(),$e.setAttributes=k(),$e.insert=w().bind(null,"head"),$e.domAPI=E(),$e.insertStyleElement=T(),_()(Xe.Z,$e);const Ke=Xe.Z&&Xe.Z.locals?Xe.Z.locals:void 0;var et=r(3279),tt=r.n(et);function rt(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function nt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){rt(o,n,a,i,l,"next",e)}function l(e){rt(o,n,a,i,l,"throw",e)}i(void 0)}))}}var at=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function ot(e){return it.apply(this,arguments)}function it(){return(it=nt((function(e){var t,r;return at(this,(function(a){switch(a.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/concept?v=full&q=".concat(e),{method:"GET"})];case 1:return t=a.sent(),r=[],t.data.results.length>0&&(r=t.data.results.map((function(e){var t=e.descriptions.filter((function(e){return"en"==e.locale?e.description:""}));return{uuid:e.uuid,units:e.units||"",answers:e.answers,hl7Abbrev:e.datatype.hl7Abbreviation,name:e.name.name,description:t.length>0?t[0].description:"no description available",datatype:e.datatype}}))),[2,r]}}))}))).apply(this,arguments)}var lt=r(1229),st={};st.styleTagTransform=D(),st.setAttributes=k(),st.insert=w().bind(null,"head"),st.domAPI=E(),st.insertStyleElement=T(),_()(lt.Z,st);const ct=lt.Z&&lt.Z.locals?lt.Z.locals:void 0;function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dt(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function mt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){dt(o,n,a,i,l,"next",e)}function l(e){dt(o,n,a,i,l,"throw",e)}i(void 0)}))}}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pt=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ht=function(e){var t=e.concept,r=e.searchText,n=e.setConcept,i=e.setSearchText,l=(0,c.useTranslation)().t,u=ft((0,a.useState)([]),2),d=u[0],m=u[1],f=ft((0,a.useState)(""),2),p=f[0],h=f[1],A=ft((0,a.useState)(!1),2),b=A[0],y=A[1],v=ft((0,a.useState)(!1),2),_=v[0],g=v[1],E=function(){var e=mt((function(e){var t,r;return pt(this,(function(a){switch(a.label){case 0:m([]),n(null),y(!0),g(!1),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,ot(e)];case 2:return(t=a.sent()).length?m(t):g(!0),y(!1),[3,4];case 3:return r=a.sent(),h(r.toString()),y(!1),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),C=(0,a.useRef)(tt()(function(){var e=mt((function(e){return pt(this,(function(t){switch(t.label){case 0:return e?[4,E(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),500)).current;return(0,a.useEffect)((function(){return function(){C.cancel()}}),[C]),o().createElement("div",null,o().createElement(s.sgG,{className:ct.column},o().createElement(s.olm,{closeButtonLabelText:l("clearSearch","Clear search"),id:"concept-search",labelText:l("searchConcepts","Search Concepts"),placeholder:l("searchConcepts","Search Concepts"),onChange:function(e){i(e.target.value),C(e.target.value)},onClear:function(){g(!1),m([])},size:"lg",value:r}),o().createElement("div",{className:ct.search},b?o().createElement(s.y5n,{type:"multi"}):d.map((function(e){return o().createElement("div",{key:e.uuid},o().createElement(s.zxk,{kind:"ghost",onClick:function(){return function(e){n(e),m([]),g(!1)}(e)}},e.name),o().createElement("br",null))}))),t&&o().createElement("p",{className:ct.text},l("whoseAnswer","Patients with observations whose answer is "),o().createElement("span",{className:ct.concept},t.name)),_&&o().createElement("p",{className:ct.text},l("noSearchItems","There are no search items")),p&&o().createElement("span",null,p)))};function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bt(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vt=[{id:0,label:"<",value:"LESS_THAN"},{id:1,label:"<=",value:"LESS_EQUAL"},{id:2,label:"=",value:"EQUAL"},{id:3,label:">=",value:"GREATER_EQUAL"},{id:4,label:">",value:"GREATER_THAN"}],_t={CWE:"codedObsSearchAdvanced",NM:"numericObsSearchAdvanced",DT:"dateObsSearchAdvanced",ST:"dateObsSearchAdvanced",TS:"textObsSearchAdvanced",ZZ:"codedObsSearchAdvanced",BIT:"codedObsSearchAdvanced"};const gt=function(e){var t=e.onSubmit,r=(0,c.useTranslation)().t,n=yt((0,a.useState)(null),2),i=n[0],l=n[1],u=yt((0,a.useState)(0),2),d=u[0],m=u[1],f=yt((0,a.useState)(0),2),p=f[0],h=f[1],A=yt((0,a.useState)(0),2),b=A[0],y=A[1],v=yt((0,a.useState)("LESS_THAN"),2),_=v[0],g=v[1],E=yt((0,a.useState)("ANY"),2),C=E[0],w=E[1],S=yt((0,a.useState)(""),2),k=S[0],x=S[1],T=yt((0,a.useState)(""),2),B=T[0],D=T[1],O=yt((0,a.useState)(""),2),I=O[0],P=O[1],Y=yt((0,a.useState)(!1),2),N=Y[0],M=Y[1],L=[{id:"option-0",label:r("haveObservations","Patients who have these observations"),value:"ANY"},{id:"option-1",label:r("haveNoObservations","Patients who do not have these observations"),value:"NO"}],F=[{id:"option-0",label:r("any","Any"),value:"ANY"},{id:"option-1",label:r("none","None"),value:"NO"},{id:"option-2",label:r("earliest","Earliest"),value:"FIRST"},{id:"option-3",label:r("recent","Most Recent"),value:"LAST"},{id:"option-4",label:r("lowest","Lowest"),value:"MIN"},{id:"option-5",label:r("highest","Highest"),value:"MAX"},{id:"option-6",label:r("average","Average"),value:"AVG"}],j=function(){if(d>0||p>0)return Je()().subtract(d,"days").subtract(p,"months").format()},R=function(){var e,r=(e=function(){var e,r,n;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(a){switch(a.label){case 0:return M(!0),e={modifier:"",operator1:_,value1:b>0?b.toString():"",question:i.uuid,onOrBefore:j()||B,onOrAfter:k,timeModifier:C},s=[],(l=r=_t[i.hl7Abbrev])in(o={})?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,n=o,Object.keys(e).forEach((function(t){""!==e[t]&&n[r].push({name:"modifier"===t?["CWE","TS"].includes(i.hl7Abbrev)?"values":"value1":t,value:"modifier"===t&&["CWE","TS"].includes(i.hl7Abbrev)?[e[t]]:e[t]})})),[4,t(G(n),Z(e,i.name))];case 1:return a.sent(),M(!1),[2]}var o,l,s}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){bt(o,n,a,i,l,"next",e)}function l(e){bt(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement("div",null,o().createElement(ht,{setConcept:l,concept:i,searchText:I,setSearchText:P}),"NM"===(null==i?void 0:i.hl7Abbrev)?o().createElement(o().Fragment,null,o().createElement(s.sgG,{className:Ke.column},o().createElement("div",{style:{display:"flex"}},o().createElement("div",{className:Ke.multipleInputs},o().createElement("p",{style:{paddingRight:20}},r("whatObservations","What observations")),o().createElement(s.Ltx,{id:"timeModifier",onChange:function(e){return w(e.selectedItem.value)},initialSelectedItem:F[0],items:F,className:Ke.timeModifier,label:""})))),o().createElement(s.sgG,{className:Ke.column},o().createElement("p",{className:Ke.value},r("whatValues","What values")),o().createElement("div",{className:Ke.whatValuesInputs},o().createElement("div",{className:Ke.operators},o().createElement(s.GHR,{selectedIndex:vt[0].id,className:Ke.contentSwitcher,size:"lg",onChange:function(e){var t=e.index;return g(vt[t].value)}},vt.map((function(e){return o().createElement(s.rsf,{key:e.id,name:e.value,text:e.label})})))),o().createElement("div",{className:Ke.multipleInputs},o().createElement(s.Y2U,{hideSteppers:!0,id:"operator-value",invalidText:r("numberIsNotValid","Number is not valid"),label:r("valueIn","Enter a value in ")+i.units,min:0,size:"sm",value:b,onChange:function(e,t){var r=t.value;return y(r)}}))))):o().createElement(s.sgG,{className:Ke.column},o().createElement(s.Ltx,{id:"timeModifier","data-testid":"timeModifier",onChange:function(e){return w(e.selectedItem.value)},initialSelectedItem:L[0],items:L,label:""})),o().createElement(s.sgG,{className:Ke.dateRange},o().createElement(s.sgG,null,o().createElement(s.Y2U,{hideSteppers:!0,id:"last-months","data-testid":"last-months",label:r("withinTheLast","Within the last months"),invalidText:r("numberIsNotValid","Number is not valid"),min:0,size:"sm",value:p,onChange:function(e,t){var r=t.value;return h(r)}})),o().createElement(s.sgG,null,o().createElement(s.Y2U,{hideSteppers:!0,label:r("lastDays","and / or days"),id:"last-days","data-testid":"last-days",invalidText:r("numberIsNotValid","Number is not valid"),min:0,size:"sm",value:d,onChange:function(e,t){var r=t.value;return m(r)}}))),o().createElement("div",{className:Ke.dateRange},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return x(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"startDate",value:k&&Je()(k).format("DD-MM-YYYY"),labelText:r("dateRange","Date range start date"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return D(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"endDate",value:B&&Je()(B).format("DD-MM-YYYY"),labelText:r("endDate","End date"),placeholder:"DD-MM-YYYY",size:"md"}))))),o().createElement(U,{isLoading:N,onHandleSubmit:R,onHandleReset:function(){l(null),m(0),P(""),x(""),D(""),h(0),y(0),g("LESS_THAN"),w("ANY")}}))};var Et=r(7346),Ct={};Ct.styleTagTransform=D(),Ct.setAttributes=k(),Ct.insert=w().bind(null,"head"),Ct.domAPI=E(),Ct.insertStyleElement=T(),_()(Et.Z,Ct);const wt=Et.Z&&Et.Z.locals?Et.Z.locals:void 0;function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kt(e){return function(e){if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xt=function(e){var t=e.gender,r=e.minAge,n=e.maxAge,a=e.birthDayStartDate,o=e.birthDayEndDate,i=e.livingStatus,l="all"!=t?"".concat("males"===t?"Male":"Female"," Patients"):"All Patients";return(r||n)&&(l+=r&&n?" with ages between ".concat(r," and ").concat(n):r?" with minimum age of ".concat(r):" with maximum age of ".concat(n),l+=" years"),""==a&&""==o||(l+=a&&o?" and birthdate between ".concat(a," and ").concat(o):" and born before ".concat(r?a:o)),i&&(l+=" that are ".concat(i)),l},Tt=function(e){var t=e.gender,r=e.minAge,n=e.maxAge,a=e.birthDayStartDate,o=e.birthDayEndDate,i=e.livingStatus,l={gender:t};r&&n?l.ageRangeOnDate=[{name:"minAge",value:r},{name:"maxAge",value:n}]:r?l.atLeastAgeOnDate=[{name:"minAge",value:r}]:l.upToAgeOnDate=[{name:"maxAge",value:n}],a&&o&&(l.bornDuringPeriod=[{name:"startDate",dataType:"date",value:a},{name:"endDate",dataType:"date",value:o}]);var s=Je()().format();l.diedDuringPeriod=[{name:"endDate",dataType:"date",value:s,livingStatus:i}];var c=G(l);if("all"===l.gender){var u=["males","females","unknownGender"].map((function(e){return{type:"org.openmrs.module.reporting.dataset.definition.PatientDataSetDefinition",key:"reporting.library.cohortDefinition.builtIn.".concat(e)}})),d=c.query,m=d.rowFilters,f=d.customRowFilterCombination,p=m=m.length>0?kt(m).concat(kt(u)):u,h=f;f=h?"(".concat(p.length-2," OR ").concat(p.length-1," OR ").concat(p.length,") AND ").concat(h):"(1 OR 2 OR 3)"}return c};function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dt(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const It=function(e){var t=e.onSubmit,r=(0,c.useTranslation)().t,n=Ot((0,a.useState)("alive"),2),i=n[0],u=n[1],d=Ot((0,a.useState)("all"),2),m=d[0],f=d[1],p=Ot((0,a.useState)(""),2),h=p[0],A=p[1],b=Ot((0,a.useState)(""),2),y=b[0],v=b[1],_=Ot((0,a.useState)(0),2),g=_[0],E=_[1],C=Ot((0,a.useState)(0),2),w=C[0],S=C[1],k=Ot((0,a.useState)(!1),2),x=k[0],T=k[1],B=[{id:0,label:r("all","All"),value:"all"},{id:1,label:r("males","Male"),value:"males"},{id:3,label:r("females","Female"),value:"females"}],D=[{id:0,label:r("alive","Alive"),value:"alive"},{id:1,label:r("dead","Dead"),value:"dead"}],O=function(){var e,r=(e=function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:return T(!0),[4,t(Tt(e={gender:m,minAge:g,maxAge:w,birthDayStartDate:h,birthDayEndDate:y,livingStatus:i}),xt(e))];case 1:return r.sent(),T(!1),[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Dt(o,n,a,i,l,"next",e)}function l(e){Dt(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.sgG,null,o().createElement("p",{className:l()(wt.text,wt.genderTitle)},r("gender","Gender")),o().createElement("div",{className:wt.genderContainer},o().createElement("div",{className:wt.switch},o().createElement(s.GHR,{selectedIndex:B[0].id,className:wt.contentSwitcher,size:"lg",onChange:function(e){var t=e.index;return f(B[t].value)}},B.map((function(e){return o().createElement(s.rsf,{"data-testid":e.label,key:e.id,name:e.value,text:e.label})})))),o().createElement("div",{className:wt.switch},o().createElement(s.GHR,{selectedIndex:D[0].id,className:wt.contentSwitcher,size:"lg",onChange:function(e){var t=e.index;return u(D[t].value)}},D.map((function(e){return o().createElement(s.rsf,{key:e.id,name:e.value,text:e.label})})))))),o().createElement("div",{className:wt.column},o().createElement(s.sgG,{className:wt.age},o().createElement(s.sgG,null,o().createElement(s.Y2U,{hideSteppers:!0,id:"minAge","data-testid":"minAge",label:r("ageBetween","Age between"),invalidText:r("minAgeIsNotValid","The age must be greater than 0"),min:0,value:g,onChange:function(e,t){var r=t.value;return E(r)}})),o().createElement(s.sgG,null,o().createElement(s.Y2U,{id:"maxAge",hideSteppers:!0,"data-testid":"maxAge",label:r("and","and"),invalidText:r("maxAgeIsNotValid","The age must be less than 200"),min:0,max:200,value:w,onChange:function(e,t){var r=t.value;return S(r)}})))),o().createElement("div",{className:wt.column},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return A(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"startDate",labelText:r("birthDate","Birth date between"),value:h&&Je()(h).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return v(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"endDate",labelText:r("and","and"),value:y&&Je()(y).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"})))),o().createElement(U,{isLoading:x,onHandleSubmit:O,onHandleReset:function(){S(0),E(0),v(""),A("")}}))};var Pt=r(1315),Yt={};Yt.styleTagTransform=D(),Yt.setAttributes=k(),Yt.insert=w().bind(null,"head"),Yt.domAPI=E(),Yt.insertStyleElement=T(),_()(Pt.Z,Yt);const Gt=Pt.Z&&Pt.Z.locals?Pt.Z.locals:void 0;var Nt=function(e){var t=e.selectedDrugs,r=e.selectedCareSetting,a=e.activeOnOrBefore,o=e.activeOnOrAfter,i=e.activatedOnOrBefore,l=e.activatedOnOrAfter,s="Patients who taking "+t.map((function(e){return e.label})).join(", ").replace(/,(?=[^,]*$)/," and");if(r&&(s+=" from ".concat(r.label)),o){var c=(0,n.formatDate)(new Date(o),{mode:"standard"});s+=a?" from ".concat(c):" on or after ".concat(c)}if(a){var u=(0,n.formatDate)(new Date(a),{mode:"standard"});s+=o?" to ".concat(u):" on or before ".concat(u)}if(l){var d=(0,n.formatDate)(new Date(l),{mode:"standard"});s+=i?" from ".concat(d):" on or after ".concat(d)}if(i){var m=(0,n.formatDate)(new Date(i),{mode:"standard"});s+=l?" to ".concat(m):" on or before ".concat(m)}return s},Mt=function(e){var t=e.selectedDrugs,r=e.selectedCareSetting,n=e.activeOnOrBefore,a=e.activeOnOrAfter,o=e.activatedOnOrBefore,i=e.activatedOnOrAfter,l={drugOrderSearch:[]};return a&&l.drugOrderSearch.push({name:"activeOnOrAfter",value:a}),i&&l.drugOrderSearch.push({name:"activatedOnOrAfter",value:i}),o&&l.drugOrderSearch.push({name:"activatedOnOrBefore",value:o}),r&&l.drugOrderSearch.push({name:"careSetting",value:r.value}),t.length&&l.drugOrderSearch.push({name:"drugs",value:t.map((function(e){return e.value}))}),n&&l.drugOrderSearch.push({name:"activeOnOrBefore",value:n}),G(l)};function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ft(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Rt=function(e){var t,r,i,l=e.onSubmit,d=(0,c.useTranslation)().t,m=(t=(0,u.Z)("/ws/rest/v1/drug",n.openmrsFetch),r=t.data,i=t.error,(0,a.useMemo)((function(){var e=[];return null==r||r.data.results.map((function(t,r){e.push({id:r,label:t.display,value:t.uuid})})),{isLoading:!r&&!i,drugs:e,drugsError:i}}),[r,i])),f=m.drugs,p=m.drugsError,h=function(){var e=(0,u.Z)("/ws/rest/v1/caresetting",n.openmrsFetch),t=e.data,r=e.error;return(0,a.useMemo)((function(){var e=[];return null==t||t.data.results.map((function(t,r){e.push({id:r,label:t.display,value:t.uuid})})),{isLoading:!t&&!r,careSettings:e,careSettingsError:r}}),[t,r])}(),A=h.careSettings,b=h.careSettingsError,y=jt((0,a.useState)(""),2),v=y[0],_=y[1],g=jt((0,a.useState)(""),2),E=g[0],C=g[1],w=jt((0,a.useState)(""),2),S=w[0],k=w[1],x=jt((0,a.useState)(""),2),T=x[0],B=x[1],D=jt((0,a.useState)(null),2),O=D[0],I=D[1],P=jt((0,a.useState)(null),2),Y=P[0],G=P[1],N=jt((0,a.useState)(!1),2),M=N[0],L=N[1];p&&(0,n.showToast)({title:d("error","Error"),kind:"error",critical:!0,description:null==p?void 0:p.message}),b&&(0,n.showToast)({title:d("error","Error"),kind:"error",critical:!0,description:null==b?void 0:b.message});var F=function(){var e,t=(e=function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(t){switch(t.label){case 0:return L(!0),[4,l(Mt(e={selectedDrugs:O,selectedCareSetting:Y,activeOnOrAfter:v,activeOnOrBefore:E,activatedOnOrAfter:S,activatedOnOrBefore:T}),Nt(e))];case 1:return t.sent(),L(!1),[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ft(o,n,a,i,l,"next",e)}function l(e){Ft(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.sgG,null,o().createElement("div",null,o().createElement(s.NUq,{id:"drugs","data-testid":"drugs",onChange:function(e){return I(e.selectedItems)},items:f,label:d("selectDrugs","Select drugs")}))),o().createElement("div",{className:Gt.column},o().createElement(s.sgG,null,o().createElement(s.Ltx,{id:"careSettings","data-testid":"careSettings",onChange:function(e){return G(e.selectedItem)},initialSelectedItem:A[0],items:A,label:d("selectCareSettings","Select a care setting")}))),o().createElement("div",{className:Gt.column},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return _(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"activeOnOrAfter",labelText:d("using","Using between"),value:v&&Je()(v).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return C(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"activeOnOrBefore",value:E&&Je()(E).format("DD-MM-YYYY"),labelText:d("to","to"),placeholder:"DD-MM-YYYY",size:"md"})))),o().createElement("div",{className:Gt.column},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return k(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"activatedOnOrAfter",labelText:d("used","Used between"),value:S&&Je()(S).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return B(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"activatedOnOrBefore",value:T&&Je()(T).format("DD-MM-YYYY"),labelText:d("and","and"),placeholder:"DD-MM-YYYY",size:"md"})))),o().createElement(U,{onHandleReset:function(){I(null),G(null),_(""),C(""),k(""),B("")},onHandleSubmit:F,isLoading:M}))};var Zt=r(8707),qt={};qt.styleTagTransform=D(),qt.setAttributes=k(),qt.insert=w().bind(null,"head"),qt.domAPI=E(),qt.insertStyleElement=T(),_()(Zt.Z,qt);const Ht=Zt.Z&&Zt.Z.locals?Zt.Z.locals:void 0;var zt=function(e){var t=e.selectedEncounterTypes,r=e.encounterLocations,n=e.encounterForms,a=e.atLeastCount,o=e.atMostCount,i=e.onOrAfter,l=e.onOrBefore,s="Patients with Encounter of",c=t.map((function(e){return e.label})).join(", ").replace(/,(?=[^,]*$)/," and ");return s+=c?" Type".concat(c.length>1?"s":""," ").concat(c):" any Type",r.length&&(s+=" at ".concat(r.map((function(e){return e.label})).join(", "))),n.length&&(s+=" from ".concat(n.map((function(e){return e.label})).join(", "))),a&&(s+=" at least ".concat(a," ").concat(a>1?"times":"time")),o&&(s+=" ".concat(a?" and":""," at most ").concat(o," ").concat(o>1?"times":"time")),i&&(s+=l?" from ".concat(i):" on or after ".concat(i)),l&&(s+=i?" to ".concat(l):" on or before ".concat(l)),s},Ut=function(e){var t=e.onOrAfter,r=e.atLeastCount,n=e.atMostCount,a=e.encounterForms,o=e.encounterLocations,i=e.onOrBefore,l=e.selectedEncounterTypes,s={encounterSearchAdvanced:[]};return t&&s.encounterSearchAdvanced.push({name:"onOrAfter",value:t}),r&&s.encounterSearchAdvanced.push({name:"atLeastCount",value:r}),n&&s.encounterSearchAdvanced.push({name:"atMostCount",value:n}),a.length&&s.encounterSearchAdvanced.push({name:"formList",value:a.map((function(e){return e.value}))}),o.length&&s.encounterSearchAdvanced.push({name:"locationList",value:o.map((function(e){return e.value}))}),i&&s.encounterSearchAdvanced.push({name:"onOrBefore",value:i}),l.length>0&&s.encounterSearchAdvanced.push({name:"encounterTypeList",value:l.map((function(e){return e.value}))}),G(s)};function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qt(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Jt=function(e){var t=e.onSubmit,r=(0,c.useTranslation)().t,i=Wt((0,a.useState)(0),2),l=i[0],d=i[1],m=Wt((0,a.useState)(0),2),f=m[0],p=m[1],h=function(){var e=(0,u.Z)("/ws/rest/v1/encountertype",n.openmrsFetch),t=e.data,r=e.error,a=[];return null==t||t.data.results.map((function(e,t){a.push({id:t,label:e.display,value:e.uuid})})),{isLoading:!t&&!r,encounterTypes:a,encounterTypesError:r}}(),b=h.encounterTypes,y=h.encounterTypesError,v=Wt((0,a.useState)([]),2),_=v[0],g=v[1],E=Wt((0,a.useState)([]),2),C=E[0],w=E[1],S=Wt((0,a.useState)([]),2),k=S[0],x=S[1],T=A(),B=T.locations,D=T.locationsError,O=function(){var e=(0,u.Z)("/ws/rest/v1/form",n.openmrsFetch),t=e.data,r=e.error,a=[];return null==t||t.data.results.map((function(e,t){a.push({id:t,label:e.display,value:e.uuid})})),{isLoading:!t&&!r,forms:a,formsError:r}}(),I=O.forms,P=O.formsError,Y=Wt((0,a.useState)(""),2),G=Y[0],N=Y[1],M=Wt((0,a.useState)(""),2),L=M[0],F=M[1],j=Wt((0,a.useState)(!1),2),R=j[0],Z=j[1];D&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==D?void 0:D.message}),P&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==P?void 0:P.message}),y&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==y?void 0:y.message});var q=function(){var e,r=(e=function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:return Z(!0),[4,t(Ut(e={onOrAfter:L,atLeastCount:l,atMostCount:f,encounterForms:k,encounterLocations:C,onOrBefore:G,selectedEncounterTypes:_}),zt(e))];case 1:return r.sent(),Z(!1),[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Qt(o,n,a,i,l,"next",e)}function l(e){Qt(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.sgG,null,o().createElement("div",null,o().createElement(s.NUq,{id:"encounters","data-testid":"encounters",onChange:function(e){return g(e.selectedItems)},items:b,label:r("selectEncounterTypes","Select encounter types")}))),o().createElement(s.NUq,{id:"forms","data-testid":"forms",onChange:function(e){return x(e.selectedItems)},items:I,label:r("selectForms","Select forms")}),o().createElement(s.NUq,{id:"locations","data-testid":"locations",onChange:function(e){return w(e.selectedItems)},items:B,label:r("selectLocations","Select locations")}),o().createElement("div",{className:Ht.column},o().createElement(s.sgG,{className:Ht.encounterRange},o().createElement("div",{className:Ht.multipleInputs},o().createElement(s.Y2U,{hideSteppers:!0,id:"atLeastCount","data-testid":"atLeastCount",label:r("atLeast","at least"),min:0,size:"sm",value:l,onChange:function(e,t){var r=t.value;return d(r)}})),o().createElement("div",{className:Ht.multipleInputs},o().createElement(s.Y2U,{hideSteppers:!0,id:"atMostCount","data-testid":"atMostCount",label:r("upto","upto this many"),min:0,size:"sm",value:f,onChange:function(e,t){var r=t.value;return p(r)}})))),o().createElement("div",{className:Ht.column},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return F(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"onOrAfter",labelText:r("from","From"),value:L&&Je()(L).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return N(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"onOrBefore",value:G&&Je()(G).format("DD-MM-YYYY"),labelText:r("to","to"),placeholder:"DD-MM-YYYY",size:"md"})))),o().createElement(U,{isLoading:R,onHandleSubmit:q,onHandleReset:function(){d(0),p(0),N(""),F("")}}))};var Xt=r(1571),$t={};$t.styleTagTransform=D(),$t.setAttributes=k(),$t.insert=w().bind(null,"head"),$t.domAPI=E(),$t.insertStyleElement=T(),_()(Xt.Z,$t);const Kt=Xt.Z&&Xt.Z.locals?Xt.Z.locals:void 0;var er=function(e){var t=e.enrolledOnOrAfter,r=e.enrolledOnOrBefore,n=e.completedOnOrAfter,a=e.completedOnOrBefore,o=e.selectedPrograms,i=e.selectedLocations,l={patientsWithEnrollment:[{name:"programs",value:null==o?void 0:o.map((function(e){return e.value}))},t&&{name:"enrolledOnOrAfter",value:t},r&&{name:"enrolledOnOrBefore",value:r},n&&{name:"completedOnOrAfter",value:n},a&&{name:"completedOnOrBefore",value:a},{name:"locationList",value:null==i?void 0:i.map((function(e){return e.value}))}]};return G(l)},tr=function(e){var t=e.selectedPrograms,r=e.selectedLocations,n="Patients enrolled in ".concat(null==t?void 0:t.map((function(e){return e.label})).join(", "));return(null==r?void 0:r.length)&&(n+=" at ".concat(null==r?void 0:r.map((function(e){return e.label})).join(", "))),n};function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nr(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const or=function(e){var t=e.onSubmit,r=(0,c.useTranslation)().t,i=function(){var e=(0,u.Z)("/ws/rest/v1/program",n.openmrsFetch),t=e.data,r=e.error,a=[];return null==t||t.data.results.map((function(e,t){a.push({id:t,label:e.name,value:e.uuid})})),{isLoading:!t&&!r,programs:a,programsError:r}}(),l=i.programs,d=i.programsError,m=A(),f=m.locations,p=m.locationsError,h=ar((0,a.useState)(""),2),b=h[0],y=h[1],v=ar((0,a.useState)(""),2),_=v[0],g=v[1],E=ar((0,a.useState)(""),2),C=E[0],w=E[1],S=ar((0,a.useState)(""),2),k=S[0],x=S[1],T=ar((0,a.useState)(null),2),B=T[0],D=T[1],O=ar((0,a.useState)(null),2),I=O[0],P=O[1],Y=ar((0,a.useState)(!1),2),G=Y[0],N=Y[1];d&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==d?void 0:d.message}),p&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==p?void 0:p.message});var M=function(){var e,r=(e=function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:return N(!0),[4,t(er(e={enrolledOnOrAfter:b,enrolledOnOrBefore:_,completedOnOrAfter:C,completedOnOrBefore:k,selectedPrograms:I,selectedLocations:B}),tr(e))];case 1:return r.sent(),N(!1),[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){nr(o,n,a,i,l,"next",e)}function l(e){nr(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.sgG,null,o().createElement("div",null,o().createElement(s.NUq,{id:"programs","data-testid":"programs",onChange:function(e){return P(e.selectedItems)},items:l,label:r("selectPrograms","Select programs")}))),o().createElement(s.sgG,null,o().createElement("div",null,o().createElement(s.NUq,{id:"locations","data-testid":"locations",onChange:function(e){return D(e.selectedItems)},items:f,label:r("selectLocations","Select locations")}))),o().createElement("div",{className:Kt.column},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return y(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"enrolledOnOrAfter",labelText:r("enrolledBetween","Enrolled between"),value:b&&Je()(b).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return g(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"enrolledOnOrBefore",labelText:r("and","and"),value:_&&Je()(_).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"})))),o().createElement("div",{className:Kt.column},o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return w(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"completedOnOrAfter",labelText:r("completedBetween","Completed between"),value:C&&Je()(C).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"}))),o().createElement(s.sgG,null,o().createElement(s.Mtg,{datePickerType:"single",allowInput:!1,onChange:function(e){return x(Je()(e[0]).format())}},o().createElement(s.aj6,{id:"completedOnOrBefore",labelText:r("and","and"),value:k&&Je()(k).format("DD-MM-YYYY"),placeholder:"DD-MM-YYYY",size:"md"})))),o().createElement(U,{onHandleReset:function(){P(null),y(""),g(""),w(""),x("")},onHandleSubmit:M,isLoading:G}))};var ir=r(7355),lr={};lr.styleTagTransform=D(),lr.setAttributes=k(),lr.insert=w().bind(null,"head"),lr.domAPI=E(),lr.insertStyleElement=T(),_()(ir.Z,lr);const sr=ir.Z&&ir.Z.locals?ir.Z.locals:void 0;var cr=function(e,t){var r=[];return null==t||t.map((function(e){return r.push(e.value)})),G({encounterSearchAdvanced:[{name:"locationList",value:r},{name:"timeQualifier",value:e}]})},ur=function(e,t){var r="Patients in ".concat(null==t?void 0:t.map((function(e){return e.label})).join(", "));switch(e){case"FIRST":r+=" (by method EARLIEST_ENCOUNTER).";break;case"LAST":r+=" (by method LATEST_ENCOUNTER).";break;default:r+=" (by method ANY_ENCOUNTER)."}return r};function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mr(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const pr=function(e){var t=e.onSubmit,r=(0,c.useTranslation)().t,i=[{id:0,label:r("anyEncounter","Any Encounter"),value:"ANY"},{id:1,label:r("mostRecentEncounter","Most Recent Encounter"),value:"LAST"},{id:2,label:r("earliestEncounter","Earliest Encounter"),value:"FIRST"}],l=A(),u=l.locations,d=l.locationsError,m=fr((0,a.useState)(null),2),f=m[0],p=m[1],h=fr((0,a.useState)(i[0]),2),b=h[0],y=h[1],v=fr((0,a.useState)(!1),2),_=v[0],g=v[1];d&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==d?void 0:d.message});var E=function(){var e,r=(e=function(){return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return g(!0),[4,t(cr(b.value,f),ur(b.label,f))];case 1:return e.sent(),g(!1),[2]}}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){mr(o,n,a,i,l,"next",e)}function l(e){mr(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.sgG,null,o().createElement("div",null,o().createElement(s.NUq,{id:"locations","data-testid":"locations",onChange:function(e){return p(e.selectedItems)},items:u,label:r("selectLocations","Select locations")}))),o().createElement("div",{className:sr.column},o().createElement(s.sgG,null,o().createElement(s.Ltx,{id:"methods","data-testid":"methods",onChange:function(e){return y(e.selectedItem)},initialSelectedItem:i[0],items:i,label:r("selectMethod","Select a method")}))),o().createElement(U,{onHandleReset:function(){p(null),y(null)},onHandleSubmit:E,isLoading:_}))};var hr=r(9683),Ar={};Ar.styleTagTransform=D(),Ar.setAttributes=k(),Ar.insert=w().bind(null,"head"),Ar.domAPI=E(),Ar.insertStyleElement=T(),_()(hr.Z,Ar);const br=hr.Z&&hr.Z.locals?hr.Z.locals:void 0;var yr=function(e,t){var r="Patients",n=t.length>0?t.join(", ").replace(/,(?=[^,]*$)/," or"):"";return(r+=e?" with".concat(n?"":" any"," ").concat(e):e)+(n?" equal to ".concat(n.length>1&&"either"," ").concat(n):"")};function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _r(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Er=function(e){var t=e.onSubmit,r=(0,c.useTranslation)().t,i=function(){var e=(0,u.Z)("/ws/rest/v1/personattributetype",n.openmrsFetch),t=e.data,r=e.error,a=[];return null==t||t.data.results.map((function(e,t){a.push({id:t,label:e.display,value:e.uuid})})),{isLoading:!t&&!r,personAttributes:a,personAttributesError:r}}(),l=i.personAttributes,d=i.personAttributesError,m=gr((0,a.useState)([]),2),f=m[0],p=m[1],h=gr((0,a.useState)(null),2),A=h[0],b=h[1],y=gr((0,a.useState)(!1),2),v=y[0],_=y[1];d&&(0,n.showToast)({title:r("error","Error"),kind:"error",critical:!0,description:null==d?void 0:d.message});var g=function(){var e,r=(e=function(){var e;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:return _(!0),e=null==l?void 0:l.find((function(e){return e.value==A})),[4,t((n=A,a=f,G({personWithAttribute:[{name:"attributeType",value:n},{name:"values",value:a}]})),yr(null==e?void 0:e.label,f))];case 1:return r.sent(),_(!1),[2]}var n,a}))},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_r(o,n,a,i,l,"next",e)}function l(e){_r(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.sgG,null,o().createElement("div",null,o().createElement(s.Ltx,{id:"personAttributes","data-testid":"personAttributes",onChange:function(e){return b(e.selectedItem.value)},items:l,label:r("selectAttribute","Select a person attribute")}))),o().createElement("div",{className:br.column},o().createElement(s.sgG,null,o().createElement(s.oil,{id:"selectedAttributeValues","data-testid":"selectedAttributeValues",disabled:!A,labelText:r("selectedAttributeValues","Enter Comma Delimited Values"),onChange:function(e){return p(e.target.value.trim().split(","))}}))),o().createElement(U,{onHandleReset:function(){b(null),p([])},onHandleSubmit:g,isLoading:v}))};function Cr(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function wr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Cr(o,n,a,i,l,"next",e)}function l(e){Cr(o,n,a,i,l,"throw",e)}i(void 0)}))}}var Sr=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function kr(e){return xr.apply(this,arguments)}function xr(){return(xr=wr((function(e){return Sr(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/cohort",{method:"POST",headers:{"Content-Type":"application/json"},body:e})];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function Tr(e){return Br.apply(this,arguments)}function Br(){return(Br=wr((function(e){return Sr(this,(function(t){switch(t.label){case 0:return[4,(0,n.openmrsFetch)("/ws/rest/v1/reportingrest/adhocdataset",{method:"POST",headers:{"Content-Type":"application/json"},body:e})];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Or(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function Ir(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Or(o,n,a,i,l,"next",e)}function l(e){Or(o,n,a,i,l,"throw",e)}i(void 0)}))}}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yr,Gr=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};!function(e){e[e.SAVE_COHORT=0]="SAVE_COHORT",e[e.SAVE_QUERY=1]="SAVE_QUERY",e[e.DOWNLOAD=2]="DOWNLOAD",e[e.DELETE=3]="DELETE"}(Yr||(Yr={}));const Nr=function(e){var t=e.searchItem,r=e.updateSearchHistory,i=(0,c.useTranslation)().t,l=Pr((0,a.useState)(""),2),u=l[0],d=l[1],m=Pr((0,a.useState)(""),2),f=m[0],p=m[1],h=Pr((0,a.useState)(""),2),A=h[0],b=h[1],y=Pr((0,a.useState)(""),2),v=y[0],_=y[1],g=Pr((0,a.useState)(!1),2),E=g[0],C=g[1],w=Pr((0,a.useState)(!1),2),S=w[0],k=w[1],x=Pr((0,a.useState)(!1),2),T=x[0],B=x[1],D=function(){var e=Ir((function(e){var r,n;return Gr(this,(function(a){switch(r=t.patients,n=t.description,e){case Yr.SAVE_COHORT:p(n),k(!0);break;case Yr.SAVE_QUERY:_(n),B(!0);break;case Yr.DOWNLOAD:!function(e,t){var r,n=new Blob([(r=e,"patient_id, full_name, age, gender\n"+r.map((function(e){var t={patientId:e.patientId,name:e.name,age:e.age,gender:e.gender};return Object.keys(t).map((function(t){return'"'.concat(e[t],'"')})).join(",")})).join("\n"))],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.setAttribute("download",t),o.click()}(r,n);break;case Yr.DELETE:C(!0)}return[2]}))}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Ir((function(){var e,r,a;return Gr(this,(function(o){switch(o.label){case 0:e=[],t.patients.forEach((function(t){return e.push(parseInt(t.id))})),r={display:u,memberIds:e,description:f,name:u},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,kr(r)];case 2:return o.sent(),d(""),p(""),k(!1),(0,n.showToast)({title:i("success","Success"),kind:"success",critical:!0,description:"the cohort is saved"}),[3,4];case 3:return a=o.sent(),(0,n.showToast)({title:i("cohortCreateError","Error creating the cohort"),kind:"error",critical:!0,description:null==a?void 0:a.message}),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Ir((function(){return Gr(this,(function(e){try{r(t),C(!1),(0,n.showToast)({title:i("success","Success"),kind:"success",critical:!0,description:"the search item is deleted"})}catch(e){(0,n.showToast)({title:i("searchItemDeleteError","Error deleting the cohort"),kind:"error",critical:!0,description:null==e?void 0:e.message})}return[2]}))}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Ir((function(){var e,r;return Gr(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),(e=t.parameters).name=A,e.description=v,[4,Tr(e)];case 1:return a.sent(),b(""),_(""),B(!1),(0,n.showToast)({title:i("success","Success"),kind:"success",critical:!0,description:"the query is saved"}),[3,3];case 2:return r=a.sent(),(0,n.showToast)({title:i("queryDeleteError","Error saving the query"),kind:"error",critical:!0,description:null==r?void 0:r.message}),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return o().createElement(o().Fragment,null,o().createElement(s.PQB,{ariaLabel:"overflow-menu",size:"md",flipped:!0,direction:"top","data-testid":"options"},o().createElement(s.laM,{"data-testid":"save-cohort",itemText:i("saveCohort","Save Cohort"),onClick:function(){return D(Yr.SAVE_COHORT)}}),o().createElement(s.laM,{"data-testid":"save-query",itemText:i("saveQuery","Save Query"),onClick:function(){return D(Yr.SAVE_QUERY)}}),o().createElement(s.laM,{itemText:i("downloadResults","Download Results"),onClick:function(){return D(Yr.DOWNLOAD)}}),o().createElement(s.laM,{"data-testid":"deleteFromHistory",itemText:i("deleteFromHistory","Delete from history"),onClick:function(){return D(Yr.DELETE)}})),o().createElement(s.lpG,{size:"sm",open:S,onClose:function(){return k(!1)}},o().createElement(s.xBx,null,o().createElement("p",null,"Save Cohort")),o().createElement(s.fef,{hasForm:!0},o().createElement(s.oil,{"data-modal-primary-focus":!0,required:!0,labelText:i("saveName","Enter a name"),"data-testid":"cohort-name",id:"cohort-name",onChange:function(e){return d(e.target.value)},value:u}),o().createElement("br",null),o().createElement(s.oil,{"data-modal-primary-focus":!0,required:!0,labelText:i("saveDescription","Enter a description"),"data-testid":"cohort-description",id:"cohort-description",onChange:function(e){return p(e.target.value)},value:f})),o().createElement(s.mzw,null,o().createElement(s.zxk,{kind:"secondary",onClick:function(){return k(!1)}},i("cancel","Cancel")),o().createElement(s.zxk,{"data-testid":"cohort-save-button",kind:"primary",onClick:O},i("save","Save")))),o().createElement(s.lpG,{size:"sm",open:T,onClose:function(){return B(!1)}},o().createElement(s.xBx,null,o().createElement("p",null,"Save Query")),o().createElement(s.fef,{hasForm:!0},o().createElement(s.oil,{required:!0,labelText:i("saveName","Enter a name"),id:"query-name","data-testid":"query-name",onChange:function(e){return b(e.target.value)},value:A}),o().createElement("br",null),o().createElement(s.oil,{required:!0,labelText:i("saveDescription","Enter a description"),id:"query-description",onChange:function(e){return _(e.target.value)},value:v})),o().createElement(s.mzw,null,o().createElement(s.zxk,{kind:"secondary",onClick:function(){return B(!1)}},i("cancel","Cancel")),o().createElement(s.zxk,{"data-testid":"query-save-button",kind:"primary",onClick:P},i("save","Save")))),o().createElement(s.lpG,{size:"sm",open:E,onClose:function(){return C(!1)}},o().createElement(s.xBx,null,o().createElement("p",null,i("deleteHistoryItem","Are you sure you want to delete ".concat(null==t?void 0:t.description," from the search history?"),{searchItemName:null==t?void 0:t.description}))),o().createElement(s.mzw,{danger:!0,onRequestSubmit:I,primaryButtonText:i("delete","Delete"),secondaryButtonText:i("cancel","Cancel")})))};var Mr=r(7204),Lr={};Lr.styleTagTransform=D(),Lr.setAttributes=k(),Lr.insert=w().bind(null,"head"),Lr.domAPI=E(),Lr.insertStyleElement=T(),_()(Mr.Z,Lr);const Fr=Mr.Z&&Mr.Z.locals?Mr.Z.locals:void 0;function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rr=function(){var e=JSON.parse(window.sessionStorage.getItem("openmrsHistory")),t=[];return null==e||e.map((function(e,r){return t.push((n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){jr(e,t,r[t])}))}return e}({},e),a=null!=(a={id:(r+1).toString(),results:e.patients.length})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})),n));var n,a})),t};function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qr(){return qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qr.apply(this,arguments)}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){if(e){if("string"==typeof e)return Zr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zr(e,t):void 0}}const Ur=function(e){var t=e.isHistoryUpdated,r=e.setIsHistoryUpdated,n=(0,c.useTranslation)().t,i=Hr((0,a.useState)([]),2),l=i[0],u=i[1],d=Hr((0,a.useState)(1),2),m=d[0],f=d[1],p=Hr((0,a.useState)(10),2),h=p[0],A=p[1],b=Hr((0,a.useState)(!1),2),y=b[0],v=b[1];(0,a.useEffect)((function(){t&&(u(Rr()),r(!1))}),[t,r]);var _=[{key:"id",header:"#"},{key:"description",header:n("query","Query")},{key:"results",header:n("results","Results")}],g=function(e){var t,r=(t=l,function(e){if(Array.isArray(e))return Zr(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||zr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(t,r){return r!=l.indexOf(e)}));u(r),window.sessionStorage.setItem("openmrsHistory",JSON.stringify(r))};return o().createElement("div",{className:Fr.container},o().createElement("div",{className:Fr.header},o().createElement("p",{className:P.heading},n("searchHistory","Search History")),l.length>0&&o().createElement(s.zxk,{kind:"danger--tertiary",onClick:function(){return v(!0)}},n("clearHistory","Clear Search History"))),o().createElement(s.wQF,{rows:l,headers:_,useZebraStyles:!0},(function(e){var t=e.rows,r=e.headers,n=e.getTableProps,a=e.getHeaderProps,i=e.getRowProps;return o().createElement(s.iA_,qr({},n()),o().createElement(s.ssF,null,o().createElement(s.SCH,null,r.map((function(e){return o().createElement(s.xDH,qr({},a({header:e})),e.header)})),o().createElement(s.xDH,{className:P.optionHeader}))),o().createElement(s.RMI,null,t.slice((m-1)*h).slice(0,h).map((function(e,t){return o().createElement(s.SCH,qr({},i({row:e})),e.cells.map((function(e){return o().createElement(s.pj1,{key:e.id},e.value)})),o().createElement(s.pj1,{className:P.optionCell},o().createElement(Nr,{searchItem:l[t],updateSearchHistory:g})))}))))})),l.length>10&&o().createElement(s.tlE,{backwardText:n("previousPage","Previous page"),forwardText:n("nextPage","Next page"),itemsPerPageText:n("itemsPerPage:","Items per page:"),onChange:function(e){var t=e.page,r=e.pageSize;f(t),A(r)},page:1,pageSize:10,pageSizes:[10,20,30,40,50],size:"md",totalItems:l.length}),!l.length&&o().createElement(ae,{displayText:n("data","data")}),o().createElement(s.lpG,{size:"sm",open:y,onClose:function(){return v(!1)}},o().createElement(s.xBx,null,o().createElement("p",null,n("clearHistoryMsg","Are you sure you want to clear the search history?"))),o().createElement(s.mzw,{danger:!0,onRequestSubmit:function(){window.sessionStorage.removeItem("openmrsHistory"),u([]),v(!1)},primaryButtonText:n("clear","Clear"),secondaryButtonText:n("cancel","Cancel")})))};var Vr=r(2533),Qr={};Qr.styleTagTransform=D(),Qr.setAttributes=k(),Qr.insert=w().bind(null,"head"),Qr.domAPI=E(),Qr.insertStyleElement=T(),_()(Vr.Z,Qr);const Wr=Vr.Z&&Vr.Z.locals?Vr.Z.locals:void 0;function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xr(){return Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xr.apply(this,arguments)}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Kr=function(e){var t=e.patients,r=$r((0,a.useState)(1),2),n=r[0],i=r[1],l=$r((0,a.useState)(10),2),u=l[0],d=l[1],m=(0,c.useTranslation)().t,f=[{key:"id",header:m("openmrsId","OpenMRS ID")},{key:"name",header:m("name","Name")},{key:"age",header:m("age","Age")},{key:"gender",header:m("gender","Gender")}];return o().createElement("div",{className:Wr.container},o().createElement("p",{className:P.heading},m("searchResults","Search Results")),o().createElement(s.wQF,{rows:t,headers:f,useZebraStyles:!0},(function(e){var t=e.rows,r=e.headers,a=e.getTableProps,i=e.getHeaderProps,l=e.getRowProps;return o().createElement(s.iA_,Xr({},a()),o().createElement(s.ssF,null,o().createElement(s.SCH,null,r.map((function(e){return o().createElement(s.xDH,Xr({},i({header:e})),e.header)})))),o().createElement(s.RMI,null,t.slice((n-1)*u).slice(0,u).map((function(e,t){return o().createElement(s.SCH,Xr({},l({row:e}),{key:t}),e.cells.map((function(e,t){return o().createElement(s.pj1,{key:t},e.value)})))}))))})),t.length>10&&o().createElement(s.tlE,{backwardText:m("previousPage","Previous page"),forwardText:m("nextPage","Next page"),itemsPerPageText:m("itemsPerPage:","Items per page:"),onChange:function(e){var t=e.page,r=e.pageSize;i(t),d(r)},page:1,pageSize:10,pageSizes:[10,20,30,40,50],size:"md",totalItems:t.length}),!t.length&&o().createElement(ae,{displayText:m("data","data")}))};function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tn(e,t,r,n,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tn(o,n,a,i,l,"next",e)}function l(e){tn(o,n,a,i,l,"throw",e)}i(void 0)}))}}function nn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var on=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};var ln=r(7141);var sn={featureName:"cohort-builder",moduleName:"@openmrs/esm-cohort-builder"},cn=r(3979);function un(){}var dn=(0,n.getSyncLifecycle)((function(){var e,t=(0,c.useTranslation)().t,r=an((0,a.useState)([]),2),i=r[0],u=r[1],d=an((0,a.useState)(!0),2),m=d[0],f=d[1],p="tablet"===(0,n.useLayoutType)(),A=function(e,r){return new Promise(function(){var a=rn((function(a){var o,i,l;return on(this,(function(s){switch(s.label){case 0:u([]),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,h(e)];case 2:return o=s.sent(),(i=o.data.rows).map((function(e){e.id=e.patientId.toString(),e.name="".concat(e.firstname," ").concat(e.lastname)})),u(i),function(e,t,r){var n,a,o=JSON.parse(window.sessionStorage.getItem("openmrsHistory"));n=o?(a=o,function(e){if(Array.isArray(e))return Y(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{description:e,patients:t,parameters:r}]):[{description:e,patients:t,parameters:r}],window.sessionStorage.setItem("openmrsHistory",JSON.stringify(n))}(r,i,e.query),(0,n.showToast)({title:t("success","Success!"),kind:"success",critical:!0,description:t("searchIsCompleted","Search is completed with ".concat(i.length," result(s)"),{numOfResults:i.length})}),f(!0),a(!0),[3,4];case 3:return l=s.sent(),(0,n.showToast)({title:t("error","Error"),kind:"error",critical:!0,description:null==l?void 0:l.message}),a(!0),[3,4];case 4:return[2]}}))}));return function(e){return a.apply(this,arguments)}}())},v=function(){var e=rn((function(e){var r,a;return on(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,b(e)];case 1:return r=o.sent(),u(r),(0,n.showToast)({title:t("success","Success!"),kind:"success",critical:!0,description:t("searchIsCompleted","Search is completed with ".concat(r.length," result(s)"),{numOfResults:r.length})}),[3,3];case 2:return a=o.sent(),(0,n.showToast)({title:t("error","Error"),kind:"error",critical:!0,description:null==a?void 0:a.message}),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=rn((function(e){var r,a;return on(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,y(e)];case 1:return r=o.sent(),u(r),(0,n.showToast)({title:t("success","Success!"),kind:"success",critical:!0,description:t("searchIsCompleted","Search is completed with ".concat(r.length," result(s)"),{numOfResults:r.length})}),[3,3];case 2:return a=o.sent(),(0,n.showToast)({title:t("error","Error"),kind:"error",critical:!0,description:null==a?void 0:a.message}),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),g=[{name:t("concepts","Concepts"),component:o().createElement(gt,{onSubmit:A})},{name:t("demographics","Demographics"),component:o().createElement(It,{onSubmit:A})},{name:t("personAttributes","Person Attributes"),component:o().createElement(Er,{onSubmit:A})},{name:t("encounters","Encounters"),component:o().createElement(Jt,{onSubmit:A})},{name:t("location","Location"),component:o().createElement(pr,{onSubmit:A})},{name:t("enrollments","Enrollments"),component:o().createElement(or,{onSubmit:A})},{name:t("drugOrder","Drug Order"),component:o().createElement(Rt,{onSubmit:A})},{name:t("composition","Composition"),component:o().createElement(K,{onSubmit:A})},{name:t("savedDefinitions","Saved Cohorts"),component:o().createElement(ke,{onViewCohort:_})},{name:t("savedDefinitions","Saved Queries"),component:o().createElement(Qe,{onViewQuery:v})}];return o().createElement("div",{className:l()("omrs-main-content",P.mainContainer,P.cohortBuilder)},o().createElement("div",{className:l()(p?P.tabletContainer:P.desktopContainer)},o().createElement("p",{className:P.title},t("cohortBuilder","Cohort Builder")),o().createElement("div",{className:P.tabContainer},o().createElement("p",{className:P.heading},t("searchCriteria","Search Criteria")),o().createElement("div",{className:P.tab},o().createElement(s.mQc,{className:l()(P.verticalTabs,(e={},nn(e,P.tabletTab,p),nn(e,P.desktopTab,!p),e))},o().createElement(s.tdY,{"aria-label":"navigation"},g.map((function(e,t){return o().createElement(s.OK9,{key:t},e.name)}))),o().createElement(s.nPR,null,g.map((function(e,t){return o().createElement(s.x45,{key:t},e.component)})))))),o().createElement(Kr,{patients:i}),o().createElement(Ur,{isHistoryUpdated:m,setIsHistoryUpdated:f})))}),sn),mn=(0,n.getSyncLifecycle)((function(){var e=(0,c.useTranslation)().t;return o().createElement(s.mh4,null,o().createElement(s.Ohc,{href:"".concat(window.spaBase,"/cohort-builder"),target:"_blank",rel:"noopener noreferrer"},o().createElement("div",null,o().createElement("div",{className:"heading"},e("manageCohorts","Manage Cohorts")),o().createElement("div",{className:"content"},e("cohortBuilder","Cohort Builder"))),o().createElement("div",{className:"iconWrapper"},o().createElement(ln.ol,{size:16}))))}),sn)},3979:(e,t,r)=>{var n={"./en.json":[3574,574]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(n),a.id=3979,e.exports=a}}]);