"use strict";(globalThis.webpackChunk_openmrs_esm_login_app=globalThis.webpackChunk_openmrs_esm_login_app||[]).push([[111,173],{9111:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d,infinite:()=>o,unstable_serialize:()=>c});var r=a(5776),n=a(4126),i=a(7381),l=a(1374);const s=e=>(0,i.serialize)(e?e(0,null):null)[0],c=e=>i.INFINITE_PREFIX+s(e),u=Promise.resolve(),o=e=>(t,a,n)=>{const c=(0,r.useRef)(!1),{cache:o,initialSize:d=1,revalidateAll:f=!1,persistSize:p=!1,revalidateFirstPage:_=!0,revalidateOnMount:h=!1,parallel:b=!1}=n,[,,,g]=i.SWRGlobalState.get(i.cache);let m;try{m=s(t),m&&(m=i.INFINITE_PREFIX+m)}catch(e){}const[C,k,I]=(0,i.createCacheHelper)(o,m),E=(0,r.useCallback)((()=>(0,i.isUndefined)(C()._l)?d:C()._l),[o,m,d]);(0,l.useSyncExternalStore)((0,r.useCallback)((e=>m?I(m,(()=>{e()})):()=>{}),[o,m]),E,E);const U=(0,r.useCallback)((()=>{const e=C()._l;return(0,i.isUndefined)(e)?d:e}),[m,d]),v=(0,r.useRef)(U());(0,i.useIsomorphicLayoutEffect)((()=>{c.current?m&&k({_l:p?v.current:U()}):c.current=!0}),[m,o]);const w=h&&!c.current,y=e(m,(async e=>{const r=C()._i,l=[],s=U(),[c]=(0,i.createCacheHelper)(o,e),u=c().data,d=[];let p=null;for(let e=0;e<s;++e){const[s,c]=(0,i.serialize)(t(e,b?null:p));if(!s)break;const[h,m]=(0,i.createCacheHelper)(o,s);let C=h().data;const k=f||r||(0,i.isUndefined)(C)||_&&!e&&!(0,i.isUndefined)(u)||w||u&&!(0,i.isUndefined)(u[e])&&!n.compare(u[e],C);if(a&&k){const t=async()=>{if(s in g){const e=g[s];delete g[s],C=await e}else C=await a(c);m({data:C,_k:c}),l[e]=C};b?d.push(t):await t()}else l[e]=C;b||(p=C)}return b&&await Promise.all(d.map((e=>e()))),k({_i:i.UNDEFINED}),l}),n),z=(0,r.useCallback)((function(e,t){const a="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==a.revalidate;return m?(r&&((0,i.isUndefined)(e)?k({_i:!0}):k({_i:!1})),arguments.length?y.mutate(e,{...a,revalidate:r}):y.mutate()):u}),[m,o]),F=(0,r.useCallback)((e=>{if(!m)return u;const[,a]=(0,i.createCacheHelper)(o,m);let r;if((0,i.isFunction)(e)?r=e(U()):"number"==typeof e&&(r=e),"number"!=typeof r)return u;a({_l:r}),v.current=r;const n=[],[l]=(0,i.createCacheHelper)(o,m);let s=null;for(let e=0;e<r;++e){const[a]=(0,i.serialize)(t(e,s)),[r]=(0,i.createCacheHelper)(o,a),c=a?r().data:i.UNDEFINED;if((0,i.isUndefined)(c))return z(l().data);n.push(c),s=c}return z(n)}),[m,o,z,U]);return{size:U(),setSize:F,mutate:z,get data(){return y.data},get error(){return y.error},get isValidating(){return y.isValidating},get isLoading(){return y.isLoading}}},d=(0,i.withMiddleware)(n.ZP,o)}}]);