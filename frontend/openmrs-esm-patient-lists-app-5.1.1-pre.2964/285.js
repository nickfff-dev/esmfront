"use strict";(globalThis.webpackChunk_openmrs_esm_patient_lists_app=globalThis.webpackChunk_openmrs_esm_patient_lists_app||[]).push([[285],{5793:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(272),a=n.n(i),s=n(2609),l=n.n(s)()(a());l.push([t.id,".-esm-patient-lists__patient-lists__container___FkHYW,.-esm-patient-lists__patient-lists__emptyStateContainer___aoIAR,.-esm-patient-lists__patient-lists__skeletonContainer___AFMG4{height:calc(100vh - 6rem);background-color:#fff}.-esm-patient-lists__patient-lists__skeletonContainer___AFMG4{margin:1rem}.-esm-patient-lists__patient-lists__dataTableSkeleton___uTkPj{background-color:rgba(0,0,0,0);padding:0rem}.-esm-patient-lists__patient-lists__tableContainer___wZq0g{padding:0}.-esm-patient-lists__patient-lists__tableContainer___wZq0g .cds--data-table-content{border:1px solid #e0e0e0;border-bottom:none;overflow:visible}.-esm-patient-lists__patient-lists__tableContainer___wZq0g .cds--table-toolbar{position:relative;height:2rem;min-height:0rem;overflow:visible;top:0}.-esm-patient-lists__patient-lists__tableContainer___wZq0g.cds--data-table-container{padding-top:0rem}.-esm-patient-lists__patient-lists__toolbarWrapper___QeWXR{position:relative;display:flex;height:3rem;justify-content:flex-end}.-esm-patient-lists__patient-lists__tableToolbar___HXRJb{width:20%;min-width:12.5rem}.-esm-patient-lists__patient-lists__search___GTqT2 input{padding:0 4rem !important}.-esm-patient-lists__patient-lists__search___GTqT2 .cds--search-close:focus{outline:none;outline-offset:0}.-esm-patient-lists__patient-lists__search___GTqT2 .cds--search-close:focus:before{background-color:none}.-esm-patient-lists__patient-lists__table___aDema tr:last-of-type td{border-bottom:none}.-esm-patient-lists__patient-lists__link___zAxFT{cursor:pointer;text-decoration:none !important}.-esm-patient-lists__patient-lists__content___BSJC2,.-esm-patient-lists__patient-lists__emptyStateContent___FRWrF{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-patient-lists__patient-lists__tileContainer___r9bH_{background-color:#fff;border-top:1px solid #525252;padding:4rem 0}.-esm-patient-lists__patient-lists__tile___hdqyG{margin:auto;width:fit-content}.-esm-patient-lists__patient-lists__tileContent___mBQ1s{display:flex;flex-direction:column;align-items:center}.-esm-patient-lists__patient-lists__emptyStateContainer___aoIAR{background-color:#ededed}.-esm-patient-lists__patient-lists__emptyStateTile___EXKBm{padding:1.5rem 0;text-align:center}.-esm-patient-lists__patient-lists__emptyStateContent___FRWrF{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}","",{version:3,sources:["webpack://./src/workspaces/patient-lists.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAMA,oLACE,yBAAA,CACA,qBCkHQ,CD/GV,8DAEE,WEkBW,CFfb,8DACE,8BAAA,CACA,YAAA,CAGF,2DACE,SAAA,CAEA,oFACE,wBAAA,CACA,kBAAA,CACA,gBAAA,CAGF,+EACE,iBAAA,CACA,WAAA,CACA,eAAA,CACA,gBAAA,CACA,KAAA,CAGF,qFACE,gBAAA,CAIJ,2DACE,iBAAA,CACA,YAAA,CACA,WEKW,CFJX,wBAAA,CAGF,yDACE,SAAA,CACA,iBAAA,CAIA,yDACE,yBAAA,CAGF,4EACE,YAAA,CACA,gBAAA,CAGF,mFACE,qBAAA,CAKF,qEACE,kBAAA,CAIJ,iDACE,cAAA,CACA,+BAAA,CAGF,kHGixBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CH/wBF,aCnCQ,CDoCR,mBAAA,CAGF,0DACE,qBCkCQ,CDjCR,4BAAA,CACA,cAAA,CAGF,iDACE,WAAA,CACA,iBAAA,CAGF,wDACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,gEAEE,wBAAA,CAGF,2DACE,gBAAA,CACA,iBAAA,CAGF,8DGgvBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CH7uBF,aCrEQ,CDsER,eEvFW,CFwFX,mBElGW",sourceRoot:""}]),l.locals={container:"-esm-patient-lists__patient-lists__container___FkHYW",emptyStateContainer:"-esm-patient-lists__patient-lists__emptyStateContainer___aoIAR",skeletonContainer:"-esm-patient-lists__patient-lists__skeletonContainer___AFMG4",dataTableSkeleton:"-esm-patient-lists__patient-lists__dataTableSkeleton___uTkPj",tableContainer:"-esm-patient-lists__patient-lists__tableContainer___wZq0g",toolbarWrapper:"-esm-patient-lists__patient-lists__toolbarWrapper___QeWXR",tableToolbar:"-esm-patient-lists__patient-lists__tableToolbar___HXRJb",search:"-esm-patient-lists__patient-lists__search___GTqT2",table:"-esm-patient-lists__patient-lists__table___aDema",link:"-esm-patient-lists__patient-lists__link___zAxFT",content:"-esm-patient-lists__patient-lists__content___BSJC2",emptyStateContent:"-esm-patient-lists__patient-lists__emptyStateContent___FRWrF",tileContainer:"-esm-patient-lists__patient-lists__tileContainer___r9bH_",tile:"-esm-patient-lists__patient-lists__tile___hdqyG",tileContent:"-esm-patient-lists__patient-lists__tileContent___mBQ1s",emptyStateTile:"-esm-patient-lists__patient-lists__emptyStateTile___EXKBm"};const r=l},6714:(t,e,n)=>{n.d(e,{a:()=>s,s:()=>l});var i=n(3255),a=n(2870);function s(){var t,e=new URLSearchParams({v:"custom:(uuid,name,description,display,size,attributes,cohortType,startDate,endDate)",totalCount:"true"}),n=(0,i.ZP)("/ws/rest/v1/cohortm/cohort?"+e,a.openmrsFetch),s=n.data,l=n.error,r=n.isLoading;return{patientLists:(null==s||null===(t=s.data)||void 0===t?void 0:t.results)?s.data.results.map((function(t){return{attributes:t.attributes,description:t.description,id:t.uuid,name:t.name,size:t.size,startDate:t.startDate,type:t.cohortType.display}})):[],isLoading:r,error:l}}function l(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="/ws/rest/v1/cohortm/cohortmember?",o=new URLSearchParams({cohort:t,startIndex:s,limit:l,q:n,v:"full"}),_=(0,i.ZP)(t?r+o:null,a.openmrsFetch),c=_.data,A=_.error,p=_.isLoading,m=function(t){var e,n,i,s,l,r,o,_;return{identifier:null!==(_=null==t||null===(n=t.patient)||void 0===n||null===(e=n.identifiers[0])||void 0===e?void 0:e.identifier)&&void 0!==_?_:null,membershipUuid:null==t?void 0:t.uuid,name:null==t||null===(s=t.patient)||void 0===s||null===(i=s.person)||void 0===i?void 0:i.display,sex:null==t||null===(r=t.patient)||void 0===r||null===(l=r.person)||void 0===l?void 0:l.gender,startDate:(0,a.formatDate)((0,a.parseDate)(null==t?void 0:t.startDate)),patientUuid:"".concat(null==t||null===(o=t.patient)||void 0===o?void 0:o.uuid)}},u=(null==c||null===(e=c.data)||void 0===e?void 0:e.results)?c.data.results.map(m):[];return{listMembers:u,isLoading:p,error:A}}},9285:(t,e,n)=>{n.r(e),n.d(e,{default:()=>j});var i=n(268),a=n.n(i),s=n(4478),l=n.n(s),r=n(4924),o=n(2083),_=n(4556),c=n(2870),A=n(6714),p=n(1354),m=n.n(p),u=n(1583),d=n.n(u),C=n(7378),b=n.n(C),h=n(5993),g=n.n(h),f=n(4154),v=n.n(f),y=n(8141),E=n.n(y),k=n(5793),w={};w.styleTagTransform=E(),w.setAttributes=g(),w.insert=b().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=v(),m()(k.Z,w);const F=k.Z&&k.Z.locals?k.Z.locals:void 0;function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){S(t,e,n[e])}))}return t}function T(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n.push.apply(n,i)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}const j=function(){var t,e,n=(0,r.useTranslation)().t,s="tablet"===(0,c.useLayoutType)()?"lg":"sm",p=(t=(0,i.useState)(""),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,a,s=[],l=!0,r=!1;try{for(n=n.call(t);!(l=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);l=!0);}catch(t){r=!0,a=t}finally{try{l||null==n.return||n.return()}finally{if(r)throw a}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],u=p[1],d=(0,c.useDebounce)(m),C=(0,A.a)(),b=C.patientLists,h=C.isLoading,g=(0,i.useCallback)((function(t){(0,_.closeWorkspace)("patient-lists",!0),(0,_.launchPatientWorkspace)("patient-list-details",{list:t,workspaceTitle:t.name})}),[]),f=[{key:"name",header:n("listName","List name")},{key:"type",header:n("listType","List type")},{key:"size",header:n("numberOfPatients","No. of patients")}],v=(0,i.useMemo)((function(){return d&&d?l().filter(d,b,{extract:function(t){return"".concat(t.name," ").concat(t.type)}}).sort((function(t,e){return t.score-e.score})).map((function(t){return t.original})):b}),[d,b]),y=(0,i.useMemo)((function(){var t;return null!==(t=null==v?void 0:v.map((function(t){return T(B({},t),{numberOfPatients:t.size})})))&&void 0!==t?t:[]}),[v]),E=function(t){return u(t.target.value)};return h?a().createElement("div",{className:F.skeletonContainer},a().createElement(o.gqd,{className:F.dataTableSkeleton,rowCount:5,columnCount:5,zebra:!0})):(null==b?void 0:b.length)>0?a().createElement("section",{className:F.container},a().createElement(o.wQF,{headers:f,rows:y,size:s,useZebraStyles:!0},(function(t){var e=t.rows,i=t.headers,l=t.getTableProps,r=t.getHeaderProps,_=t.getRowProps;return a().createElement(a().Fragment,null,a().createElement(o.xJi,{className:F.tableContainer},a().createElement("div",{className:F.toolbarWrapper},a().createElement(o.fjU,{className:F.tableToolbar},a().createElement(o.Vj0,null,a().createElement(o.Ys1,{className:F.search,expanded:!0,onChange:E,placeholder:n("searchThisList","Search this list"),size:s})))),e.length>0?a().createElement(o.iA_,B({className:F.table},l()),a().createElement(o.ssF,null,a().createElement(o.SCH,null,i.map((function(t){return a().createElement(o.xDH,r({header:t}),t.header)})))),a().createElement(o.RMI,null,e.map((function(t){var e,n,i,s=null==b?void 0:b.find((function(e){return(null==e?void 0:e.id)===t.id}));return a().createElement(o.SCH,T(B({},_({row:t})),{key:t.id}),a().createElement(o.pj1,null,a().createElement(o.rUS,{className:F.link,onClick:function(){return g(s)}},null!==(e=null==s?void 0:s.name)&&void 0!==e?e:"")),a().createElement(o.pj1,null,null!==(n=null==s?void 0:s.type)&&void 0!==n?n:""),a().createElement(o.pj1,null,null!==(i=null==s?void 0:s.size)&&void 0!==i?i:""))})))):null),0===(null==v?void 0:v.length)?a().createElement("div",{className:F.tileContainer},a().createElement(o.n9L,{className:F.tile},a().createElement("div",{className:F.tileContent},a().createElement("p",{className:F.content},n("noMatchingListsFound","No matching lists to display")),a().createElement("p",{className:F.helper},n("checkFilters","Check the filters above"))))):null)}))):a().createElement("div",{className:F.emptyStateContainer},a().createElement(o.mh4,null,a().createElement(o.n9L,{className:F.emptyStateTile},a().createElement("div",{className:F.tileContent},a().createElement(_.EmptyDataIllustration,null),a().createElement("p",{className:F.emptyStateContent},n("noPatientListsToDisplay","No patient lists to display"))))))}}}]);