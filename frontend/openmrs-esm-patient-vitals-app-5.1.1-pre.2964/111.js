"use strict";(globalThis.webpackChunk_openmrs_esm_patient_vitals_app=globalThis.webpackChunk_openmrs_esm_patient_vitals_app||[]).push([[111],{8774:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx,.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{margin:0 .5rem .5rem 0}.-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-form__button___csqIN{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q{padding:0rem}.-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#ededed}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy{margin:1rem}.-esm-patient-vitals__vitals-biometrics-form__row___jpx5U{margin:.5rem 0rem 0rem;display:flex;flex-flow:row wrap;gap:1rem}.-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy{margin-top:1rem}.-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm{width:100%}.-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv{margin:.5rem 0}.-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P{margin:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/vitals-biometrics-form/vitals-biometrics-form.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,sICq0BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDj0BJ,4DAEE,sBAAA,CAGF,6DACE,aDKO,CCFT,6DACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,6DACE,mBAAA,CACA,qBD3BM,CC8BR,8DACE,YAAA,CAGF,2DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CAGF,uFACE,wBAAA,CAGF,sFACE,qBD9CM,CCiDR,2DACE,WAAA,CAGF,0DACE,sBAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CAGF,6DACE,eAAA,CAGF,gEACE,UAAA,CAGF,wEACE,cAAA,CAGF,qEACE,WAAA",sourceRoot:""}]),s.locals={productiveHeading03:"-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx",title:"-esm-patient-vitals__vitals-biometrics-form__title___QUnD7",danger:"-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK",button:"-esm-patient-vitals__vitals-biometrics-form__button___csqIN",tablet:"-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x",desktop:"-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q",form:"-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp",grid:"-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy",row:"-esm-patient-vitals__vitals-biometrics-form__row___jpx5U",spacer:"-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy",noteInput:"-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm",errorNotification:"-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv",errorContainer:"-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P"};const o=s},8120:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP,.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM,.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno,.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5,.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-input__container___JjP0j{width:11.625rem;border-bottom:1px solid #8d8d8d;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{color:#525252;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{border:none;text-align:center;padding:0;color:#161616}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number input[type="number"]{border:none !important;text-align:center;font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);font-family:ibm plex sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif;min-width:auto !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number--nosteppers input[type="number"]{padding-right:1rem !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H ::placeholder{color:#a8a8a8}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{height:4.875rem;display:flex;justify-content:center;flex-direction:column;text-align:center;color:#525252;background-color:#f4f4f4}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{outline:2px solid #0f62fe}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input{outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o svg{display:none}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red input{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green input{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow input{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{border:none;text-align:left}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea{border-bottom:none}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea:focus{outline:none}.-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm{display:flex;flex-direction:row;align-items:center;text-align:center;margin:0;padding:0}.-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:.5rem}.-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U{max-width:11rem;color:#da1e28;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__layer___zLTik{width:100%}.-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X{display:flex;justify-content:space-between;align-items:center}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F{outline:2px solid #da1e28}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{border:none}.-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl svg{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after,.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after,.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after,.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after{content:" ↓"}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after{content:" ↓↓"}.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{content:" ↑"}.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after{content:" ↑↑"}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5 .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#ffd7d9;outline:none}.-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{cursor:default}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#f4f4f4}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#fff}',"",{version:3,sources:["webpack://./src/vitals-biometrics-form/vitals-biometrics-input.scss","webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/styles/node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAAA,MCoDA,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,4HDlDF,gDEq0BI,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CAAA,kIFj0BJ,gDEi0BI,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CAAA,oNF7zBJ,kDE6zBI,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,iEFzzBJ,eACE,CAAA,+BACA,CAAA,mBGEW,CAAA,6DHEb,aClBU,CAAA,mBEgBG,CAAA,mEHQb,WACE,CAAA,iBAEA,CAAA,SACA,CAAA,aC7BM,CAAA,qGDgCN,sBACE,CAAA,iBACA,CAAA,kDEoyBA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,mGFlyBA,CAAA,yBACA,CAAA,iHAGF,6BACE,CAAA,iFAGF,aC1CQ,CAAA,sED+CV,eAEE,CAAA,YACA,CAAA,sBACA,CAAA,qBACA,CAAA,iBACA,CAAA,aCtDQ,CAAA,wBALF,CAAA,oID+DN,yBACE,CAAA,0IAEA,uBACE,CAAA,oKAGF,YACE,CAAA,wIAGF,YACE,CAAA,kGAKN,qBC/EQ,CAAA,0EDoFN,wBIQO,CAAA,gFJLL,wBIKK,CAAA,4EAAA,wBAxCE,CAAA,kFJ2CP,wBI3CO,CAAA,6EJgDT,wBIsBU,CAAA,mFJpBP,wBIoBO,CAAA,uEJbV,YACE,CAAA,mGAGF,uBACE,CAAA,gEAIJ,WACE,CAAA,eAEA,CAAA,yEAEA,kBACE,CAAA,+EAEA,YACE,CAAA,gEAKN,YACE,CAAA,kBACA,CAAA,kBACA,CAAA,iBACA,CAAA,QACA,CAAA,SACA,CAAA,gEAGF,wDE4rBI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,aDr0BM,CAAA,gBEgBG,CAAA,yEH+Hb,eACE,CAAA,aCjIO,CAAA,mBECI,CAAA,6DHqIb,UACE,CAAA,sEAGF,YACE,CAAA,6BACA,CAAA,kBACA,CAAA,oEAGF,yBACE,CAAA,kIAEA,WACE,CAAA,4EAKF,aCzJO,CAAA,sED8JT,wBItFS,CAAA,6IJyFL,YACE,CAAA,+IAGF,wBI7FK,CAAA,yKJiGL,YACE,CAAA,gSAOJ,2DEqoBE,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CAAA,aDr0BM,CAAA,kEDsMV,YACE,CAAA,6EAGF,aACE,CAAA,mEAGF,YACE,CAAA,8EAGF,aACE,CAAA,4NAKE,wBIhIK,CAAA,qSJoID,wBIpIC,CAAA,YJsIC,CAAA,gEAOV,cACE,CAAA,4FAGF,wBIpMU,CAAA,2FJwMV,qBIxHU",sourceRoot:""}]),s.locals={label01:"-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP",label:"-esm-patient-vitals__vitals-biometrics-input__label___whuuP",bodyLong01:"-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM",textarea:"-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte",productiveHeading04:"-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno",inputContainer:"-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5",numberInput:"-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H",container:"-esm-patient-vitals__vitals-biometrics-input__container___JjP0j",focused:"-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o",centered:"-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm",unitName:"-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA",invalidInputError:"-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U",layer:"-esm-patient-vitals__vitals-biometrics-input__layer___zLTik",labelContainer:"-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X",invalidInput:"-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F",invalidInputIcon:"-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl","critical-value":"-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n","critically-low":"-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0","critically-high":"-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8",low:"-esm-patient-vitals__vitals-biometrics-input__low___hxzKT",high:"-esm-patient-vitals__vitals-biometrics-input__high___oxDFD",inputInTabletView:"-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV",inputWithAbnormalValue:"-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi",readonly:"-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit"};const o=s},4111:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Q});var n=i(268),a=i.n(n),r=i(3955),s=i(4924),o=i(195),l=i(8883),_=i(2422),c=i(2870),u=i(4556),m=i(537),A=i.n(m);function p(e,t,i){var n=e.find((function(e){return e.uuid===t}));return void 0===i||""===i||void 0===n||!A()(null==n?void 0:n.lowAbsolute)||!A()(null==n?void 0:n.hiAbsolute)||Number(i)>=Number(n.lowAbsolute)&&Number(i)<=Number(n.hiAbsolute)}var d=i(9454),v=i(2779),b=i.n(v),g=i(6484),f=i(1354),C=i.n(f),h=i(1583),y=i.n(h),E=i(7378),w=i.n(E),B=i(5993),I=i.n(B),x=i(4154),k=i.n(x),U=i(8141),D=i.n(U),R=i(8120),P={};P.styleTagTransform=D(),P.setAttributes=I(),P.insert=w().bind(null,"head"),P.domAPI=y(),P.insertStyleElement=k(),C()(R.Z,P);const F=R.Z&&R.Z.locals?R.Z.locals:void 0;function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){N(e,t,i[t])}))}return e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){var t=e.children;return e.isTablet?a().createElement(_.mh4,{className:F.layer},t," "):a().createElement(n.Fragment,null,t)}const M=function(e){var t,i,o=e.control,l=e.fieldProperties,u=e.fieldStyles,m=e.fieldWidth,A=e.interpretation,p=e.isValueWithinReferenceRange,v=void 0===p||p,f=e.label,C=e.muacColorCode,h=e.placeholder,y=e.readOnly,E=e.showErrorMessage,w=e.unitSymbol,B=e.useMuacColors,I=function(e){z(e)},x=(0,s.useTranslation)().t,k=(0,n.useId)(),U="tablet"===(0,c.useLayoutType)(),D=q((0,n.useState)(!1),2),R=D[0],P=D[1],S=q((0,n.useState)(!1),2),M=S[0],z=S[1],V=!M&&A&&["critically_low","critically_high","high","low"].includes(A),j=Boolean(E&&(!v||R)),J=j?F.invalidInput:"",T=b()(F.container,(N(t={},F.inputInTabletView,U),N(t,F.inputWithAbnormalValue,V),t)),W=b()(F.inputContainer,(N(i={},F["critical-value"],V),N(i,F.focused,M),N(i,F.readonly,y),N(i,C,B),N(i,J,!0),i));return a().createElement(a().Fragment,null,a().createElement("div",{className:T,style:{width:m}},a().createElement("section",{className:F.labelContainer},a().createElement("span",{className:F.label},f),Boolean(V)?a().createElement("span",{className:F[A.replace("_","-")],title:x("abnormalValue","Abnormal value")}):null,j?a().createElement("span",{className:F.invalidInputIcon},a().createElement(g.v3,null)):null),a().createElement("section",{className:W,style:G({},u)},a().createElement("div",{className:F.centered},l.map((function(e){if("number"===e.type){var t=b()(F.numberInput,e.className);return a().createElement(n.Fragment,{key:e.id},a().createElement(H,{isTablet:U},a().createElement(r.Qr,{name:e.id,control:o,render:function(i){var n=i.field,r=n.onChange,s=n.ref,o=n.value;return a().createElement(_.Y2U,{allowEmpty:!0,className:t,defaultValue:"",disableWheel:!0,hideSteppers:!0,id:"".concat(k,"-").concat(e.id),max:e.max,min:e.min,name:e.name,onBlur:function(){return I(!1)},onChange:function(e){return function(e,t){P(!(Number(e)||""===e)),R||t(""===e?void 0:Number(e))}(e.target.value,r)},onFocus:function(){return I(!0)},placeholder:(0,d.IZ)(e.name),readOnly:y,ref:s,style:G({},u),title:e.name,type:e.type,value:o})}})),null==e?void 0:e.separator)}if("textarea"===e.type)return a().createElement(H,{key:e.id,isTablet:U},a().createElement(r.Qr,{name:e.id,control:o,render:function(t){var i=t.field,n=i.onChange,r=i.ref,s=i.value;return a().createElement(_.Kx8,{className:F.textarea,id:"".concat(k,"-").concat(e.id),labelText:"",maxCount:100,name:e.name,onBlur:function(){return I(!1)},onChange:n,onFocus:function(){return I(!0)},placeholder:h,ref:r,rows:2,style:G({},u),title:e.name,value:s})}}))}))),Boolean(w)&&a().createElement("p",{className:F.unitName},w))),j&&a().createElement(_.lXp,{className:F.invalidInputError},x("validationInputError","Value must be between {{min}} and {{max}}",{min:l[0].min,max:l[0].max})))};var z=i(8774),V={};V.styleTagTransform=D(),V.setAttributes=I(),V.insert=w().bind(null,"head"),V.domAPI=y(),V.insertStyleElement=k(),C()(z.Z,V);const j=z.Z&&z.Z.locals?z.Z.locals:void 0;function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=o.z.object({systolicBloodPressure:o.z.number(),diastolicBloodPressure:o.z.number(),respiratoryRate:o.z.number(),oxygenSaturation:o.z.number(),pulse:o.z.number(),temperature:o.z.number(),generalPatientNote:o.z.string(),weight:o.z.number(),height:o.z.number(),midUpperArmCircumference:o.z.number(),computedBodyMassIndex:o.z.number()}).partial().refine((function(e){return Object.values(e).some((function(e){return Boolean(e)}))}),{message:"Please fill at least one field",path:["oneFieldRequired"]});const Q=function(e){var t,i,o,m=e.patientUuid,A=e.closeWorkspace,v=(0,s.useTranslation)().t,b="tablet"===(0,c.useLayoutType)(),g=(0,c.useConfig)(),f=g.biometrics,C=g.vitals.useMuacColors,h=(0,c.useSession)(),y=(0,c.usePatient)(m),E=(0,c.useVisit)(m).currentVisit,w=(0,u.useVitalsConceptMetadata)(),B=w.data,I=w.conceptMetadata,x=w.conceptRanges,k=T((0,n.useState)(!1),2),U=k[0],D=k[1],R=T((0,n.useState)(!1),2),P=R[0],F=R[1],S=T((0,n.useState)(""),2),N=S[0],G=S[1],q=T((0,n.useState)(!1),2),H=q[0],z=q[1],V=T((0,n.useState)(!1),2),J=V[0],Q=V[1],X=(0,r.cI)({mode:"all",resolver:(0,l.F)(W)}),O=X.control,K=X.handleSubmit,Y=X.watch,Z=X.setValue,L=null==E||null===(i=E.encounters)||void 0===i||null===(t=i.find((function(e){var t;return(null==e||null===(t=e.form)||void 0===t?void 0:t.uuid)===g.vitals.formUuid})))||void 0===t?void 0:t.uuid,$=Y("midUpperArmCircumference"),ee=Y("systolicBloodPressure"),te=Y("diastolicBloodPressure"),ie=Y("respiratoryRate"),ne=Y("oxygenSaturation"),ae=Y("temperature"),re=Y("pulse"),se=Y("weight"),oe=Y("height");(0,n.useEffect)((function(){var e,t,i;!function(e,t,i){switch(!0){case e<=5&&t<=11.5&&t>0:i("red");break;case e<5&&t>11.5&&t<12.5:i("yellow");break;case e<5&&t>12.5:i("green");break;case e>5&&e<10&&t<=13.5&&t>0:i("red");break;case e>5&&e<10&&t>13.5&&t<14.5:i("yellow");break;case e>5&&e<10&&t>14.5:i("green");break;case e>10&&e<18&&t<=16.5&&t>0:i("red");break;case e>10&&e<18&&t>16.5&&t<19:i("yellow");break;case e>10&&e<18&&t>19:i("green");break;case e>18&&t<=19.5&&t>0:i("red");break;case e>18&&t>19&&t<22:i("yellow");break;case e>18&&t>22:i("green")}}((t=(0,c.age)(null===(e=y.patient)||void 0===e?void 0:e.birthDate),i=t.match(/\d+/g),i?parseInt(i[0],10):null),$,G)}),[Y,null===(o=y.patient)||void 0===o?void 0:o.birthDate,$]),(0,n.useEffect)((function(){if(oe&&se){var e=function(e,t){if(e&&t)return e>0&&t>0?Number((e/Math.pow(t/100,2)).toFixed(1)):void 0}(se,oe);Z("computedBodyMassIndex",e)}}),[se,oe,Z]);var le,_e,ce,ue,me,Ae,pe,de,ve,be=(0,n.useMemo)((function(){return{midUpperArmCircumferenceRange:x.get(g.concepts.midUpperArmCircumferenceUuid),diastolicBloodPressureRange:x.get(g.concepts.diastolicBloodPressureUuid),systolicBloodPressureRange:x.get(g.concepts.systolicBloodPressureUuid),oxygenSaturationRange:x.get(g.concepts.oxygenSaturationUuid),respiratoryRateRange:x.get(g.concepts.respiratoryRateUuid),temperatureRange:x.get(g.concepts.temperatureUuid),weightRange:x.get(g.concepts.weightUuid),heightRange:x.get(g.concepts.heightUuid),pulseRange:x.get(g.concepts.pulseUuid)}}),[x,g.concepts.diastolicBloodPressureUuid,g.concepts.heightUuid,g.concepts.midUpperArmCircumferenceUuid,g.concepts.oxygenSaturationUuid,g.concepts.pulseUuid,g.concepts.respiratoryRateUuid,g.concepts.systolicBloodPressureUuid,g.concepts.temperatureUuid,g.concepts.weightUuid]),ge=(0,n.useCallback)((function(e){var t=e;Q(!0),z(!1),(null==e?void 0:e.computedBodyMassIndex)&&delete e.computedBodyMassIndex;var i=Object.entries(t).filter((function(e){var t=T(e,2)[1];return Boolean(t)})).every((function(e){var t=T(e,2),i=t[0],n=t[1];return p(I,g.concepts["".concat(i,"Uuid")],n)}));if(i){var n;F(!0),Q(!1);var a=new AbortController;(0,d.F9)(g.vitals.encounterTypeUuid,g.vitals.formUuid,g.concepts,m,t,new Date,a,null==h||null===(n=h.sessionLocation)||void 0===n?void 0:n.uuid).then((function(e){201===e.status&&((0,d.$2)(),A(),(0,c.showToast)({critical:!0,kind:"success",title:v("vitalsAndBiometricsRecorded","Vitals and Biometrics saved"),description:v("vitalsAndBiometricsNowAvailable","They are now visible on the Vitals and Biometrics page")}))})).catch((function(e){F(!1),(0,c.createErrorHandler)(),(0,c.showNotification)({title:v("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),kind:"error",critical:!0,description:v("checkForValidity","Some of the values entered are invalid")})})).finally((function(){a.abort()}))}else D(!0)}),[]);return g.vitals.useFormEngine?a().createElement(c.ExtensionSlot,{name:"form-widget-slot",state:{view:"form",formUuid:g.vitals.formUuid,visitUuid:null==E?void 0:E.uuid,visitTypeUuid:null==E||null===(le=E.visitType)||void 0===le?void 0:le.uuid,patientUuid:null!=m?m:null,patient:y,encounterUuid:L,closeWorkspace:A}}):a().createElement(_.l09,{className:j.form},a().createElement("div",{className:j.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:j.title},v("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:j.row},a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{id:"temperature",max:be.temperatureRange.highAbsolute,min:be.temperatureRange.lowAbsolute,name:v("temperature","Temperature"),type:"number"}],interpretation:ae&&(0,d.wA)(ae,(0,d.tQ)(g.concepts.temperatureUuid,I)),isValueWithinReferenceRange:!ae||p(I,g.concepts.temperatureUuid,ae),showErrorMessage:J,label:v("temperature","Temperature"),unitSymbol:null!==(_e=B.get(g.concepts.temperatureUuid))&&void 0!==_e?_e:""})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("systolic","systolic"),separator:"/",type:"number",min:be.systolicBloodPressureRange.lowAbsolute,max:be.systolicBloodPressureRange.highAbsolute,id:"systolicBloodPressure"},{name:v("diastolic","diastolic"),type:"number",min:be.diastolicBloodPressureRange.lowAbsolute,max:be.diastolicBloodPressureRange.highAbsolute,id:"diastolicBloodPressure"}],interpretation:ee&&te&&(0,d.WK)(ee,te,g.concepts,I),isValueWithinReferenceRange:ee&&te&&p(I,g.concepts.systolicBloodPressureUuid,ee)&&p(I,g.concepts.diastolicBloodPressureUuid,te),label:v("bloodPressure","Blood pressure"),unitSymbol:null!==(ce=B.get(g.concepts.systolicBloodPressureUuid))&&void 0!==ce?ce:""})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("pulse","Pulse"),type:"number",min:be.pulseRange.lowAbsolute,max:be.pulseRange.highAbsolute,id:"pulse"}],interpretation:re&&(0,d.wA)(re,(0,d.tQ)(g.concepts.pulseUuid,I)),isValueWithinReferenceRange:re&&p(I,g.concepts.pulseUuid,re),label:v("heartRate","Heart rate"),unitSymbol:null!==(ue=B.get(g.concepts.pulseUuid))&&void 0!==ue?ue:""})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("respirationRate","Respiration rate"),type:"number",min:be.respiratoryRateRange.lowAbsolute,max:be.respiratoryRateRange.highAbsolute,id:"respiratoryRate"}],interpretation:ie&&(0,d.wA)(ie,(0,d.tQ)(g.concepts.respiratoryRateUuid,I)),isValueWithinReferenceRange:ie&&p(I,g.concepts.respiratoryRateUuid,ie),showErrorMessage:J,label:v("respirationRate","Respiration rate"),unitSymbol:null!==(me=B.get(g.concepts.respiratoryRateUuid))&&void 0!==me?me:""})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("oxygenSaturation","Oxygen saturation"),type:"number",min:be.oxygenSaturationRange.lowAbsolute,max:be.oxygenSaturationRange.highAbsolute,id:"oxygenSaturation"}],interpretation:ne&&(0,d.wA)(ne,(0,d.tQ)(g.concepts.oxygenSaturationUuid,I)),isValueWithinReferenceRange:ne&&p(I,g.concepts.oxygenSaturationUuid,ne),showErrorMessage:J,label:v("spo2","SpO2"),unitSymbol:null!==(Ae=B.get(g.concepts.oxygenSaturationUuid))&&void 0!==Ae?Ae:""}))),a().createElement(_.X2j,{className:j.row},a().createElement(_.sgG,{className:j.noteInput},a().createElement(M,{control:O,fieldWidth:b?"70%":"100%",fieldProperties:[{name:v("notes","Notes"),type:"textarea",id:"generalPatientNote"}],placeholder:v("additionalNoteText","Type any additional notes here"),label:v("notes","Notes")})))),a().createElement(_.Kqy,{className:j.spacer},a().createElement(_.sgG,null,a().createElement("p",{className:j.title},v("recordBiometrics","Record biometrics"))),a().createElement(_.X2j,{className:j.row},a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("weight","Weight"),type:"number",min:be.weightRange.lowAbsolute,max:be.weightRange.highAbsolute,id:"weight"}],interpretation:se&&(0,d.wA)(se,(0,d.tQ)(g.concepts.weightUuid,I)),isValueWithinReferenceRange:oe&&p(I,g.concepts.weightUuid,se),showErrorMessage:J,label:v("weight","Weight"),unitSymbol:null!==(pe=B.get(g.concepts.weightUuid))&&void 0!==pe?pe:""})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("height","Height"),type:"number",min:be.heightRange.lowAbsolute,max:be.heightRange.highAbsolute,id:"height"}],interpretation:oe&&(0,d.wA)(oe,(0,d.tQ)(g.concepts.heightUuid,I)),isValueWithinReferenceRange:se&&p(I,g.concepts.heightUuid,oe),showErrorMessage:J,label:v("height","Height"),unitSymbol:null!==(de=B.get(g.concepts.heightUuid))&&void 0!==de?de:""})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("bmi","BMI"),type:"number",id:"computedBodyMassIndex"}],readOnly:!0,label:v("calculatedBmi","BMI (calc.)"),unitSymbol:f.bmiUnit})),a().createElement(_.sgG,null,a().createElement(M,{control:O,fieldProperties:[{name:v("muac","MUAC"),type:"number",min:be.midUpperArmCircumferenceRange.lowAbsolute,max:be.midUpperArmCircumferenceRange.highAbsolute,id:"midUpperArmCircumference"}],muacColorCode:N,isValueWithinReferenceRange:oe&&se&&p(I,g.concepts.midUpperArmCircumferenceUuid,$),showErrorMessage:J,label:v("muac","MUAC"),unitSymbol:null!==(ve=B.get(g.concepts.midUpperArmCircumferenceUuid))&&void 0!==ve?ve:"",useMuacColors:C}))))),H&&a().createElement(_.sgG,{className:j.errorContainer},a().createElement(_.K0D,{lowContrast:!0,title:v("error","Error"),subtitle:v("pleaseFillField","Please fill at least one field")+".",onClose:function(){return z(!1)}})),U&&a().createElement(_.sgG,{className:j.errorContainer},a().createElement(_.K0D,{className:j.errorNotification,lowContrast:!1,title:v("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),subtitle:v("checkForValidity","Some of the values entered are invalid")})),a().createElement(_.uVA,{className:b?j.tablet:j.desktop},a().createElement(_.zxk,{className:j.button,kind:"secondary",onClick:function(){return A()}},v("discard","Discard")),a().createElement(_.zxk,{className:j.button,kind:"primary",onClick:K(ge,(function(e){(null==e?void 0:e.oneFieldRequired)&&z(!0)})),disabled:P,type:"submit"},v("saveAndClose","Save and close"))))}}}]);