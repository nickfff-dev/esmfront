(globalThis.webpackChunk_openmrs_esm_patient_notes_app=globalThis.webpackChunk_openmrs_esm_patient_notes_app||[]).push([[487],{5739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(272),o=n.n(r),i=n(2609),s=n.n(i)()(o());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-notes__notes-overview__widgetCard___birMz{border:1px solid #e0e0e0}.-esm-patient-notes__notes-overview__expandedRow___v_Gc7>td{padding-left:2.5rem !important}.-esm-patient-notes__notes-overview__expandedRow___v_Gc7>td>div{max-height:max-content !important}.-esm-patient-notes__notes-overview__expandedRow___v_Gc7 th[colspan] td[colspan]>div:first-child{padding:0 1rem}.-esm-patient-notes__notes-overview__copy___ZJPsO{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);display:flex;flex-direction:column}.-esm-patient-notes__notes-overview__container___n8apy{margin:.5rem}.-esm-patient-notes__notes-overview__metadata___sFTBw{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252;margin:.5rem 0}.-esm-patient-notes__notes-overview__hiddenRow___zo2KM{display:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/notes/notes-overview.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wDACE,wBAAA,CAGF,4DACE,8BAAA,CAGF,gEACE,iCAAA,CAGF,iGACE,cAAA,CAGF,kDCszBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CDnzBF,YAAA,CACA,qBAAA,CAGF,uDACE,YAAA,CAGF,sDC2yBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDzyBF,aD5BQ,CC6BR,cAAA,CAGF,uDACE,YAAA",sourceRoot:""}]),s.locals={widgetCard:"-esm-patient-notes__notes-overview__widgetCard___birMz",expandedRow:"-esm-patient-notes__notes-overview__expandedRow___v_Gc7",copy:"-esm-patient-notes__notes-overview__copy___ZJPsO",container:"-esm-patient-notes__notes-overview__container___n8apy",metadata:"-esm-patient-notes__notes-overview__metadata___sFTBw",hiddenRow:"-esm-patient-notes__notes-overview__hiddenRow___zo2KM"};const a=s},6487:(e,t,n)=>{"use strict";n.r(t),n.d(t,{importTranslation:()=>X,notesOverview:()=>te,startupApp:()=>ee,visitNotesActionButton:()=>ne,visitNotesForm:()=>re});var r=n(2870),o={visitNoteConfig:{clinicianEncounterRole:{_type:r.Type.UUID,_default:"240b26f9-dd88-4172-823d-4a8bfeb7841f"},visitDiagnosesConceptUuid:{_type:r.Type.ConceptUuid,_default:"159947AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},encounterNoteTextConceptUuid:{_type:r.Type.ConceptUuid,_default:"162169AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},encounterTypeUuid:{_type:r.Type.UUID,_default:"d7151f82-c1f3-4152-a605-2f9ea7414a79"},formConceptUuid:{_type:r.Type.ConceptUuid,_default:"c75f120a-04ec-11e3-8780-2b40bef9a44b"}}},i=n(268),s=n.n(i),a=n(4924),c=n(3203),u=n(8871),l=n(4556),p=n(3685),d=n(2779),f=n.n(d),h=n(5598),b=n(9523),v=n(4310);const y=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var a=i[++r];if(!1===t(o[a],a,o))break}return e};var _=n(4753);var m=n(3282);const A=(g=function(e,t){return e&&y(e,t,_.Z)},function(e,t){if(null==e)return e;if(!(0,m.Z)(e))return g(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e});var g;var w=n(3225),E=n(2758);const O=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=(0,E.Z)(e),s=void 0!==t,a=null===t,c=t==t,u=(0,E.Z)(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0};var S=n(9930),C=n(7885);const D=function(e,t,n){t=t.length?(0,h.Z)(t,(function(e){return(0,C.Z)(e)?function(t){return(0,b.Z)(t,1===e.length?e[0]:e)}:e})):[S.Z];var r=-1;t=(0,h.Z)(t,(0,w.Z)(v.Z));var o=function(e,t){var n=-1,r=(0,m.Z)(e)?Array(e.length):[];return A(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}(e,(function(e,n,o){return{criteria:(0,h.Z)(t,(function(t){return t(e)})),index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=O(o[r],i[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},P=function(e,t,n,r){return null==e?[]:((0,C.Z)(t)||(t=null==t?[]:[t]),n=r?void 0:n,(0,C.Z)(n)||(n=null==n?[]:[n]),D(e,t,n))};var T=n(1354),j=n.n(T),x=n(1583),k=n.n(x),N=n(7378),U=n.n(N),R=n(5993),F=n.n(R),Z=n(4154),z=n.n(Z),B=n(8141),L=n.n(B),H=n(5739),I={};I.styleTagTransform=L(),I.setAttributes=F(),I.insert=U().bind(null,"head"),I.domAPI=k(),I.insertStyleElement=z(),j()(H.Z,I);const V=H.Z&&H.Z.locals?H.Z.locals:void 0;function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}const W=function(e){var t,n,o=e.notes,u=e.pageSize,p=e.pageUrl,d=e.urlLabel,h=(0,a.useTranslation)().t,b="tablet"===(0,r.useLayoutType)(),v=(t=(0,i.useState)({key:"",order:"none"}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],_=v[1],m=[{key:"encounterDate",header:h("date","Date")},{key:"diagnoses",header:h("diagnoses","Diagnoses")}],A=y.key,g=y.order,w="encounterDate"===A?function(e,t){return P(e,[function(e){return new Date(e.encounterDate).getTime()}],"ASC"===t?["desc"]:["asc"])}(o,g):P(o,[A],"DESC"===g?["desc"]:["asc"]),E=(0,r.usePagination)(w,u),O=E.results,S=E.goTo,C=E.currentPage,D=s().useMemo((function(){return null==O?void 0:O.map((function(e){return t=q({},e),n=null!=(n={id:"".concat(e.id),encounterDate:(0,r.formatDate)((0,r.parseDate)(e.encounterDate),{mode:"wide"}),diagnoses:e.diagnoses?e.diagnoses:"--"})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n}))}),[O]);return s().createElement(s().Fragment,null,s().createElement(c.wQF,{rows:D,sortRow:function(e,t,n){var r=n.sortDirection,o=(n.sortStates,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["sortDirection","sortStates"]).key);_({key:o,order:r})},headers:m,isSortable:!0,size:b?"lg":"sm",useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,o=e.getExpandHeaderProps,i=e.getTableProps,a=e.getTableContainerProps,u=e.getHeaderProps,l=e.getRowProps;return s().createElement(c.xJi,a,s().createElement(c.iA_,i(),s().createElement(c.ssF,null,s().createElement(c.SCH,null,s().createElement(c.MOD,q({enableToggle:!0},o())),n.map((function(e,t){return s().createElement(c.xDH,q({key:t,className:f()(V.productiveHeading01,V.text02)},u({header:e})),e.header)})))),s().createElement(c.RMI,null,t.map((function(e,t){var o,i,a,u,p;return s().createElement(s().Fragment,{key:e.id},s().createElement(c.RcE,l({row:e}),e.cells.map((function(e){return s().createElement(c.pj1,{key:e.id},e.value)}))),e.isExpanded?s().createElement(c.WdL,{className:V.expandedRow,colSpan:n.length+1},s().createElement("div",{className:V.container,key:t},(null==D||null===(o=D[t])||void 0===o?void 0:o.encounterNote)?s().createElement("div",{className:V.copy},s().createElement("span",{className:V.content},null==D||null===(i=D[t])||void 0===i?void 0:i.encounterNote),s().createElement("span",{className:V.metadata},(0,r.formatTime)(new Date(null==D||null===(a=D[t])||void 0===a?void 0:a.encounterNoteRecordedAt))," Â·"," ",null==D||null===(u=D[t])||void 0===u?void 0:u.encounterProvider,", ",null==D||null===(p=D[t])||void 0===p?void 0:p.encounterProviderRole)):s().createElement("span",{className:V.copy},h("noVisitNoteToDisplay","No visit note to display")))):s().createElement(c.WdL,{className:V.hiddenRow,colSpan:n.length+2}))})))))})),s().createElement(l.PatientChartPagination,{pageNumber:C,totalItems:o.length,currentItems:O.length,pageSize:u,onPageNumberChange:function(e){var t=e.page;return S(t)},dashboardLinkUrl:p,dashboardLinkLabel:d}))};function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=function(e){var t=e.patientUuid,n=e.pageSize,o=e.urlLabel,i=e.pageUrl,d=(0,a.useTranslation)().t,f=(0,r.useVisit)(t).currentVisit,h=d("visitNotes","Visit notes"),b=d("visitNotes","Visit notes"),v=(0,p.q6)(t),y=v.visitNotes,_=v.isError,m=v.isLoading,A=v.isValidating,g=(0,r.useLayoutType)(),w="large-desktop"===g||"small-desktop"===g,E=s().useCallback((function(){f?(0,l.launchPatientWorkspace)("visit-notes-form-workspace"):(0,l.launchStartVisitPrompt)()}),[f]);return m?s().createElement(c.gqd,{role:"progressbar",compact:w,zebra:!0}):_?s().createElement(l.ErrorState,{error:_,headerTitle:b}):(null==y?void 0:y.length)?s().createElement("div",{className:V.widgetCard},s().createElement(l.CardHeader,{title:b},s().createElement("span",null,A?s().createElement(c.lSo,null):null),s().createElement(c.zxk,{kind:"ghost",renderIcon:function(e){return s().createElement(u.mm,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({size:16},e))},iconDescription:"Add visit note",onClick:E},d("add","Add"))),s().createElement(W,{notes:y,pageSize:n,urlLabel:o,pageUrl:i})):s().createElement(l.EmptyState,{displayText:h,headerTitle:b,launchForm:E})};var K=n(3689);var Q="@openmrs/esm-patient-notes-app",$={featureName:"patient-notes",moduleName:Q},X=n(3979);function ee(){(0,r.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/rest/v1/encounter.+"}),(0,r.defineConfigSchema)(Q,o)}var te=(0,r.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.patient,r=(e.basePath,(0,a.useTranslation)().t),o="${openmrsSpaBase}/patient/".concat(n.id,"/chart/Forms & Notes"),i=r("seeAll","See all");return s().createElement(J,{patientUuid:t,pageSize:5,urlLabel:i,pageUrl:o})}),$),ne=(0,r.getSyncLifecycle)((function(){var e=(0,a.useTranslation)().t,t=(0,i.useCallback)((function(){return(0,l.launchPatientWorkspace)("visit-notes-form-workspace")}),[]);return s().createElement(l.SiderailNavButton,{name:"visit-note-nav-button",getIcon:function(e){return s().createElement(K.Gm,e)},label:e("visitNote","Visit note"),iconDescription:e("note","Note"),handler:t,type:"visit-note"})}),$),re=(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(271),n.e(743)]).then(n.bind(n,5743))}),$)},3685:(e,t,n)=>{"use strict";n.d(t,{Ti:()=>w,BH:()=>O,aH:()=>E,q6:()=>g});var r=n(3255),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)};function i(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e){return"function"==typeof e}var a=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function u(e){setTimeout((function(){throw e}),0)}var l={closed:!0,next:function(e){},error:function(e){if(c.useDeprecatedSynchronousErrorHandling)throw e;u(e)},complete:function(){}},p=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}(),d=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),f=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,r=this,o=r._parentOrParents,i=r._ctorUnsubscribe,a=r._unsubscribe,c=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof e)o.remove(this);else if(null!==o)for(var u=0;u<o.length;++u)o[u].remove(this);if(s(a)){i&&(this._unsubscribe=void 0);try{a.call(this)}catch(e){t=e instanceof d?h(e.errors):[e]}}if(p(c)){u=-1;for(var l=c.length;++u<l;){var f=c[u];if(null!==(n=f)&&"object"==typeof n)try{f.unsubscribe()}catch(e){t=t||[],e instanceof d?t=t.concat(h(e.errors)):t.push(e)}}}if(t)throw new d(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function h(e){return e.reduce((function(e,t){return e.concat(t instanceof d?t.errors:t)}),[])}var b=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),v=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=l;break;case 1:if(!n){i.destination=l;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new y(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new y(i,n,r,o)}return i}return i(t,e),t.prototype[b]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(f),y=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var c=a;return s(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==l&&(s((c=Object.create(n)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=i,a._error=r,a._complete=o,a}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw e;u(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(u(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(v),_=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new m(e,this.project,this.thisArg))},e}(),m=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(v),A=n(2870);function g(e){var t,n,o,i=(0,A.useConfig)().visitNoteConfig,s=i.encounterNoteTextConceptUuid,a=i.visitDiagnosesConceptUuid,c="/ws/rest/v1/encounter?patient=".concat(e,"&obs=").concat(a,"&v=").concat("custom:(uuid,display,encounterDatetime,patient,obs,encounterProviders:(uuid,display,encounterRole:(uuid,display),provider:(uuid,person:(uuid,display))),diagnoses"),u=(0,r.ZP)(c,A.openmrsFetch),l=u.data,p=u.error,d=u.isLoading,f=u.isValidating,h=u.mutate,b=null==l||null===(o=l.data)||void 0===o||null===(n=o.results)||void 0===n||null===(t=n.map((function(e,t){var n,r,o,i,a,c,u;return{id:"".concat(t),diagnoses:e.diagnoses.map((function(e){return e.display})).filter((function(e){return e})).join(", "),encounterDate:e.encounterDatetime,encounterNote:null===(n=e.obs.find((function(e){return e.concept.uuid===s})))||void 0===n?void 0:n.value,encounterNoteRecordedAt:null===(r=e.obs.find((function(e){return e.concept.uuid===s})))||void 0===r?void 0:r.obsDatetime,encounterProvider:null==e||null===(a=e.encounterProviders[0])||void 0===a||null===(i=a.provider)||void 0===i||null===(o=i.person)||void 0===o?void 0:o.display,encounterProviderRole:null==e||null===(u=e.encounterProviders[0])||void 0===u||null===(c=u.encounterRole)||void 0===c?void 0:c.display}})))||void 0===t?void 0:t.sort((function(e,t){return new Date(t.encounterDate).getTime()-new Date(e.encounterDate).getTime()}));return{visitNotes:l?b:null,isError:p,isLoading:d,isValidating:f,mutateVisitNotes:h}}function w(e){return(0,A.openmrsObservableFetch)("/ws/rest/v1/concept?q=".concat(e,"&searchType=fuzzy&class=8d4918b0-c2cc-11de-8d13-0010c6dffd0f&q=&v=custom:(uuid,display)")).pipe((t=function(e){return e.data.results},function(e){return e.lift(new _(t,undefined))}));var t}function E(e,t){return(0,A.openmrsFetch)("/ws/rest/v1/encounter",{headers:{"Content-Type":"application/json"},method:"POST",body:t,signal:e.signal})}function O(e,t){return(0,A.openmrsFetch)("/ws/rest/v1/patientdiagnoses",{headers:{"Content-Type":"application/json"},method:"POST",body:t})}},3979:(e,t,n)=>{var r={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=3979,e.exports=o}}]);